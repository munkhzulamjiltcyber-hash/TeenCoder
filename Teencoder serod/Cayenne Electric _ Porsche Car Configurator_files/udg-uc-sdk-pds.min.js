/*!
 * udg-uc-sdk-pds - V 2.11.4
 *
 */(()=>{var e={68:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var i=n(539),s=function(e){var t,n,s,r,o=e.customization;this.accept={backgroundColor:(0,i.an)(null===(t=null==o?void 0:o.color)||void 0===t?void 0:t.acceptBtnBackground),textColor:(0,i.an)(null===(n=null==o?void 0:o.color)||void 0===n?void 0:n.acceptBtnText)},this.deny={backgroundColor:(0,i.an)(null===(s=null==o?void 0:o.color)||void 0===s?void 0:s.denyBtnBackground),textColor:(0,i.an)(null===(r=null==o?void 0:o.color)||void 0===r?void 0:r.denyBtnText)}}},112:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(539),s=n(362),r=n(839),o=function(e){function t(t,n){var o,a,c=this;c=e.call(this,t,n)||this;var u=n.customization;return c.buttons=(0,i.p)((0,i.p)({},new s.B(n)),{ok:{backgroundColor:(0,i.an)(null===(o=null==u?void 0:u.color)||void 0===o?void 0:o.ccpaButtonColor),textColor:(0,i.an)(null===(a=null==u?void 0:u.color)||void 0===a?void 0:a.ccpaButtonTextColor)},optOutNotice:{isHidden:n.ccpa.removeDoNotSellToggle,label:n.ccpa.optOutNoticeLabel||"Do not sell my personal information"}}),c.firstLayer=(0,i.p)((0,i.p)((0,i.p)({},new s.F(n)),new r.F(n)),{hideToggles:!0,isLanguageSelectorEnabled:!(0,i.ao)(n.ccpa.firstLayerHideLanguageSwitch,!n.showLanguageDropdown),showShortDescriptionOnDesktop:!0===n.ccpa.firstLayerUseShortMessage,showShortDescriptionOnMobile:n.ccpa.firstLayerMobileDescriptionIsActive,variant:n.ccpa.firstLayerVariant||"BANNER"}),c.secondLayer=(0,i.p)((0,i.p)({},new r.S((0,i.p)((0,i.p)({},n),{secondLayer:(0,i.p)((0,i.p)({},n.secondLayer),{hideDataProcessingServices:!1})}))),{dpsDisplayFormat:n.dpsDisplayFormat||i.ap.ALL,hideToggles:!0,isLanguageSelectorEnabled:!(0,i.ao)(n.ccpa.secondLayerHideLanguageSwitch,!n.showLanguageDropdown),side:n.ccpa.secondLayerSide||"LEFT",variant:n.ccpa.secondLayerVariant||"CENTER"}),c}return(0,i._)(t,e),t}(s.C)},362:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,C:()=>o,F:()=>a});var i=n(539),s=function(e){var t=e.customization;this.alignment=(null==t?void 0:t.buttonAlignment)||i.aq.HORIZONTAL,this.borderRadius=(0,i.ar)((0,i.P)(null==t?void 0:t.borderRadiusButton,"4px")),this.secondLayer=e.moreInfoButtonUrl.length>0?e.moreInfoButtonUrl:null},r="#ffffff",o=function(e,t){var n,s,o,a,c,u,l,d,h,p,g,f,v,S,E,m,y,I=t.customization;this.customCss=(null===(n=t.features)||void 0===n?void 0:n.customCss)&&t.useUnsafeCustomCss&&null!=t.stylesCss?t.stylesCss:null,this.enablePrivacyButton=e.privacyButtonIsVisible,this.font={family:(0,i.P)(null===(s=null==I?void 0:I.font)||void 0===s?void 0:s.family,"BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Oxygen-Sans, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, Helvetica, Arial, sans-serif"),size:(0,i.P)(null===(o=null==I?void 0:I.font)||void 0===o?void 0:o.size,14)},this.layer={backgroundColor:(0,i.P)((0,i.an)(null===(a=null==I?void 0:I.color)||void 0===a?void 0:a.layerBackground),"#ffffff"),borderRadius:(0,i.ar)((0,i.P)(null==I?void 0:I.borderRadiusLayer,"8px"))},this.links={fontColor:(0,i.P)((0,i.an)(null===(c=null==I?void 0:I.color)||void 0===c?void 0:c.linkFont),"#303030"),iconColor:(0,i.P)((0,i.an)(null===(u=null==I?void 0:I.color)||void 0===u?void 0:u.linkIcon),"#595959")},this.logo={altTag:(0,i.P)(null==I?void 0:I.logoAltTag,null),position:(0,i.as)(t.firstLayer.logoPosition),url:(0,i.P)(null==I?void 0:I.logoUrl,null)},this.overlay={backgroundColor:(0,i.P)((0,i.an)(null===(l=null==I?void 0:I.color)||void 0===l?void 0:l.overlay),"#333"),opacity:(0,i.P)(null==I?void 0:I.overlayOpacity,.7)},this.poweredBy=t.enablePoweredBy?{partnerUrl:t.partnerPoweredByUrl||null,url:(0,i.at)()}:null,this.privacyButtonUrls=e.privacyButtonUrls,this.primaryColor=(0,i.P)((0,i.an)(null===(d=null==I?void 0:I.color)||void 0===d?void 0:d.primary),"#0045A5"),this.accentColor=(0,i.P)((0,i.an)(null===(h=null==I?void 0:I.color)||void 0===h?void 0:h.tabsBorderColor),"#DDDDDD"),this.showCookieInformation=t.showCookieInformation,this.textColor=(0,i.P)((0,i.an)(null===(p=null==I?void 0:I.color)||void 0===p?void 0:p.text),"#303030"),this.theme=1,this.toggle={active:{backgroundColor:(0,i.P)((0,i.an)(null===(g=null==I?void 0:I.color)||void 0===g?void 0:g.toggleActiveBackground)||(0,i.an)(null===(f=null==I?void 0:I.color)||void 0===f?void 0:f.primary),"#336AB7"),iconColor:(0,i.P)((0,i.an)(null===(v=null==I?void 0:I.color)||void 0===v?void 0:v.toggleActiveIcon),r)},disabled:{backgroundColor:(0,i.P)((0,i.an)(null===(S=null==I?void 0:I.color)||void 0===S?void 0:S.toggleDisabledBackground),"#dedede"),iconColor:(0,i.P)((0,i.an)(null===(E=null==I?void 0:I.color)||void 0===E?void 0:E.toggleDisabledIcon),r)},inactive:{backgroundColor:(0,i.P)((0,i.an)(null===(m=null==I?void 0:I.color)||void 0===m?void 0:m.toggleInactiveBackground),"#595959"),iconColor:(0,i.P)((0,i.an)(null===(y=null==I?void 0:I.color)||void 0===y?void 0:y.toggleInactiveIcon),r)}},this.useBackgroundShadow=(0,i.P)(null==I?void 0:I.useBackgroundShadow,!0)},a=function(e){this.secondLayerTrigger=(0,i.P)(e.firstLayer.secondLayerTrigger,i.au.LINK)}},379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var i,s,r=n(539),o=n(559);function a(e,t){return Object.keys(t).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),e}function c(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var u={},l={};c(l,"TCFCommand",function(){return h});var d,h=((d={}).PING="ping",d.GET_TC_DATA="getTCData",d.GET_IN_APP_TC_DATA="getInAppTCData",d.GET_VENDOR_LIST="getVendorList",d.ADD_EVENT_LISTENER="addEventListener",d.REMOVE_EVENT_LISTENER="removeEventListener",d);a(u,l),a(u,{});var p={},g={};c(g,"InAppTCData",function(){return D});var f={};c(f,"TCData",function(){return N}),c({},"CmpApiModel",function(){return _});var v={},S={};c(S,"CmpStatus",function(){return E});var E=function(e){return e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e}({}),m={};c(m,"DisplayStatus",function(){return y});var y=function(e){return e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled",e}({}),I={};c(I,"EventStatus",function(){return C});var C=function(e){return e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete",e}({});a(v,S),a(v,m),a(v,I);var T=(0,r.t)(function e(t,n,i,s){(0,r.u)(this,e),this.success=!0,Object.assign(this,{callback:t,listenerId:i,param:n,next:s});try{this.respond()}catch(e){this.invokeCallback(null)}},[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}]),A=function(){function e(){return(0,r.u)(this,e),(0,r.B)(this,e,arguments)}return(0,r.r)(e,T),(0,r.t)(e,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new N(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}])}(),b=(0,r.t)(function e(){(0,r.u)(this,e),this.eventQueue=new Map,this.queueNumber=0},[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach(function(e,t){new A(e.callback,e.param,t,e.next)})}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),_=(0,r.t)(function e(){(0,r.u)(this,e)},null,[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.enableAdvertiserConsentMode=!1,this.addtlConsent="",this.cmpStatus=E.LOADING,this.disabled=!1,this.displayStatus=y.HIDDEN,this.eventQueue.clear()}}]);(i=_).apiVersion="2",i.eventQueue=new b,i.cmpStatus=E.LOADING,i.disabled=!1,i.displayStatus=y.HIDDEN,i.enableAdvertiserConsentMode=!1,i.addtlConsent="";var w={};c(w,"Response",function(){return O});var O=(0,r.t)(function e(){(0,r.u)(this,e),this.cmpId=_.cmpId,this.cmpVersion=_.cmpVersion,this.gdprApplies=_.gdprApplies,this.tcfPolicyVersion=_.tcfPolicyVersion}),N=function(){function e(t,n){var i;if((0,r.u)(this,e),(i=(0,r.B)(this,e)).eventStatus=_.eventStatus,i.cmpStatus=_.cmpStatus,i.listenerId=n,_.gdprApplies){var s=_.tcModel;i.tcString=_.tcString,i.addtlConsent=s.addtlConsent,i.enableAdvertiserConsentMode=s.enableAdvertiserConsentMode,i.isServiceSpecific=s.isServiceSpecific,i.useNonStandardTexts=s.useNonStandardTexts,i.purposeOneTreatment=s.purposeOneTreatment,i.publisherCC=s.publisherCountryCode,i.outOfBand={allowedVendors:i.createVectorField(s.vendorsAllowed,t),disclosedVendors:i.createVectorField(s.vendorsDisclosed,t)},i.purpose={consents:i.createVectorField(s.purposeConsents),legitimateInterests:i.createVectorField(s.purposeLegitimateInterests)},i.vendor={consents:i.createVectorField(s.vendorConsents,t),legitimateInterests:i.createVectorField(s.vendorLegitimateInterests,t)},i.specialFeatureOptins=i.createVectorField(s.specialFeatureOptins),i.publisher={consents:i.createVectorField(s.publisherConsents),legitimateInterests:i.createVectorField(s.publisherLegitimateInterests),customPurpose:{consents:i.createVectorField(s.publisherCustomConsents),legitimateInterests:i.createVectorField(s.publisherCustomLegitimateInterests)},restrictions:i.createRestrictions(s.publisherRestrictions)}}return i}return(0,r.r)(e,O),(0,r.t)(e,[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=e.getMaxVendorId(),i=function(){var n=s.toString();e.getRestrictions(s).forEach(function(e){var i=e.purposeId.toString();t[i]||(t[i]={}),t[i][n]=e.restrictionType})},s=1;s<=n;s++)i();return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce(function(t,n){return t[String(n)]=e.has(Number(n)),t},{}):(0,r.w)(e).reduce(function(e,t){return e[t[0].toString(10)]=t[1],e},{})}}])}(),D=function(){function e(t){var n;return(0,r.u)(this,e),delete(n=(0,r.B)(this,e,[t])).outOfBand,n}return(0,r.r)(e,N),(0,r.t)(e,[{key:"createVectorField",value:function(e){return(0,r.w)(e).reduce(function(e,t){return e+(t[1]?"1":"0")},"")}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=e.getMaxVendorId();e.getRestrictions().forEach(function(e){t[e.purposeId.toString()]="_".repeat(n)});for(var i=function(n){var i=n+1;e.getRestrictions(i).forEach(function(e){var i=e.restrictionType.toString(),s=e.purposeId.toString(),r=t[s].substr(0,n),o=t[s].substr(n+1);t[s]=r+i+o})},s=0;s<n;s++)i(s)}return t}}])}(),L={};c(L,"Ping",function(){return P});var P=function(){function e(){var t;return(0,r.u)(this,e),(t=(0,r.B)(this,e)).cmpLoaded=!0,t.cmpStatus=_.cmpStatus,t.displayStatus=_.displayStatus,t.apiVersion=String(_.apiVersion),_.tcModel&&_.tcModel.vendorListVersion&&(t.gvlVersion=+_.tcModel.vendorListVersion),t}return(0,r.r)(e,O),(0,r.t)(e)}();a(p,g),a(p,L),a(p,w),a(p,f),c({},"CmpApi",function(){return z});var R,V,k,U,M,x,F=function(){function e(){return(0,r.u)(this,e),(0,r.B)(this,e,arguments)}return(0,r.r)(e,T),(0,r.t)(e,[{key:"respond",value:function(){this.invokeCallback(new P)}}])}(),G=function(){function e(){return(0,r.u)(this,e),(0,r.B)(this,e,arguments)}return(0,r.r)(e,A),(0,r.t)(e,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new D(this.param))}}])}(),B=function(){function e(){return(0,r.u)(this,e),(0,r.B)(this,e,arguments)}return(0,r.r)(e,T),(0,r.t)(e,[{key:"respond",value:function(){var e,t=this,n=_.tcModel,i=n.vendorListVersion;void 0===this.param&&(this.param=i),(e=this.param===i&&n.gvl?n.gvl:new r.$(this.param)).readyPromise.then(function(){t.invokeCallback(e.getJson())})}}])}(),$=function(){function e(){return(0,r.u)(this,e),(0,r.B)(this,e,arguments)}return(0,r.r)(e,A),(0,r.t)(e,[{key:"respond",value:function(){this.listenerId=_.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),(0,r.x)(e,"respond",this,3)([])}}])}(),H=function(){function e(){return(0,r.u)(this,e),(0,r.B)(this,e,arguments)}return(0,r.r)(e,T),(0,r.t)(e,[{key:"respond",value:function(){this.invokeCallback(_.eventQueue.remove(this.param))}}])}(),j=(0,r.t)(function e(){(0,r.u)(this,e)});s=j,R=h.PING,V=h.GET_TC_DATA,k=h.GET_IN_APP_TC_DATA,U=h.GET_VENDOR_LIST,M=h.ADD_EVENT_LISTENER,x=h.REMOVE_EVENT_LISTENER,s[R]=F,s[V]=A,s[k]=G,s[U]=B,s[M]=$,s[x]=H;var q=function(){function e(){var t;(0,r.u)(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=(0,r.B)(this,e,[].concat(i))).cmpStatus=E.ERROR,t}return(0,r.r)(e,O),(0,r.t)(e)}(),W=(0,r.t)(function e(){(0,r.u)(this,e)},null,[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}]);W.set_=new Set([0,2,void 0,null]);var Y="__tcfapi",J=(0,r.t)(function e(t){if((0,r.u)(this,e),t){var n=h.ADD_EVENT_LISTENER;if(null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed: Use ").concat(h.GET_TC_DATA," instead"));if(n=h.REMOVE_EVENT_LISTENER,null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));null!=t&&t[h.GET_TC_DATA]&&(t[h.ADD_EVENT_LISTENER]=t[h.GET_TC_DATA],t[h.REMOVE_EVENT_LISTENER]=t[h.GET_TC_DATA]),this.customCommands=t}try{this.callQueue=window[Y]()||[]}catch(e){this.callQueue=[]}finally{window[Y]=this.apiCall.bind(this),this.purgeQueuedCalls()}},[{key:"apiCall",value:function(e,t,n){for(var i,s=arguments.length,r=new Array(s>3?s-3:0),o=3;o<s;o++)r[o-3]=arguments[o];if("string"!=typeof e)n(null,!1);else if(W.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");_.disabled?n(new q,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?(i=this.customCommands)[e].apply(i,[n].concat(r)):e===h.PING?this.isCustomCommand(e)?new j[e](this.customCommands[e],r[0],null,n):new j[e](n,r[0]):void 0===_.tcModel?this.callQueue.push([e,t,n].concat(r)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new j[e](this.customCommands[e],r[0],null,n):new j[e](n,r[0]):n(null,!1)}else n(null,!1)}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){var t;(t=window)[Y].apply(t,(0,r.w)(e))})}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==j[e]}}]),z=(0,r.t)(function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;(0,r.u)(this,e),this.numUpdates=0,this.throwIfInvalidInt(t,"cmpId",2),this.throwIfInvalidInt(n,"cmpVersion",0),_.cmpId=t,_.cmpVersion=n,_.tcfPolicyVersion=4,this.isServiceSpecific=!!i,this.callResponder=new J(s)},[{key:"throwIfInvalidInt",value:function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error("Invalid ".concat(t,": ").concat(e))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(_.disabled)throw new Error("CmpApi Disabled");_.cmpStatus=E.LOADED,t?(_.displayStatus=y.VISIBLE,_.eventStatus=C.CMP_UI_SHOWN):void 0===_.tcModel?(_.displayStatus=y.DISABLED,_.eventStatus=C.TC_LOADED):(_.displayStatus=y.HIDDEN,_.eventStatus=C.USER_ACTION_COMPLETE),_.gdprApplies=null!==e,_.gdprApplies?(""===e?(_.tcModel=new r.y,_.tcModel.cmpId=_.cmpId,_.tcModel.cmpVersion=_.cmpVersion):_.tcModel=r.z.decode(e),_.tcModel.addtlConsent=n||"",_.tcModel.enableAdvertiserConsentMode=_.enableAdvertiserConsentMode,_.tcModel.isServiceSpecific=this.isServiceSpecific,_.tcfPolicyVersion=Number(_.tcModel.policyVersion),_.tcString=e):_.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():_.eventQueue.exec(),this.numUpdates++}},{key:"disable",value:function(){_.disabled=!0,_.cmpStatus=E.ERROR}}]),K=function(e){function t(t,n,i,s,o,a,c,u){var l=e.call(this,i,o)||this;l.gcmEnabled=!1,l.policyVersion=5,l.locationInstance=r.H.getInstance(),l.botInstance=r.I.getInstance(),l.previousStorage=null,l.selectedVendorsIncludeNonDisclosed=!1,l.cmpApi={},l.tcModel=null,l.tcfData=null,l.vendors=[];var d=t.tcf2,h=d.acmV2Enabled,p=d.advertiserConsentModeEnabled,g=d.atpPurposes,f=d.changedPurposes,v=d.cmpId,S=d.cmpVersion,E=d.consensuDomain,m=d.consensuScriptPath,y=d.dataRetentionPeriodLabel,I=d.disabledSpecialFeatures,C=d.firstLayerHideToggles,T=d.gdprApplies,A=d.hideLegitimateInterestToggles,b=d.publisherCountryCode,_=d.purposeOneTreatment,w=d.secondLayerHideToggles,O=d.selectedStacks,N=d.selectedVendorIds,D=d.selectedATPIds,L=d.tcfv2HistoryDisabled,P=d.vendorIdsOutsideEUList,R=d.version,V=t.googleConsentMode;return l.acmData={isEnabled:!0===h,vendorIds:h&&D||[],vendorsPurposes:h&&g?(0,r.J)(g):[]},l.advertiserConsentModeEnabled=p,l.gcmEnabled=!0===V,l.changedPurposes=(0,r.K)(f),l.cmpId=v||5,l.cmpVersion=S||(0,r.M)(),l.policyVersion="2.0"===R||"2.1"===R?2:5,l.consensuScriptPath=(0,r.N)(m),l.consensuSubdomain=(0,r.O)(E),l.dataRetentionLabel=y,l.disabledSpecialFeatures=I||[],l.gdprApplies=(0,r.P)(T,!1),l.hideLegitimateInterestToggles=A,l.isAnalyticsEnabled=!0===t.consentAnalytics,l.isApiV2Enabled=!0===t.consentAPIv2,l.isConsentXDeviceEnabled=!0===t.consentXDevice,l.publisherCountryCode=b||"DE",l.purposeOneTreatment=(0,r.P)(_,!1),l.resurfaceOptions=(0,r.Q)(n),l.stackIds=O||[],l.tcfv2HistoryDisabled=L,l.useGranularChoice=(0,r.R)(C,w),l.vendorIds=N||[],l.vendorIdsOutsideEUList=P||[],l.selectedLanguage=(0,r.T)(a),l.enableDeprecatedV1ConsentSaving=u,l.cmpApi=new z(l.cmpId,l.cmpVersion,!0),l.dataTransferSettings=s,l.excludeAcceptAllVendors=c,l}return(0,r._)(t,e),t.prototype.updateControllerId=function(e){this.dataTransferSettings.controllerId=e},t.prototype.applySpecialCasesForVendors=function(){var e=this;this.tcModel&&Object.values(this.vendors).forEach(function(t){var n=t.id;if(e.tcModel){var i=e.tcModel.gvl.vendors[n];(i&&0===i.purposes.length&&0===i.legIntPurposes.length&&i.specialPurposes.length>0||i&&i.purposes.length>0&&0===i.legIntPurposes.length&&i.specialPurposes.length>0)&&e.tcModel.vendorLegitimateInterests.set(n)}})},t.prototype.acceptAllDisclosed=function(e){var t,n;return(0,r.f)(this,void 0,void 0,function(){var i,s,o,a=this;return(0,r.h)(this,function(c){switch(c.label){case 0:return(i=this.tcModel)?(this.acmData.isEnabled&&this.acmData.vendors&&(this.acmData.vendors=this.acmData.vendors.map(function(e){return(0,r.p)((0,r.p)({},e),{consent:{status:!0}})})),s=[],o=[],this.getVendors().forEach(function(e){var t=e.id,n=e.legitimateInterestPurposes,r=e.purposes,c=e.specialPurposes,u=-1===a.excludeAcceptAllVendors.indexOf(t);r.length?(u&&i.vendorConsents.set(t),s=s.concat(r.map(function(e){return e.id}))):u&&i.vendorConsents.unset(t),n.length||c.length&&0===n.length&&0===r.length?(u&&i.vendorLegitimateInterests.set(t),o=o.concat(n.map(function(e){return e.id}))):u&&i.vendorLegitimateInterests.unset(t)}),i.purposeConsents.set((0,r.U)(s)),i.publisherConsents.set((0,r.U)(s)),i.purposeLegitimateInterests.set((0,r.U)(o)),i.publisherLegitimateInterests.set((0,r.U)(o)),this.hideLegitimateInterestToggles&&(i.unsetAllVendorLegitimateInterests(),i.unsetAllPurposeLegitimateInterests()),this.applySpecialCasesForVendors(),i.specialFeatureOptins.set((0,r.V)(null===(n=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===n?void 0:n.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),this.tcModel=i,[4,this.updateTCString(e)]):[2];case 1:return c.sent(),[2]}})})},t.prototype.areAllPurposesAccepted=function(){var e,t;return(0,r.X)(this.tcModel,null===(e=this.tcModel)||void 0===e?void 0:e.gvl.stacks,null===(t=this.tcModel)||void 0===t?void 0:t.gvl.purposes,this.vendors,this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles).every(function(e){var t=!0,n=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestToggle&&null!==e.legitimateInterestConsent&&(n=e.legitimateInterestConsent),t&&n})},t.prototype.areAllVendorsAccepted=function(){return this.getVendors().every(function(e){var t=!0,n=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestConsentToggle&&null!==e.legitimateInterestConsent&&(n=e.legitimateInterestConsent),t&&n})},t.prototype.changeLanguage=function(e,t){var n;return(0,r.f)(this,void 0,void 0,function(){var i,s,o=this;return(0,r.h)(this,function(a){switch(a.label){case 0:return i=(0,r.T)(e),[4,this.resetGVLWithLanguage("en"===i?"".concat(i,"-v2"):i)];case 1:return a.sent(),t&&(this.dataRetentionLabel=t.dataRetentionPeriodLabel,t.acmV2Enabled&&t.atpPurposes&&(this.acmData.vendorsPurposes=(0,r.J)(t.atpPurposes),s=null===(n=this.acmData.vendors)||void 0===n?void 0:n.map(function(e){return(0,r.p)((0,r.p)({},e),{purposes:o.acmData.vendorsPurposes})}),this.acmData.vendors=s)),this.tcModel&&this.tcModel.gvl.narrowVendorsTo(this.vendorIds),this.resetTcfData(),[2]}})})},t.prototype.denyAllDisclosed=function(e){return(0,r.f)(this,void 0,void 0,function(){var t;return(0,r.h)(this,function(n){switch(n.label){case 0:return this.tcModel?(this.acmData.isEnabled&&this.acmData.vendors&&(this.acmData.vendors=this.acmData.vendors.map(function(e){return(0,r.p)((0,r.p)({},e),{consent:{status:!1}})})),this.tcModel.unsetAllVendorConsents(),this.tcModel.unsetAllVendorLegitimateInterests(),this.applySpecialCasesForVendors(),t=(0,r.Y)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment),this.tcModel.purposeConsents.unset(t),this.tcModel.purposeLegitimateInterests.unset(t),this.tcModel.specialFeatureOptins.unset((0,r.V)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),this.tcModel.publisherConsents.unset(t),this.tcModel.publisherLegitimateInterests.unset(t),[4,this.updateTCString(e)]):[2];case 1:return n.sent(),[2]}})})},t.prototype.getSelectedVendorsIncludeNonDisclosed=function(){return this.selectedVendorsIncludeNonDisclosed},t.prototype.getTcModel=function(){return this.tcModel},t.prototype.getTCFData=function(){var e,t,n,i,s,o,a,c,u;return this.tcfData||(this.tcfData={acmVendors:this.getAcmVendors(),features:(0,r.Z)(this.getVendors(),null===(t=null===(e=this.tcModel)||void 0===e?void 0:e.gvl)||void 0===t?void 0:t.features),purposes:(0,r.X)(this.tcModel,null===(n=this.tcModel)||void 0===n?void 0:n.gvl.stacks,null===(i=this.tcModel)||void 0===i?void 0:i.gvl.purposes,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles),specialFeatures:(0,r.a0)(this.tcModel,null===(s=this.tcModel)||void 0===s?void 0:s.gvl,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.useGranularChoice),specialPurposes:(0,r.a1)(null===(a=null===(o=this.tcModel)||void 0===o?void 0:o.gvl)||void 0===a?void 0:a.specialPurposes,this.getVendors()),stacks:(0,r.a2)(null===(u=null===(c=this.tcModel)||void 0===c?void 0:c.gvl)||void 0===u?void 0:u.stacks,this.disabledSpecialFeatures,this.stackIds),vendors:this.getVendors()}),this.tcfData},t.prototype.getGdprApplies=function(){return(0,r.f)(this,void 0,void 0,function(){return(0,r.h)(this,function(e){switch(e.label){case 0:return this.gdprApplies?[4,this.locationInstance.getIsUserInEU()]:[2,!0];case 1:return[2,e.sent()]}})})},t.prototype.getACString=function(){var e;if(this.acmData.isEnabled&&(null===(e=this.acmData.vendors)||void 0===e?void 0:e.length)){var t=this.acmData.vendors.reduce(function(e,t){var n=e.consentedAcmVendorIds,i=e.disclosedAcmVendorIds;return t.consent.status?n.push(t.id):i.push(t.id),{consentedAcmVendorIds:n,disclosedAcmVendorIds:i}},{consentedAcmVendorIds:[],disclosedAcmVendorIds:[]}),n=t.consentedAcmVendorIds,i=t.disclosedAcmVendorIds;return"2~".concat(n.join("."),"~dv.").concat(i.join("."))}return""},t.prototype.getTCString=function(e){return this.tcModel?r.z.encode(this.tcModel,e):""},t.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.getTCString({segments:[r.a3.VENDORS_DISCLOSED]})},t.prototype.init=function(e){return(0,r.f)(this,void 0,void 0,function(){var t,n;return(0,r.h)(this,function(i){switch(i.label){case 0:return this.previousStorage=r.b.fetchTCFData(),t=r.b.fetchTCString()||"",n=r.b.fetchACString()||"",[4,this.initTCModel({acString:n,tcString:t},e)];case 1:return i.sent(),this.botInstance.isRobot()&&this.acceptAllDisclosed(1),[2]}})})},t.prototype.setUIAsClosed=function(){return(0,r.f)(this,void 0,void 0,function(){return(0,r.h)(this,function(e){return[2,this.cmpApiUpdate(r.b.fetchTCString(),!1,r.b.fetchACString())]})})},t.prototype.setUIAsOpen=function(){return(0,r.f)(this,void 0,void 0,function(){return(0,r.h)(this,function(e){return[2,this.cmpApiUpdate(r.b.fetchTCString(),!0,r.b.fetchACString())]})})},t.prototype.shouldResurfaceUI=function(){var e=this.resurfaceOptions;return this.policyVersion>=4&&e.onATPListChanged&&(0,r.a4)(this.previousStorage,this.getAcmVendors())||e.onVendorAdded&&(0,r.a5)(this.previousStorage,this.getVendors())||e.onPurposeChanged&&(0,r.a6)(this.previousStorage,this.getVendors())||e.onPeriodEnded&&(0,r.a7)(this.previousStorage)},t.prototype.updateChoices=function(e,t){return(0,r.f)(this,void 0,void 0,function(){var n=this;return(0,r.h)(this,function(i){switch(i.label){case 0:return e.purposes?[4,this.savePurposes(e.purposes)]:[3,2];case 1:i.sent(),i.label=2;case 2:return e.specialFeatures?[4,this.saveSpecialFeatures(e.specialFeatures)]:[3,4];case 3:i.sent(),i.label=4;case 4:return e.vendors?[4,this.saveVendors(e.vendors)]:[3,6];case 5:i.sent(),i.label=6;case 6:return this.tcModel&&this.hideLegitimateInterestToggles&&(this.tcModel.unsetAllVendorLegitimateInterests(),this.tcModel.unsetAllPurposeLegitimateInterests()),this.applySpecialCasesForVendors(),e.acmVendors&&this.acmData.isEnabled&&this.acmData.vendors&&e.acmVendors.forEach(function(e){var t,i=null===(t=n.acmData.vendors)||void 0===t?void 0:t.find(function(t){return t.id===e.id});i&&(i.consent.status=e.consent)}),e.purposes||e.specialFeatures||e.vendors||e.acmVendors?[4,this.updateTCString(t)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[2]}})})},t.prototype.resetTcf=function(){this.cmpApi={},this.selectedVendorsIncludeNonDisclosed=!1,this.tcModel={},this.tcfData=null,this.vendors=[]},t.prototype.applyPurposeRestrictions=function(e,t){var n=this;e.forEach(function(e){var i,s=new r.a8(e,t);null===(i=n.tcModel)||void 0===i||i.publisherRestrictions.restrictPurposeToLegalBasis(s)})},t.prototype.cmpApiUpdate=function(e,t,n){return void 0===n&&(n=""),(0,r.f)(this,void 0,void 0,function(){var i;return(0,r.h)(this,function(s){switch(s.label){case 0:return null==(i=r.G.getInstance())||i.setSectionString(e,"tcfeuv2"),[4,this.getGdprApplies()];case 1:return s.sent()?this.cmpApi.update(e,t,n):this.cmpApi.update(null),[2]}})})},t.prototype.getVendors=function(){return(0,r.q)(this.vendors)||this.setVendors(),this.vendors},t.prototype.initTCModel=function(e,t){var n,i,s=e.tcString,o=e.acString;return(0,r.f)(this,void 0,void 0,function(){var e,a,c,u,l,d,h,p,g,f,v,S,E,m,y,I,C,T,A,b,_,w=this;return(0,r.h)(this,function(O){switch(O.label){case 0:if(!this.acmData.isEnabled||!this.acmData.vendorIds.length||this.acmData.vendors)return[3,2];if(e=[],o)try{e=o.split("~")[1].split(".").map(function(e){return parseInt(e,10)})}catch(e){}return[4,r.i.getInstance().fetchAcmVendors().then(function(t){var n=[];w.acmData.vendorIds.forEach(function(i){if(t.providers[i]){var s=(0,r.n)(t.providers[i],2),o=s[0],a=s[1];n.push({consent:{status:e.some(function(e){return e===i})},id:i,name:o,privacyPolicyUrl:a,purposes:w.acmData.vendorsPurposes})}}),w.acmData.vendors=n})];case 1:O.sent(),O.label=2;case 2:return this.isPolicyVersion2()?(r.$.baseUrl=t?r.ab:r.ac,r.$.languageFilename=r.ad,r.$.latestFilename=r.ae):(r.$.baseUrl=t?r.af:r.ag,r.$.languageFilename=r.ah,r.$.latestFilename=r.ai),[4,r.i.getInstance().fetchVendorsList("".concat(r.$.baseUrl).concat(r.$.latestFilename),this.changedPurposes.notAllowedPurposes)];case 3:if(a=O.sent(),c=new r.$(a),this.tcModel=new r.y(c),this.tcModel.cmpId=this.cmpId,this.tcModel.cmpVersion=this.cmpVersion,this.tcModel.isServiceSpecific=!0,this.tcModel.publisherCountryCode=this.publisherCountryCode,this.tcModel.purposeOneTreatment=this.purposeOneTreatment,this.gcmEnabled&&(u=void 0===this.advertiserConsentModeEnabled||this.advertiserConsentModeEnabled,l=void 0!==window.advertiserConsentMode?window.advertiserConsentMode:u,this.setEnableAdvertiserConsentMode(l)),this.acmData.isEnabled&&this.setAddtlConsent(o||""),s)try{if(d=this.tcModel.gvl,h=this.tcModel.publisherRestrictions,p=r.z.decode(s,this.tcModel),parseInt(p.policyVersion.toString(),10)>2){for(this.tcModel=p,this.isPolicyVersion2()||this.tcModel.purposeLegitimateInterests.unset([1,3,4,5,6]),g=this.tcModel.purposeConsents.values(),f=this.tcModel.purposeConsents.size,E=0;E<=f-1;E+=1)m=g.next().value,d.purposes[m]||null===(n=this.tcModel)||void 0===n||n.purposeConsents.unset(m);for(v=this.tcModel.purposeLegitimateInterests.values(),S=this.tcModel.purposeLegitimateInterests.size,E=0;E<=S-1;E+=1)m=v.next().value,d.purposes[m]||null===(i=this.tcModel)||void 0===i||i.purposeLegitimateInterests.unset(m);this.tcModel=Object.assign(this.tcModel,{gvl:d,publisherRestrictions:h}),null==(y=r.G.getInstance())||y.setSectionString(s,"tcfeuv2")}}catch(e){console.warn(r.aa.INIT_TCF_ERROR,e)}if(null===this.tcModel)throw new Error(r.aa.TC_MODEL_UNDEFINED);if(!this.selectedLanguage)throw new Error(r.aa.SELECTED_LANGUAGE_UNDEFINED);return[4,this.tcModel.gvl.readyPromise.catch(function(e){console.warn(r.aa.RESET_GVL_FAILURE,e)})];case 4:return O.sent(),this.tcModel.gvl.narrowVendorsTo(this.vendorIds),I=(0,r.l)([],(0,r.n)(this.tcModel.gvl.vendorIds),!1),C=(0,r.T)(this.selectedLanguage),[4,this.resetGVLWithLanguage("en"===C?"".concat(C,"-v2"):C)];case 5:return O.sent(),T=this.changedPurposes,A=T.purposes,b=T.legitimateInterestPurposes,_=T.notAllowedPurposes,this.applyPurposeRestrictions(A,r.a9.REQUIRE_CONSENT),this.applyPurposeRestrictions(b,r.a9.REQUIRE_LI),this.applyPurposeRestrictions(_,r.a9.NOT_ALLOWED),this.setSelectedVendorsIncludeNonDisclosed(I),[2]}})})},t.prototype.setEnableAdvertiserConsentMode=function(e){this.tcModel&&(this.tcModel.enableAdvertiserConsentMode=e),_.enableAdvertiserConsentMode=e},t.prototype.setAddtlConsent=function(e){this.tcModel&&(this.tcModel.addtlConsent=e),_.addtlConsent=e},t.prototype.resetGVLWithLanguage=function(e){var t,n;return(0,r.f)(this,void 0,void 0,function(){var i;return(0,r.h)(this,function(s){return i=(0,r.T)(e),[2,null===(n=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===n?void 0:n.changeLanguage(i).catch(function(e){console.warn(r.aa.RESET_GVL_FAILURE,e)})]})})},t.prototype.resetTcfData=function(){this.setVendors(),this.tcfData=null},t.prototype.setSelectedVendorsIncludeNonDisclosed=function(e){var t=r.b.fetchTCFVendorsDisclosedObject();e.some(function(e){return!(0,r.aj)(e,t)})&&(this.selectedVendorsIncludeNonDisclosed=!0)},t.prototype.savePurposes=function(e){return(0,r.f)(this,void 0,void 0,function(){var t;return(0,r.h)(this,function(n){return(t=this.tcModel)?(e.forEach(function(e){e.consent?(t.purposeConsents.set(e.id),t.publisherConsents.set(e.id)):(t.purposeConsents.unset(e.id),t.publisherConsents.unset(e.id)),e.legitimateInterestConsent?(t.purposeLegitimateInterests.set(e.id),t.publisherLegitimateInterests.set(e.id)):(t.purposeLegitimateInterests.unset(e.id),t.publisherLegitimateInterests.unset(e.id))}),[2]):[2]})})},t.prototype.saveSpecialFeatures=function(e){return(0,r.f)(this,void 0,void 0,function(){var t;return(0,r.h)(this,function(n){return(t=this.tcModel)?(e.forEach(function(e){e.consent?t.specialFeatureOptins.set(e.id):t.specialFeatureOptins.unset(e.id)}),[2]):[2]})})},t.prototype.saveVendors=function(e){return(0,r.f)(this,void 0,void 0,function(){var t;return(0,r.h)(this,function(n){return(t=this.tcModel)?(e.forEach(function(e){e.consent?t.vendorConsents.set(e.id):t.vendorConsents.unset(e.id),e.legitimateInterestConsent?t.vendorLegitimateInterests.set(e.id):t.vendorLegitimateInterests.unset(e.id)}),[2]):[2]})})},t.prototype.setVendors=function(){this.vendors=(0,r.ak)(this.tcModel,this.disabledSpecialFeatures,this.useGranularChoice,this.hideLegitimateInterestToggles,this.purposeOneTreatment,this.vendorIdsOutsideEUList,this.dataRetentionLabel)},t.prototype.getTcfData=function(){return{acString:this.getACString(),tcString:this.getTCString(),timestamp:Date.now(),vendors:(0,r.al)(this.getVendors())}},t.prototype.injectTCString=function(e){return(0,r.f)(this,void 0,void 0,function(){var t,n;return(0,r.h)(this,function(i){switch(i.label){case 0:return t=r.z.decode(e),this.isPolicyVersion2()||t.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel&&t.lastUpdated>=this.tcModel.lastUpdated?(n=this.getTcfData(),r.b.saveTCFData((0,r.p)((0,r.p)({},n),{tcString:e})),[4,this.saveTCFData(n)]):[3,2];case 1:return i.sent(),[2,!0];case 2:return[2,!1]}})})},t.prototype.isPolicyVersion2=function(){return 2===this.policyVersion},t.prototype.saveTCFData=function(e){return(0,r.f)(this,void 0,void 0,function(){return(0,r.h)(this,function(t){return[2,r.i.getInstance().saveTCFConsents(this.dataTransferSettings,e,"onTcfStringChange","explicit",this.isApiV2Enabled?{isAnalyticsEnabled:this.isAnalyticsEnabled,isConsentAPIv2Enabled:this.isConsentXDeviceEnabled}:null,this.enableDeprecatedV1ConsentSaving)]})})},t.prototype.updateTCString=function(e){return(0,r.f)(this,void 0,void 0,function(){var t;return(0,r.h)(this,function(n){switch(n.label){case 0:return this.tcModel&&(this.isPolicyVersion2()||this.tcModel.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel.consentScreen=e,this.tcModel.updated()),t=this.getTcfData(),r.b.saveTCFData(t),[4,this.cmpApiUpdate(t.tcString,!1,t.acString)];case 1:return n.sent(),this.resetTcfData(),this.botInstance.isRobot()?[3,3]:[4,this.saveTCFData(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.getVendorsCount=function(){return(this.getVendors().length||0)+this.getAcmVendorsCount()},t.prototype.getAcmVendors=function(){return this.acmData.vendors||[]},t.prototype.getAcmVendorsCount=function(){return this.getAcmVendors().length||0},t}(o.default)},410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(539),s=n(362),r=n(68),o=function(e){function t(t,n){var o,a,c,u,l,d=this;d=e.call(this,t,n)||this;var h=n.customization;return d.buttons=(0,i.p)((0,i.p)((0,i.p)({},new r.B(n)),new s.B(n)),{save:{backgroundColor:(0,i.an)(null===(o=null==h?void 0:h.color)||void 0===o?void 0:o.saveBtnBackground),textColor:(0,i.an)(null===(a=null==h?void 0:h.color)||void 0===a?void 0:a.saveBtnText)}}),d.firstLayer=(0,i.p)((0,i.p)({},new s.F(n)),{hideButtonDeny:(0,i.ao)(n.tcf2.firstLayerHideButtonDeny,!n.tcf2.buttonsDenyAllIsEnabled),hideCustomizationButton:!0===(null===(c=n.tcf2)||void 0===c?void 0:c.enforceAcceptAll),hideNonIabPurposes:n.tcf2.hideNonIabOnFirstLayer,hideToggles:n.tcf2.firstLayerHideToggles||!0===n.tcf2.enforceAcceptAll,isOverlayEnabled:(0,i.av)(n),showDescriptions:n.tcf2.firstLayerShowDescriptions}),d.secondLayer={dpsDisplayFormat:n.dpsDisplayFormat||i.ap.ALL,hideButtonDeny:(0,i.ao)(n.tcf2.secondLayerHideButtonDeny,!n.tcf2.buttonsDenyAllIsEnabled),hideLegitimateInterestToggles:n.tcf2.hideLegitimateInterestToggles,hideToggles:n.tcf2.secondLayerHideToggles||!0===n.tcf2.enforceAcceptAll,isOverlayEnabled:(0,i.aw)(n),showToggleAllVendors:n.tcf2.vendorToggleAll,tabColor:(0,i.P)((0,i.an)(null===(l=null===(u=n.customization)||void 0===u?void 0:u.color)||void 0===l?void 0:l.secondLayerTab),null)},d}return(0,i._)(t,e),t}(s.C)},534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(539),s=n(559),r=function(e){return!(!e||!e.length||e[2]!==i.S.ACCEPT)},o=function(e){var t=e&&e.data&&e.data.__uspapiCall;t&&window[i.W](t.command,t.version,function(n,i){!e.source||e.source instanceof MessagePort||e.source instanceof ServiceWorker||e.source.postMessage({__uspapiReturn:{callId:t.callId,returnValue:n,success:i}},"*")})},a=function(e){function t(t,n,s,a){var c,u,l,d,h,p,g,f,v=this;return(v=e.call(this,n,s)||this).explicitDeny=!1,v.iabAgreementExists=(null===(c=t.ccpa)||void 0===c?void 0:c.iabAgreementExists)||!1,v.isActive=t.framework?["CCPA","UCPA","CTDPA","VCDPA","CPRA","CPA"].includes(t.framework):null!==(l=null===(u=t.ccpa)||void 0===u?void 0:u.isActive)&&void 0!==l&&l,v.region=(null===(d=t.ccpa)||void 0===d?void 0:d.region)||i.L.US_CA_ONLY,v.reshowAfterDays=(null===(h=t.ccpa)||void 0===h?void 0:h.reshowAfterDays)||365,v.showOnPageLoad=(null===(p=t.ccpa)||void 0===p?void 0:p.showOnPageLoad)||!1,v.isOptedOut=!!navigator.globalPrivacyControl,v.isExplicitConsented=a,v.framework=t.framework||"ccpa",v.legalFramework=v.getLegalFramework(v.framework),i.b.getCcpaString()!==i.D?(v.explicitNotice=!(!(f=i.b.getCcpaString())||!f.length||f[1]!==i.S.ACCEPT),!a&&v.isOptedOut?(v.explicitDeny=!0,v.setCcpaStorage(v.isOptedOut,v.explicitNotice?i.S.ACCEPT:i.S.UNKNOWN)):(v.isOptedOut=r(i.b.getCcpaString()),null===(g=i.G.getInstance())||void 0===g||g.setSectionString(i.b.getCcpaString(),v.legalFramework))):(v.setCcpaStorage(v.isOptedOut,i.S.UNKNOWN),v.explicitNotice=!1),function(){if(!Object.prototype.hasOwnProperty.call(window.frames,i.F)){var e=document.createElement("iframe");e.style.display="none",e.name=i.F,document.body.appendChild(e)}}(),window[i.W]=function(e,t,n){switch("function"!=typeof n&&console.warn(i.c.API_INVALID_CALLBACK),t!==i.C&&n({uspString:null,version:null},!1),e){case i.A.GET_USP_DATA:n({uspString:i.b.getCcpaString(),version:i.C},!0);break;case i.W:n(null,!0);break;default:console.warn(i.c.API_INVALID_COMMAND,e),n(null,!1)}},window.addEventListener("message",o,!1),v}return(0,i._)(t,e),t.prototype.getIsOptedOut=function(){return this.isOptedOut},t.prototype.getLegalFramework=function(e){switch(e){case"UCPA":return"usut";case"CTDPA":return"usct";case"VCDPA":return"usva";case"CPRA":return"usca";case"CPA":return"usco";default:return"uspv1"}},t.prototype.getExplicitNotice=function(){return this.explicitNotice},t.prototype.setCcpaStorage=function(e,t){var n;void 0===t&&(t=i.S.ACCEPT),this.setIsOptedOut(e),e?i.b.setCcpaTimeStamp():i.b.clearCcpaData(),t===i.S.ACCEPT?this.explicitNotice=!0:this.explicitNotice=!1;var s=function(e,t,n){var s="".concat(i.C).concat(t).concat(e?i.S.ACCEPT:i.S.DENY).concat(n?i.S.ACCEPT:i.S.UNKNOWN);return i.a.test(s)||(s=i.D),s}(e,t,this.iabAgreementExists);null===(n=i.G.getInstance())||void 0===n||n.setSectionString(s,this.legalFramework),i.d.isCrossDomainAvailable()&&i.d.setCrossDomainCcpaData({ccpaString:s,timestamp:i.b.getCcpaTimeStamp()}).catch(function(){console.warn(i.e.CROSS_DOMAIN_SET_DATA_FAILURE)}),i.b.setCcpaString(s)},t.prototype.setIsOptedOut=function(e){var t="boolean"==typeof e?e:r(e);this.isOptedOut=t},t}(s.default)},539:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t,n,i,s,r,o){try{var a=e[r](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,s)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){s(o,i,r,a,c,"next",e)}function c(e){s(o,i,r,a,c,"throw",e)}a(void 0)})}}function o(e,t,n){return t=p(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,T(i.key),i)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function d(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}},h.apply(null,arguments)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function r(n,i,s,r){var c=i&&i.prototype instanceof a?i:a,u=Object.create(c.prototype);return m(u,"_invoke",function(n,i,s){var r,a,c,u=0,l=s||[],d=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return r=t,a=0,c=e,h.n=n,o}};function p(n,i){for(a=n,c=i,t=0;!d&&u&&!s&&t<l.length;t++){var s,r=l[t],p=h.p,g=r[2];n>3?(s=g===i)&&(c=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=e):r[0]<=p&&((s=n<2&&p<r[1])?(a=0,h.v=i,h.n=r[1]):p<g&&(s=n<3||r[0]>i||i>g)&&(r[4]=n,r[5]=i,h.n=g,a=0))}if(s||n>1)return o;throw d=!0,i}return function(s,l,g){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,g),a=l,c=g;(t=a<2?e:c)||!d;){r||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(u=2,r){if(a||(s="next"),t=r[s]){if(!(t=t.call(r,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=r.return)&&t.call(r),a<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),a=1);r=e}else if((t=(d=h.n<0)?c:n.call(i,h))!==o)break}catch(t){r=e,a=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,s,r),!0),u}var o={};function a(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][i]?t(t([][i]())):(m(t={},i,function(){return this}),t),d=u.prototype=a.prototype=Object.create(l);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,m(e,s,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,m(d,"constructor",u),m(u,"constructor",c),c.displayName="GeneratorFunction",m(u,s,"GeneratorFunction"),m(d),m(d,s,"Generator"),m(d,i,function(){return this}),m(d,"toString",function(){return"[object Generator]"}),(E=function(){return{w:r,m:h}})()}function m(e,t,n,i){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}m=function(e,t,n,i){if(t)s?s(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n;else{function r(t,n){m(e,t,function(e){return this._invoke(t,n,e)})}r("next",0),r("throw",1),r("return",2)}},m(e,t,n,i)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function I(e,t,n,i){var s=h(p(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof s?function(e){return s.apply(n,e)}:s}function C(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function b(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function _(e){var t="function"==typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(f())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var s=new(e.bind.apply(e,i));return n&&y(s,n.prototype),s}(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},_(e)}n.d(t,{$:()=>co,A:()=>go,B:()=>o,C:()=>ie,D:()=>se,E:()=>Ve,F:()=>re,G:()=>ms,H:()=>Gt,I:()=>Xt,J:()=>Io,K:()=>yo,L:()=>ke,M:()=>Te,N:()=>Co,O:()=>To,P:()=>_e,Q:()=>No,R:()=>bo,S:()=>vs,T:()=>Go,U:()=>De,V:()=>Do,W:()=>ae,X:()=>Oo,Y:()=>wo,Z:()=>Ao,_:()=>O,a:()=>oe,a0:()=>Lo,a1:()=>Po,a2:()=>Ro,a3:()=>cr,a4:()=>Uo,a5:()=>Mo,a6:()=>xo,a7:()=>ko,a8:()=>nr,a9:()=>tr,aB:()=>vo,aQ:()=>po,aa:()=>ce,ab:()=>dn,ac:()=>un,ad:()=>pn,ae:()=>fn,af:()=>hn,ag:()=>ln,ah:()=>gn,ai:()=>vn,aj:()=>_o,ak:()=>mo,al:()=>Fo,am:()=>Re,an:()=>ze,ao:()=>Je,ap:()=>$,aq:()=>B,ar:()=>Ze,as:()=>et,at:()=>st,au:()=>F,av:()=>Qe,aw:()=>Xe,ax:()=>Xo,b:()=>ye,c:()=>fs,d:()=>fe,e:()=>j,f:()=>Y,g:()=>In,h:()=>J,i:()=>Yt,j:()=>Fn,k:()=>Dn,l:()=>K,m:()=>Wt,n:()=>z,o:()=>Tn,p:()=>W,q:()=>Ae,r:()=>g,s:()=>Lt,t:()=>u,u:()=>a,v:()=>Mt,w:()=>C,x:()=>I,y:()=>uo,z:()=>So});var w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},w(e,t)};function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var N,D,L,P,R,V,k,U,M,x,F,G,B,$,H,j,q,W=function(){return W=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},W.apply(this,arguments)};function Y(e,t,n,i){return new(n||(n=Promise))(function(s,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((i=i.apply(e,t||[])).next())})}function J(e,t){var n,i,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function z(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,s,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function K(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Q(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,s){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,s,(t=e[n](t)).done,t.value)})}}}"function"==typeof SuppressedError&&SuppressedError,function(e){e.CONSENT_RESPONSE="consent-response",e.CONSENT_UI="consent-ui"}(N||(N={})),function(e){e.ACCEPT="accept",e.REJECT="reject",e.DISMISS="dismiss",e.FULLSCREEN="enter-fullscreen",e.READY="ready"}(D||(D={})),function(e){e[e.TCF_V2=2]="TCF_V2",e[e.CCPA=3]="CCPA"}(L||(L={})),function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE"}(P||(P={})),function(e){e[e.DATA_LAYER=0]="DATA_LAYER",e[e.WINDOW_EVENT=1]="WINDOW_EVENT"}(R||(R={})),function(e){e[e.MAJOR=0]="MAJOR",e[e.MINOR=1]="MINOR",e[e.PATCH=2]="PATCH"}(V||(V={})),function(e){e.CALL_INIT="Usercentrics: You have to call the init method before!",e.DATA_LOCAL="Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!",e.UNKNOWN_VARIANT="Usercentrics: Unknown variant",e.NOT_CCPA="Usercentrics: CCPA was not initialized",e.NOT_DEFAULT="Usercentrics: GDPR was not initialized",e.NOT_TCF="Usercentrics: TCF was not initialized"}(k||(k={})),function(e){e.BANNER="BANNER",e.WALL="WALL"}(U||(U={})),function(e){e.CENTER="CENTER",e.SIDE="SIDE"}(M||(M={})),function(e){e[e.DARK=0]="DARK",e[e.LIGHT=1]="LIGHT"}(x||(x={})),function(e){e.LINK="LINK",e.BUTTON="BUTTON",e.MORE_LINK_BUTTON="MORE_LINK_BUTTON"}(F||(F={})),function(e){e.LEFT="LEFT",e.RIGHT="RIGHT"}(G||(G={})),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(B||(B={})),function(e){e.ALL="ALL",e.SHORT="SHORT"}($||($={})),function(e){e.CROSS_DEVICE_DATA_NOT_AVAILABLE="Usercentrics: Cross Device Consents data is not available",e.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Device TCF data is not available",e.CROSS_DEVICE_FEATURE_DISABLED="Usercentrics: The `Cross-Device Consent Sharing` feature is not enabled. Please contact the support team in order to enable this feature for your configuration"}(H||(H={})),function(e){e.CROSS_DOMAIN_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain Consents data is not available",e.CROSS_DOMAIN_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain TCF data is not available",e.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent Sharing is not available.",e.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent language is not available",e.CROSS_DOMAIN_SET_DATA_FAILURE="Usercentrics: Unable to set Cross Domain data",e.CROSS_DOMAIN_SET_TCF_DATA_FAILURE="Usercentrics: Unable to set Cross Domain TCF data",e.CROSS_DOMAIN_IFRAME_ERROR="Usercentrics: Iframe error",e.CROSS_DOMAIN_IFRAME_NOT_FOUND="Usercentrics: Cross Domain iFrame not found",e.CROSS_DOMAIN_IFRAME_LOAD_ERROR="Usercentrics: IFrame did not load"}(j||(j={})),function(e){e.CLEAR="clear",e.GET_CROSS_DOMAIN_LANGUAGE="getCrossDomainLanguage",e.GET_CROSS_DOMAIN_SESSION_DATA="getCrossDomainSessionData",e.GET_CROSS_DOMAIN_TCF_DATA="getCrossDomainTcfData",e.GET_CROSS_DOMAIN_CCPA_DATA="getCrossDomainCcpaData",e.GET_TC_STRING="getTCString",e.PING="ping",e.SET_CROSS_DOMAIN_DATA="setCrossDomainData",e.SET_CROSS_DOMAIN_TCF_DATA="setCrossDomainTcfData",e.SET_CROSS_DOMAIN_CCPA_DATA="setCrossDomainCcpaData",e.SET_TC_STRING="setTCString"}(q||(q={}));var X,Z,ee="ucMobileSdk",te=["*.usercentrics-sandbox.eu","*.usercentrics.eu"],ne="4.48.0",ie=1,se="1---",re="__uspapiLocator",oe=/^[1][nNyY-][nNyY-][nNyY-]$/,ae="__uspapi";!function(e){e.CCPA="uc_usprivacy",e.CCPA_DATA="uc_ccpa",e.CONSENTS_BUFFER="uc_consents_buffer",e.CONSENTS_V2_BUFFER="uc_consents_v2_buffer",e.GCM_DATA="uc_gcm",e.LEGACY_SETTINGS="ucSettings",e.SERVICES="uc_services",e.SETTINGS="uc_settings",e.TCF="uc_tcf",e.USER_INTERACTION="uc_user_interaction",e.AB_TEST_VARIANT="uc_ab_variant"}(X||(X={})),function(e){e.USER_COUNTRY="uc_user_country"}(Z||(Z={}));var ce,ue,le,de,he="uc-cross-domain-bridge",pe="".concat("https://app.usercentrics.eu","/browser-sdk/").concat(ne,"/cross-domain-bridge.html"),ge="".concat("https://app.eu.usercentrics.eu","/browser-sdk/").concat(ne,"/cross-domain-bridge.html"),fe=function(){function e(){}return e.setDomainBridgeUri=function(t){var n="";t&&(t.crossDomainConsentSharingIFrame?n=t.crossDomainConsentSharingIFrame:t.app&&(n="".concat(t.app,"/browser-sdk/").concat(ne,"/cross-domain-bridge.html")));var i=""!==n?n:pe,s=ge;e.domainBridgeUri=e.useEuCdn?s:i},e.getDomainBridgeUri=function(){return e.domainBridgeUri},e.init=function(t,n){return Y(this,void 0,void 0,function(){return J(this,function(i){return e.setDomainBridgeUri(n),e.setUseEuCdn((null==t?void 0:t.useEuCdn)||!1),e.setDomainBridgeUri(n),[2,this.initIFrame(e.getDomainBridgeUri(),he)]})})},e.initIFrame=function(t,n){return Y(this,void 0,void 0,function(){var i=this;return J(this,function(s){return[2,new Promise(function(s,r){var o=e.createIFrame(t,n);o.onload=function(){return Y(i,void 0,void 0,function(){var i;return J(this,function(a){return i=setTimeout(function(){o={},r(new Error(j.CROSS_DOMAIN_IFRAME_LOAD_ERROR))},1e3),e.queryIFrame(t,n,q.PING).then(function(){clearTimeout(i),s(!0)}).catch(function(e){clearTimeout(i),r(e)}),[2]})})},o.onerror=function(){return Y(i,void 0,void 0,function(){return J(this,function(e){return r(new Error(j.CROSS_DOMAIN_IFRAME_ERROR)),[2]})})},e.appendIFrame(o)})]})})},e.setIsCrossDomainAvailable=function(t){e.crossDomainAvailable=t},e.isCookieBridgeAvailable=function(){return e.cookieBridgeAvailable},e.setIsCookieBridgeAvailable=function(t){e.cookieBridgeAvailable=t},e.isCrossDomainAvailable=function(){return e.crossDomainAvailable},e.getCrossDomainId=function(){return e.crossDomainId},e.setCrossDomainId=function(t){e.crossDomainId="".concat("uc_cross_domain_data","_").concat(t)},e.setCookieBridgeDomain=function(e,t){this.cookieBridgeDomain="".concat(e).concat(t)},e.setUseEuCdn=function(t){e.useEuCdn=t},e.createIFrame=function(t,n){e.removeIFrame(n);var i=document.createElement("iframe");return i.style.display="none",i.id=n,i.src=t,i},e.removeIFrame=function(e){var t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)},e.queryIFrame=function(e,t,n,i,s){return Y(this,void 0,void 0,function(){var r;return J(this,function(o){if(!(r=document.getElementById(t))||!r.id)throw new Error(j.CROSS_DOMAIN_IFRAME_NOT_FOUND);return[2,new Promise(function(t,o){var a=JSON.stringify({crossDomainId:s,method:n,payload:i}),c=new MessageChannel;c.port1.onmessage=function(e){var n=JSON.parse(e.data),i=n.success,s=n.data;i?t(s):o(e)},r&&r.contentWindow&&r.contentWindow.postMessage(a,e,[c.port2])})]})})},e.appendIFrame=function(e){try{document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(e)})}catch(e){return new Error(j.CROSS_DOMAIN_IFRAME_ERROR)}return null},e.query=function(t,n){return Y(this,void 0,void 0,function(){return J(this,function(i){return[2,e.queryIFrame(e.getDomainBridgeUri(),he,t,n,e.crossDomainId)]})})},e.getCrossDomainLanguage=function(){return e.query(q.GET_CROSS_DOMAIN_LANGUAGE)},e.setCrossDomainData=function(t){return Y(this,void 0,void 0,function(){return J(this,function(n){return[2,e.query(q.SET_CROSS_DOMAIN_DATA,(i=t,{consents:i.services.map(function(e){return e.history.map(function(t){return{action:t.action,consentId:"",settingsVersion:t.versions.settings,status:t.status,templateId:e.id,timestamp:"".concat(t.timestamp),updatedBy:t.type}})}).reduce(function(e,t){return e.concat(t)},[]).sort(function(e,t){return parseInt(e.timestamp,10)-parseInt(t.timestamp,10)}),controllerId:i.controllerId,language:i.language}))];var i})})},e.setCrossDomainCcpaData=function(t){return Y(this,void 0,void 0,function(){return J(this,function(n){return[2,e.query(q.SET_CROSS_DOMAIN_CCPA_DATA,t)]})})},e.getCrossDomainCcpaData=function(){return Y(this,void 0,void 0,function(){return J(this,function(t){return[2,e.query(q.GET_CROSS_DOMAIN_CCPA_DATA)]})})},e.getCrossDomainSessionData=function(){return Y(this,void 0,void 0,function(){return J(this,function(t){return[2,e.query(q.GET_CROSS_DOMAIN_SESSION_DATA)]})})},e.getCrossDomainTcfData=function(){return Y(this,void 0,void 0,function(){return J(this,function(t){return[2,e.query(q.GET_CROSS_DOMAIN_TCF_DATA)]})})},e.setCrossDomainTcfData=function(t){return Y(this,void 0,void 0,function(){return J(this,function(n){return[2,e.query(q.SET_CROSS_DOMAIN_TCF_DATA,t)]})})},e.clearCrossDomainStorage=function(){return Y(this,void 0,void 0,function(){return J(this,function(t){return[2,e.query(q.CLEAR)]})})},e.crossDomainId="",e.cookieBridgeDomain="",e.domainBridgeUri=pe,e.useEuCdn=!1,e.cookieBridgeAvailable=!1,e.crossDomainAvailable=!1,e}(),ve=function(){function e(){this.length=0,this.data={}}return e.prototype.updateLength=function(){this.length=Object.keys(this.data).length},e.prototype.key=function(e){var t=Object.keys(this.data)[e];return void 0===A(t)?null:t},e.prototype.getItem=function(e){return void 0!==this.data[e]?this.data[e]:null},e.prototype.setItem=function(e,t){this.data[e]=String(t),this.updateLength()},e.prototype.removeItem=function(e){delete this.data[e],this.updateLength()},e.prototype.clear=function(){this.data={},this.updateLength()},e}();!function(e){e.COOKIE_BRIDGE_NOT_AVAILABLE="Usercentrics: Cookie bridge is not available.",e.COOKIE_BRIDGE_OPTIONS_NOT_SET="Usercentrics: Cookie bridge options are not set",e.GET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to get the Global TC string",e.INIT_TCF_ERROR="Usercentrics: Unable to init TCF",e.RESET_GVL_FAILURE="Usercentrics: Unable to reset Global Vendor List",e.SET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to set the Global TC string",e.VENDOR_REMOVED="Usercentrics: The following vendor is not part of the official vendors list anymore: ",e.TC_MODEL_UNDEFINED="Usercentrics: tcModel can not be null.",e.SELECTED_LANGUAGE_UNDEFINED="Usercentrics: Selected language can not be undefined"}(ce||(ce={})),function(e){e.LEGITIMATE_INTEREST="legIntPurposes",e.PURPOSES="purposes"}(ue||(ue={})),function(e){e[e.ID=0]="ID",e[e.LEGITIMATE_INTEREST=1]="LEGITIMATE_INTEREST",e[e.PURPOSES=2]="PURPOSES",e[e.SPECIAL_PURPOSES=3]="SPECIAL_PURPOSES"}(le||(le={})),function(e){e[e.FIRST_LAYER=1]="FIRST_LAYER",e[e.SECOND_LAYER=2]="SECOND_LAYER"}(de||(de={}));var Se=function(e){switch(e){case"onAcceptAllBtnClick":case"onSpecialFunctionAcceptAllConsentTrigger":return"onAcceptAllServices";case"onDenyAllAnchorClick":case"onDenyAllBtnClick":return"onDenyAllServices";case"onNonEURegion":return"onNonEURegion";case"onInitialPageLoad":case"onCountdownFinished":default:return"onInitialPageLoad";case"onToggleCategory":case"onToggleConsent":case"onToggleSelectAll":return"onEssentialChange";case"onWindowFunctionUpdateConsent":case"bySettingsUpdate":case"onSaveBtnClick":return"onUpdateServices"}},Ee=function(e){switch(e){case"update":case"implicit":default:return"implicit";case"explicit":return"explicit"}},me="RAMDOM_KEY_LOCAL_STORAGE",ye=function(){function e(){this.localStorage=null,this.sessionStorage=null,this.storeServiceIdToNameMapping=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.localStorage=null,e.instance.sessionStorage=null},e.prototype.setStoreServiceIdToNameMapping=function(e){this.storeServiceIdToNameMapping=e},e.prototype.getStoreServiceIdToNameMapping=function(){return this.storeServiceIdToNameMapping},e.prototype.init=function(){try{localStorage.setItem(me,me),localStorage.removeItem(me),this.localStorage=localStorage}catch(e){this.localStorage=new ve}try{sessionStorage.setItem(me,me),sessionStorage.removeItem(me),this.sessionStorage=sessionStorage}catch(e){this.sessionStorage=new ve}},e.appendToConsentsBuffer=function(t){var n,i=e.fetchConsentsBuffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_BUFFER,JSON.stringify(i))},e.appendToConsentsV2Buffer=function(t){var n,i=e.fetchConsentsV2Buffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_V2_BUFFER,JSON.stringify(i))},e.clearOnNewSettingsId=function(t){t!==e.fetchSettingsId()&&e.clear()},e.findBufferItem=function(t){return e.fetchConsentsBuffer().slice().find(function(e){return JSON.stringify(e.consents)===JSON.stringify(t)})},e.findV2BufferItem=function(t){return e.fetchConsentsV2Buffer().slice().find(function(e){return JSON.stringify(e.consents)===JSON.stringify(t)})},e.removeConsentsBufferItem=function(t){var n,i,s=e.fetchConsentsBuffer(),r=s.length+0;(s=s.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)})).length&&s.length!==r?null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_BUFFER,JSON.stringify(s)):null===(i=e.getInstance().localStorage)||void 0===i||i.removeItem(X.CONSENTS_BUFFER)},e.removeConsentsV2BufferItem=function(t){var n,i,s=e.fetchConsentsV2Buffer(),r=s.length+0;(s=s.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)})).length&&s.length!==r?null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_V2_BUFFER,JSON.stringify(s)):null===(i=e.getInstance().localStorage)||void 0===i||i.removeItem(X.CONSENTS_V2_BUFFER)},e.getCcpaString=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CCPA);return n&&oe.test(n)?n:se},e.getCcpaData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CCPA_DATA);return n?JSON.parse(n):null},e.fetchConsentsBuffer=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CONSENTS_BUFFER);return n?JSON.parse(n):[]},e.fetchConsentsV2Buffer=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CONSENTS_V2_BUFFER);return n?JSON.parse(n):[]},e.fetchControllerId=function(){var t=e.fetchSettings();return t?t.controllerId:""},e.fetchLanguage=function(){var t=e.fetchSettings();return t?t.language:""},e.fetchServices=function(){var t=e.fetchSettings();return t?t.services:[]},e.fetchLegacySettings=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.LEGACY_SETTINGS);return n?JSON.parse(n):null},e.fetchSettings=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.SETTINGS);return n?JSON.parse(n):{}},e.fetchSettingsId=function(){var t=e.fetchSettings();return t?t.id:""},e.fetchSettingsVersion=function(){var t=e.fetchSettings();return t?t.version:""},e.fetchTCFData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.TCF),i=n?JSON.parse(n):{acString:"",tcString:"",timestamp:Date.now(),vendors:[]};return i.vendors||(i.vendors=[]),i},e.fetchTCFVendorsDisclosedObject=function(t){var n,i=e.fetchTCFData(),s=i.acString,r=i.tcString,o=i.vendors,a=i.vendorsDisclosed;if(!o&&!a)return{};if((a||!a&&!o.length&&r)&&t){var c=Object.keys(t).map(Number);n=(a||c).filter(function(e){return t[e]}).map(function(e){var n=t[e];return[n.id,n.legIntPurposes,n.purposes,n.specialPurposes]}),e.saveTCFData({acString:s,tcString:r,timestamp:Date.now(),vendors:n})}else n=o;return n.reduce(function(e,t){var n;return W(W({},e),((n={})[t[le.ID]]=!0,n))},{})},e.fetchTCString=function(){return e.fetchTCFData().tcString||""},e.fetchACString=function(){return e.fetchTCFData().acString||""},e.fetchUserActionPerformed=function(){var t;return"true"===(null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.USER_INTERACTION))},e.fetchUserCountryResponse=function(){var t;try{return JSON.parse((null===(t=e.getInstance().sessionStorage)||void 0===t?void 0:t.getItem(Z.USER_COUNTRY))||"null")}catch(e){return null}},e.setUserCountryResponse=function(t){var n;null===(n=e.getInstance().sessionStorage)||void 0===n||n.setItem(Z.USER_COUNTRY,JSON.stringify(t))},e.mapServices=function(e){return e.map(function(e){return{history:e.consent.history,id:e.id,processorId:e.processorId,status:e.consent.status}})},e.mapSettings=function(t,n){return{controllerId:t.controllerId,id:t.id,language:t.selectedLanguage,services:e.mapServices(n),version:t.version}},e.migrateLegacySettings=function(t){if(!e.settingsExist()){var n,i,s=e.fetchLegacySettings();if(e.clearLegacySettings(),null==s?void 0:s[t]){var r=(n=s[t])&&Ae(n.ucConsents.consents)?((i={})[X.SETTINGS]={controllerId:n.ucConsents.consents[0].controllerId,id:n.usercentrics.settings.settingsId,language:n.usercentrics.settings.language,services:n.ucConsents.consents.map(function(e){return{history:e.history.map(function(e){return{action:Se(e.action),language:e.language,status:e.consentStatus,timestamp:e.updatedAt,type:Ee(e.updatedBy),versions:{application:e.appVersion,service:e.consentTemplateVersion,settings:e.settingsVersion}}}),id:e.templateId,processorId:e.processorId,status:e.consentStatus}}),version:n.usercentrics.settings.version},i[X.USER_INTERACTION]=n.usercentrics.firstUserInteraction.stateSaved,i):null;r&&(e.saveSettings(r[X.SETTINGS]),r[X.USER_INTERACTION]&&e.setUserActionPerformed(!0))}}},e.saveSettings=function(t,n){var i,s;if(null===(i=e.getInstance().localStorage)||void 0===i||i.setItem(X.SETTINGS,JSON.stringify(t)),e.getInstance().getStoreServiceIdToNameMapping()&&n&&n.length){var r=n.reduce(function(e,t){return e[t.id]=t.name,e},{});null===(s=e.getInstance().localStorage)||void 0===s||s.setItem(X.SERVICES,JSON.stringify(r))}fe.isCrossDomainAvailable()&&fe.setCrossDomainData(t).catch(function(){console.warn(j.CROSS_DOMAIN_SET_DATA_FAILURE)})},e.saveTCFData=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.TCF,JSON.stringify(t)),fe.isCrossDomainAvailable()&&fe.setCrossDomainTcfData(t).catch(function(){console.warn(j.CROSS_DOMAIN_SET_TCF_DATA_FAILURE)})},e.fetchGcmData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.GCM_DATA);return n?JSON.parse(n):null},e.saveGcmData=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.GCM_DATA,JSON.stringify(t))},e.saveTCString=function(t){var n=e.fetchTCFData();this.saveTCFData(W(W({},n),{tcString:t}))},e.setCcpaTimeStamp=function(t){var n,i=t||{ccpaString:this.getCcpaString()||"",timestamp:(new Date).getTime()};null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CCPA_DATA,JSON.stringify(i))},e.getCcpaTimeStamp=function(){var e=this.getCcpaData();return e&&e.timestamp?e.timestamp:(new Date).getTime()},e.setCcpaString=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CCPA,t),this.setCcpaTimeStamp()},e.settingsExist=function(){return be(e.fetchSettings())},e.setUserActionPerformed=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.USER_INTERACTION,JSON.stringify(t))},e.clearCcpa=function(){var t;this.clearCcpaData(),null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.CCPA)},e.clearCcpaData=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.CCPA_DATA)},e.clearTcf=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.TCF)},e.clearGcm=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.GCM_DATA)},e.clear=function(){var t,n;e.clearCcpa(),e.clearTcf(),e.clearGcm(),null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.SETTINGS),null===(n=e.getInstance().localStorage)||void 0===n||n.removeItem(X.USER_INTERACTION)},e.clearAll=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return this.clear(),fe.isCrossDomainAvailable()?[4,fe.clearCrossDomainStorage()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.fetchAbTestVariant=function(t){var n,i,s=(null===(n=e.getInstance().localStorage)||void 0===n?void 0:n.getItem(X.AB_TEST_VARIANT))||"";if(t.includes(s))return s;var r=t[Math.floor(Math.random()*t.length)];return null===(i=e.getInstance().localStorage)||void 0===i||i.setItem(X.AB_TEST_VARIANT,r),r},e.clearLegacySettings=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.LEGACY_SETTINGS)},e}(),Ie=function(e,t){return-1!==e.indexOf(t)},Ce=function(){return"SDK-".concat(ne)},Te=function(){return parseInt("3",10)},Ae=function(e){return Array.isArray(e)&&e.length>0},be=function(e){return"object"===A(e)&&null!==e&&Object.keys(e).length>0},_e=function(e,t){if(void 0===t)throw new Error("altElement of nullishOperation can not be undefined");return null!=e?e:t},we=function(e,t,n,i,s,r){return{applicationVersion:Ce(),consent:{action:n,status:t.consent.status,type:i},service:{categorySlug:s||"",id:t.id,name:t.name,processorId:t.processorId,version:t.version},settings:{controllerId:e.controllerId,id:e.id,language:e.selectedLanguage,referrerControllerId:_e(null==r?void 0:r.referrerControllerId,""),version:e.version},timestamp:_e(null==r?void 0:r.timestamp,(new Date).valueOf())}},Oe=function(e){var t=e.dataTransferSettings,n=e.services,i=void 0===n?[]:n,s=e.consentAction,r=e.consentString,o=e.isCcpa,a=e.isTcf,c=e.isAnalyticsEnabled,u=e.isConsentXDeviceEnabled,l=i.map(function(e){return{consentStatus:e.consent.status,consentTemplateId:e.id,consentTemplateVersion:e.version}}),d="",h="",p="";if(a){var g=ye.fetchTCFData(),f=g.acString,v=g.tcString,S=g.timestamp,E=g.vendors,m=g.vendorsDisclosed;h=_e(h?null==r?void 0:r.TCF2:v,""),p=JSON.stringify({timestamp:S,vendors:E,vendorsDisclosed:m}),f&&(d=f)}else o&&(h=_e(null==r?void 0:r.CCPA,""));return W(W(W(W(W({action:s,analytics:_e(c,!1),appVersion:Ce().replace("SDK-","")},p&&{consentMeta:p}),{consents:l}),h&&{consentString:h}),d&&{acString:d}),{controllerId:t.controllerId,language:t.selectedLanguage,settingsId:t.id,settingsVersion:t.version,xdevice:_e(u,!1)})},Ne=function(e,t){return e.reduce(function(e,n){var i=t[n];if(!(null==i?void 0:i.name))return e;var s=i.name;return K(K([],z(e),!1),[{id:n,name:s}],!1)},[])};function De(e){return K([],z(new Set(e)),!1)}var Le,Pe,Re,Ve,ke,Ue,Me,xe,Fe,Ge,Be=function(e){return e.filter(function(e){return["onAcceptAllServices","onDenyAllServices","onUpdateServices"].indexOf(e.action)>-1}).sort(function(e,t){return t.timestamp-e.timestamp})},$e=function(e){return e&&"object"===A(e)},He=function(e,t,n){void 0===n&&(n=!1);var i=W({},t);if(!$e(i))throw new Error("Source param should be an object");return $e(e)?(Object.keys(e).forEach(function(t){var s,r,o,a,c,u=e[t],l=i[t];void 0!==l&&(i=Array.isArray(u)&&Array.isArray(l)?W(W({},i),n?((s={})[t]=(c=u.concat(l)).filter(function(e,t){return c.indexOf(e)===t}),s):((r={})[t]=u,r)):$e(u)&&$e(l)?W(W({},i),((o={})[t]=He(W({},u),l),o)):W(W({},i),((a={})[t]=u,a)))}),i):i},je=function(e,t,n,i){return void 0===n&&(n=2e4),void 0===i&&(i=5),new Promise(function(s,r){var o=setInterval(function(){e()&&(clearTimeout(a),clearInterval(o),s())},i),a=setTimeout(function(){clearTimeout(a),clearInterval(o),r(new Error(t))},n)})},qe=function(e,t){for(var n=e.split("."),i=t.split("."),s=Math.min(n.length,i.length),r=0;r<s;r+=1){var o=Number(n[r])||0,a=Number(i[r])||0;if(o!==a)return o>a?1:-1}return i.length-n.length};!function(e){e[e.COOKIE=0]="COOKIE",e[e.WEB=1]="WEB",e[e.APP=2]="APP"}(Le||(Le={})),function(e){e.LEFT="LEFT",e.CENTER="CENTER",e.RIGHT="RIGHT"}(Pe||(Pe={})),function(e){e.CAT="CAT",e.SRV="SRV"}(Re||(Re={})),function(e){e.AVAILABLE_LANGUAGES_NOT_FOUND="Unable to find available languages using given settingsId and version.",e.FETCH_ACM_VENDORS="Something went wrong while fetching the atp vendors.",e.FETCH_AVAILABLE_LANGUAGES="Something went wrong while fetching the available languages.",e.FETCH_DATA_PROCESSING_SERVICES="Something went wrong while fetching the data processing services.",e.FETCH_LEGAL_BASIS="Something went wrong while fetching the legal data translations.",e.FETCH_SETTINGS="Something went wrong while fetching the settings.",e.FETCH_USER_CONSENTS="Something went wrong while fetching the user's consents.",e.FETCH_USER_COUNTRY="Something went wrong while fetching the user's country.",e.FETCH_USER_TCF_DATA="Something went wrong while fetching the user's tcf data.",e.GENERATE_DATA_PROCESSING_SERVICES="Something went wrong while generating the data processing services.",e.RULESET_NOT_FOUND="Config Map not found!",e.TAGLOGGER="Tag logger API is being called just before browser unload, some browsers like firefox cancel the api call and throw the error.",e.SAVE_CONSENTS="Something went wrong while saving user consents.",e.SAVE_CONSENTS_RETRY="Number of retries exceeded for saving user consents.",e.SETTINGS_NOT_FOUND="Unable to find settings using given settingsId and version.",e.CUSTOM_REFERRER_NOT_VALID="A custom referrer was passed to setTrackingPixel but it is not a valid URL. Origin and pathname will be passed instead."}(Ve||(Ve={})),function(e){e.US_CA_ONLY="US_CA_ONLY",e.US="US"}(ke||(ke={})),function(e){e[e.FIRST_LAYER=1]="FIRST_LAYER",e[e.SECOND_LAYER=3]="SECOND_LAYER"}(Ue||(Ue={})),function(e){e[e.DATA_LAYER=1]="DATA_LAYER",e[e.WINDOW_EVENT=4]="WINDOW_EVENT"}(Me||(Me={})),function(e){e.DATA_COLLECTED_LIST="dataCollectedList",e.DATA_PURPOSES_LIST="dataPurposesList",e.DATA_RECIPIENTS_LIST="dataRecipientsList",e.TECHNOLOGY_USED="technologyUsed"}(xe||(xe={})),function(e){e.MAJOR="major",e.MINOR="minor",e.PATCH="patch"}(Fe||(Fe={})),function(e){e.ICON="ICON",e.LINK="LINK"}(Ge||(Ge={}));var We,Ye={acceptAllButton:"Accept All",ccpaButton:"Agree to CCPA",ccpaMoreInformation:"More Information",closeButton:"Close",collapse:"Collapse",cookiePolicyButton:"Open Cookie Policy",copyControllerId:"Copy Controller ID",denyAllButton:"Deny all",expand:"Expand",fullscreenButton:"Enter full screen",imprintButton:"Open Imprint",languageSelector:"Select language",privacyButton:"Open",privacyPolicyButton:"Open Privacy Policy",saveButton:"Save",serviceInCategoryDetails:"View Service details",servicesInCategory:"List of Services in this category",tabButton:"Tab",usercentricsCard:"Card",usercentricsCMPButtons:"Footer including buttons",usercentricsCMPContent:"Content",usercentricsCMPHeader:"Header including language selection and external links",usercentricsCMPUI:"Consent Management Platform Interface",usercentricsList:"List",vendorConsentToggle:"Consent",vendorDetailedStorageInformation:"Detailed Storage Information",vendorLegIntToggle:"Legitimate Interest"},Je=function(e,t){return"boolean"==typeof e?e:t},ze=function(e){if(!e)return null;var t=e.startsWith("#")?e:"#".concat(e);return Ke(t)?t:"#0045A5"},Ke=function(e){return!(""===e||!e)&&/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)},Qe=function(e){if(null!=e.firstLayer.isOverlayEnabled)return e.firstLayer.isOverlayEnabled;var t=e.backgroundOverlay.find(function(e){var t;return(null===(t=e.target)||void 0===t?void 0:t[0])===Ue.FIRST_LAYER});return!!t&&(null==t?void 0:t.darken)>0},Xe=function(e){if(null!=e.secondLayer.isOverlayEnabled)return e.secondLayer.isOverlayEnabled;var t=e.backgroundOverlay.find(function(e){var t;return(null===(t=e.target)||void 0===t?void 0:t[0])===Ue.SECOND_LAYER});return!!t&&(null==t?void 0:t.darken)>0},Ze=function(e){return"number"==typeof e||"string"==typeof e&&!e.includes("px")?"".concat(e,"px"):e},et=function(e){switch(e){case Pe.CENTER:return"center";case Pe.RIGHT:return"right";case Pe.LEFT:default:return"left"}},tt={description:"",id:"",legalBasis:[],name:""},nt=function(e,t){return e.reduce(function(e,n){var i=t.find(function(e){return e.id===n.id});return i?K(K([],z(e),!1),[{categorySlug:n.categorySlug,consent:n.consent,id:n.id,language:n.language,name:i.name,processorId:n.processorId,version:n.version}],!1):K([],z(e),!1)},[])},it=function(e,t){return e.map(function(e){var n=t.find(function(t){return t.id===e.id});return W(W(W({},e),n||tt),{description:e.description||(null==n?void 0:n.description)||tt.description,id:e.id,subServices:it(e.subServices,t)})})},st=function(){return"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"},rt=function(e){return null!=e&&null!=e.region},ot=function(e){return null!=e&&null!=e.changedPurposes},at=function(e){var t;return null!=e&&null!=(null===(t=e.buttons)||void 0===t?void 0:t.optOutNotice)},ct=function(e){return null!=e&&null!=e.vendor},ut=function(e){var t;return null!=e&&null!=(null===(t=e.buttons)||void 0===t?void 0:t.showSecondLayer)},lt=function(e){return null!=e&&(at(e)||ut(e)||ct(e))},dt=function(e){var t,n;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.showShortDescriptionOnMobile)&&null==(null===(n=e.firstLayer)||void 0===n?void 0:n.isCategoryTogglesEnabled)},ht=function(e){var t;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.hideNonIabPurposes)},pt=function(e){var t;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.isCategoryTogglesEnabled)},gt=function(){function e(){this.ampEnabled=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.ampEnabled=!1},e.prototype.isAmpEnabled=function(){return this.ampEnabled},e.prototype.setIsAmpEnabled=function(e){this.ampEnabled=e},e}(),ft="latest",vt={EU_URI:{AGGREGATOR:"https://aggregator.eu.usercentrics.eu/aggregate/",CDN:"https://config.eu.usercentrics.eu",FETCH_CONSENTS:"https://consents.eu.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics.eu",FETCH_TCF_DATA:"https://consents.eu.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.eu.usercentrics.eu/consentState",GRAPHQL:"https://api.eu.usercentrics.eu/graphql",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.eu.usercentrics.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics.eu/aggregate/",CDN:"https://api.usercentrics.eu",FETCH_CONSENTS:"https://consents.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics.eu",FETCH_TCF_DATA:"https://consents.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.usercentrics.eu/consentState",GRAPHQL:"https://graphql.usercentrics.eu/graphql",RULESET:"https://api.usercentrics.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics.eu/session/1px.png"}},St={EU_URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",RULESET:"https://api.usercentrics-sandbox.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"}},Et=["onEssentialChange","onInitialPageLoad","onNonEURegion"],mt=["onSessionRestored","onMobileSessionRestore"],yt=function(e,t,n){return Y(void 0,void 0,void 0,function(){return J(this,function(i){return[2,Ct(e,t,null,n)]})})},It=function(e,t,n,i){return Y(void 0,void 0,void 0,function(){return J(this,function(s){return[2,Ct(e,n,t,i)]})})},Ct=function(e,t,n,i){return Y(void 0,void 0,void 0,function(){var s,r;return J(this,function(o){return s={"Content-Type":"application/json"},r=W(W({},i),{headers:s,method:n?"POST":"GET"}),n&&(r.body=JSON.stringify(n)),(null==i?void 0:i.headers)&&(r.headers=W(W({},s),i.headers)),[2,fetch(e,r).then(function(e){return Y(void 0,void 0,void 0,function(){return J(this,function(n){if(e.ok)return[2,At(e)];throw Tt(t,e.status)})})})]})})},Tt=function(e,t){return{errorMessage:e,statusCode:t}},At=function(e){return Y(void 0,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,bt(e)];case 1:return[2,{data:t.sent(),location:e.headers.get("x-client-geo-location"),statusCode:e.status}]}})})},bt=function(e){return Y(void 0,void 0,void 0,function(){var t,n;return J(this,function(i){switch(i.label){case 0:return[4,e.text()];case 1:return t=i.sent(),[2,(n=""===t?{}:JSON.parse(t)).data||n]}})})};!function(e){e[e.RESOURCE_NOT_FOUND=403]="RESOURCE_NOT_FOUND"}(We||(We={}));var _t,wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ot={exports:{}},Nt={exports:{}};Nt.exports=(_t=_t||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==wt&&wt.crypto&&(t=wt.crypto),!t)try{t=n(730)}catch(e){}var i=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},a=o.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<s;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else for(var a=0;a<s;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=r.enc={},l=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,s=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*u,r);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(s,d);n=s.splice(0,u),i.sigBytes-=l}return new c.init(n,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}});var g=r.algo={};return r}(Math),_t),Ot.exports=function(e){return function(t){var n=e,i=n.lib,s=i.WordArray,r=i.Hasher,o=n.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,s=0;s<64;)e(i)&&(s<8&&(a[s]=n(t.pow(i,.5))),c[s]=n(t.pow(i,1/3)),s++),i++}();var u=[],l=o.SHA256=r.extend({_doReset:function(){this._hash=new s.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],s=n[1],r=n[2],o=n[3],a=n[4],l=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var g=u[p-15],f=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,v=u[p-2],S=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[p]=f+u[p-7]+S+u[p-16]}var E=i&s^i&r^s&r,m=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),y=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&d)+c[p]+u[p];h=d,d=l,l=a,a=o+y|0,o=r,r=s,s=i,i=y+(m+E)|0}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;return n[s>>>5]|=128<<24-s%32,n[14+(s+64>>>9<<4)]=t.floor(i/4294967296),n[15+(s+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=r._createHelper(l),n.HmacSHA256=r._createHmacHelper(l)}(Math),e.SHA256}(Nt.exports);var Dt,Lt=Ot.exports,Pt=new Uint8Array(16);function Rt(){if(!Dt&&!(Dt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dt(Pt)}for(var Vt=[],kt=0;kt<256;++kt)Vt.push((kt+256).toString(16).slice(1));var Ut={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Mt(e,t,n){if(Ut.randomUUID&&!t&&!e)return Ut.randomUUID();var i=(e=e||{}).random||(e.rng||Rt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=i[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]}(i)}var xt=function(){function e(){this.needsSessionRestore=!1,this.controllerId=""}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.controllerId=""},Object.defineProperty(e.prototype,"value",{get:function(){return this.controllerId},set:function(e){this.controllerId=e},enumerable:!1,configurable:!0}),e.prototype.setControllerIdByResolvedSettingsId=function(e,t){var n=t.find(function(t){var n=t.settingsId;return e===n});n&&(this.value=n.controllerId)},e.prototype.setNeedSessionRestore=function(){this.needsSessionRestore=""!==this.controllerId},e.prototype.init=function(){if(""===this.controllerId){var e=this.getStorageControllerId();this.controllerId=e||this.generateControllerId()}},e.prototype.generateControllerId=function(){return"".concat(Lt(Mt()))},e.prototype.getStorageControllerId=function(){return ye.fetchControllerId()},e}(),Ft=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","IS","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],Gt=function(){function e(){this.userCountryData={},this.convertUserCountryString=function(e){var t=null==e?void 0:e.split(","),n=t&&t[0]?t[0]:"DE";return{countryCode:n,countryName:n||"Germany (default)",regionCode:t&&t[1]&&t[1].length>=3?t[1].substring(2):""}}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.userCountryData={}},e.prototype.setUserCountryData=function(e){this.userCountryData=e},e.prototype.getUserCountryData=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){return[2,this.userCountryData]})})},e.prototype.getIsUserInCalifornia=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){return[2,this.getIsUserInUS("CA")]})})},e.prototype.getIsUserInEU=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return[4,this.getUserCountryData()];case 1:return e=t.sent(),[2,Ie(Ft,e.code.toUpperCase())]}})})},e.prototype.getIsUserInUS=function(e){return Y(this,void 0,void 0,function(){var t,n;return J(this,function(i){switch(i.label){case 0:return[4,this.getUserCountryData()];case 1:return t=i.sent(),(n=t.regionCode).length>2&&(n=n.slice(2)),[2,"US"===t.code&&(!e||n===e)]}})})},e.prototype.resolveLocation=function(t){return Y(this,void 0,void 0,function(){var n,i;return J(this,function(s){switch(s.label){case 0:return n=this.convertUserCountryString(t),[4,e.getInstance().getUserCountryData()];case 1:return i=s.sent(),be(i)||(ye.setUserCountryResponse(n),this.setUserCountryData({code:n.countryCode,name:n.countryName,regionCode:n.regionCode})),[2]}})})},e.mapUserCountryData=function(e){return{countryCode:e.code,countryName:e.name,regionCode:e.regionCode}},e}(),Bt={numOfAttempts:7,onFirstFail:function(){},onFirstRetriedSuccess:function(){},startingDelay:100,timeMultiple:2};function $t(e,t){return void 0===t&&(t={}),Y(this,void 0,void 0,function(){var n;return J(this,function(i){switch(i.label){case 0:return n=function(e){var t=W(W({},Bt),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}(t),[4,new jt(e,n).execute()];case 1:return[2,i.sent()]}})})}var Ht,jt=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return Y(this,void 0,void 0,function(){var e,t;return J(this,function(n){switch(n.label){case 0:if(this.attemptLimitReached)return[3,7];n.label=1;case 1:return n.trys.push([1,5,,6]),this.attemptNumber?[4,this.wait(this.delay)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[4,this.request()];case 4:return e=n.sent(),this.attemptNumber&&this.options.onFirstRetriedSuccess(),[2,e];case 5:if(t=n.sent(),this.attemptNumber||this.options.onFirstFail(),this.attemptNumber+=1,this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!1,configurable:!0}),e.prototype.wait=function(e){return new Promise(function(t){return setTimeout(t,e)})},Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.attemptNumber;return e*Math.pow(t,n)},enumerable:!1,configurable:!0}),e}(),qt=function(e,t){return{id:e,version:t}},Wt=function(e){if(!e)return[];var t,n,i=e.reduce(function(e,t){return K(K([],z(e),!1),[qt(t.templateId,t.version)],!1)},[]);return function(e){return e.sort(function(e,t){return e.id>t.id?1:-1})}((t=function(e,t){return e.id===t.id&&e.version===t.version},n=[],i.forEach(function(e){-1===n.findIndex(function(n){return t(e,n)})&&n.push(e)}),n))},Yt=function(){function e(){this.API=vt,this.abTestVariant="",this.controllerIdInstance=xt.getInstance(),this.jsonCacheBustingString="",this.jsonFileLanguage="",this.jsonFileVersion=ft,this.settingsId="",this.rulesetId="",this.useEuCdn=!1,this.disableServerConsents=!1,this.aggregatedServicesCache=null,this.translationsCache=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.jsonCacheBustingString="",e.instance.jsonFileLanguage="",e.instance.jsonFileVersion=ft,e.instance.settingsId="",e.instance.disableServerConsents=!1},e.prototype.resetAggregatedServicesCache=function(){this.aggregatedServicesCache=null},e.prototype.resetTranslationsCache=function(){this.translationsCache=null},e.prototype.getAbTestVariant=function(){return this.abTestVariant},e.prototype.getJsonFileLanguage=function(){return this.jsonFileLanguage},e.prototype.getJsonFileVersion=function(){return this.jsonFileVersion},e.prototype.getSettingsId=function(){return this.settingsId},e.prototype.getRulesetId=function(){return this.rulesetId},e.prototype.getDisableServerConsents=function(){return this.disableServerConsents},e.prototype.setJsonCacheBustingString=function(e){this.jsonCacheBustingString=e},e.prototype.setJsonFileLanguage=function(e){this.jsonFileLanguage=e},e.prototype.setJsonFileVersion=function(e){this.jsonFileVersion=e},e.prototype.setDisableServerConsents=function(e){this.disableServerConsents=e},e.prototype.setDomains=function(e,t){this.API=e?St:t?{EU_URI:{AGGREGATOR:vt.EU_URI.AGGREGATOR,CDN:vt.EU_URI.CDN,FETCH_CONSENTS:vt.EU_URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:vt.EU_URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:vt.EU_URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:vt.EU_URI.FETCH_TCF_DATA_V2,GRAPHQL:vt.EU_URI.GRAPHQL,SAVE_CONSENTS_V2:vt.EU_URI.SAVE_CONSENTS_V2,TRACK_EVENT:vt.EU_URI.TRACK_EVENT,TRACK_SESSION:vt.EU_URI.TRACK_SESSION},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:W(W({AGGREGATOR:""!==t.aggregator?"".concat(t.aggregator,"/aggregate/"):vt.URI.AGGREGATOR,CDN:""!==t.cdn?t.cdn:vt.URI.CDN,RULESET:vt.URI.RULESET},""!==t.consents?{FETCH_CONSENTS:"".concat(t.consents,"/consentsHistory"),FETCH_CONSENTS_V2:"".concat(t.consents),FETCH_TCF_DATA:"".concat(t.consents,"/consentsHistoryTCF"),FETCH_TCF_DATA_V2:"".concat(t.consents,"/consentState")}:{FETCH_CONSENTS:vt.URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:vt.URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:vt.URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:vt.URI.FETCH_TCF_DATA_V2}),{GRAPHQL:""!==t.graphql?"".concat(t.graphql,"/graphql"):vt.URI.GRAPHQL,SAVE_CONSENTS_V2:""!==t.consentsV2?"".concat(t.consentsV2,"/consent"):vt.URI.SAVE_CONSENTS_V2,TRACK_EVENT:""!==t.trackingEvent?"".concat(t.trackingEvent,"/uct"):vt.URI.TRACK_EVENT,TRACK_SESSION:""!==t.app?"".concat(t.app,"/session/1px.png"):vt.URI.TRACK_SESSION})}:vt},e.prototype.setSettingsId=function(e){this.settingsId=e},e.prototype.setRulesetId=function(e){this.rulesetId=e},e.prototype.setEuMode=function(e){this.useEuCdn=e},e.prototype.isEuMode=function(){return this.useEuCdn},e.prototype.getAggregatorUri=function(){return this.isEuMode()?this.API.EU_URI.AGGREGATOR:this.API.URI.AGGREGATOR},e.prototype.getCdnUri=function(){return this.isEuMode()?this.API.EU_URI.CDN:this.API.URI.CDN},e.prototype.getGraphQLUri=function(){return this.isEuMode()?this.API.EU_URI.GRAPHQL:this.API.URI.GRAPHQL},e.prototype.getTcfDataV2Uri=function(){return this.isEuMode()?this.API.EU_URI.FETCH_TCF_DATA_V2:this.API.URI.FETCH_TCF_DATA_V2},e.prototype.fetchAggregatedServices=function(e,t){return void 0===t&&(t=!0),Y(this,void 0,void 0,function(){var n,i;return J(this,function(s){switch(s.label){case 0:return this.aggregatedServicesCache&&t?[2,this.aggregatedServicesCache]:(n="".concat(this.getAggregatorUri()).concat(this.jsonFileLanguage,"?templates=").concat(e.map(function(e){return"".concat(e.id,"@").concat(e.version)}).join(",")),[4,yt(n,Ve.GENERATE_DATA_PROCESSING_SERVICES)]);case 1:return i=s.sent(),t&&(this.aggregatedServicesCache=i.data.templates),[2,i.data.templates]}})})},e.prototype.fetchRuleset=function(){var e;return Y(this,void 0,void 0,function(){var t,n,i,s;return J(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.createRulesetUrl(),[4,yt(t,Ve.RULESET_NOT_FOUND)];case 1:return n=r.sent(),i=null===(e=n.location)||void 0===e?void 0:e.split(","),[2,{defaultRule:n.data.defaultRule,description:n.data.description,location:{code:i?i[0]:"",name:n.location||"",regionCode:i&&i[1]?i[1]:""},rules:n.data.rules}];case 2:throw(s=r.sent()).statusCode&&s.statusCode===We.RESOURCE_NOT_FOUND&&(s.errorMessage=Ve.RULESET_NOT_FOUND),s;case 3:return[2]}})})},e.prototype.fetchAvailableLanguages=function(){return Y(this,void 0,void 0,function(){var e,t,n;return J(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=this.createAvailableLanguagesUrl(),[4,yt(e,Ve.FETCH_AVAILABLE_LANGUAGES)];case 1:return t=i.sent(),[4,Gt.getInstance().resolveLocation(t.location)];case 2:return i.sent(),[2,t.data.languagesAvailable];case 3:throw(n=i.sent()).statusCode&&n.statusCode===We.RESOURCE_NOT_FOUND&&(n.errorMessage=Ve.AVAILABLE_LANGUAGES_NOT_FOUND),n;case 4:return[2]}})})},e.prototype.fetchTranslations=function(){return Y(this,void 0,void 0,function(){var e,t,n;return J(this,function(i){switch(i.label){case 0:if(this.translationsCache)return[2,this.translationsCache];i.label=1;case 1:return i.trys.push([1,3,,4]),e=this.createLanguagesUrl(),[4,yt(e,Ve.FETCH_LEGAL_BASIS)];case 2:return t=i.sent(),this.translationsCache=t.data,[2,t.data];case 3:return(n=i.sent()).statusCode&&n.statusCode===We.RESOURCE_NOT_FOUND&&(n.errorMessage=Ve.FETCH_LEGAL_BASIS),[2,null];case 4:return[2]}})})},e.prototype.mergeAbVariant=function(e){return Y(this,void 0,void 0,function(){var t,n,i;return J(this,function(s){switch(s.label){case 0:if(t=JSON.parse(e.data.variants.experiments),"UC"===e.data.variants.activateWith)return n=Object.keys(t),this.abTestVariant=ye.fetchAbTestVariant(n),[2,He(t[this.abTestVariant],e.data)];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,je(function(){return!!window.UC_AB_VARIANT},"window.UC_AB_VARIANT is not defined",2e3)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),console.warn(i),[3,4];case 4:return window.UC_AB_VARIANT&&t&&t[window.UC_AB_VARIANT]?(this.abTestVariant=window.UC_AB_VARIANT,[2,He(t[window.UC_AB_VARIANT],e.data)]):[2,e.data]}})})},e.prototype.fetchAcmVendors=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return e=this.createAcmVendorsJsonUrl(),[4,yt(e,Ve.FETCH_ACM_VENDORS)];case 1:return[2,t.sent().data]}})})},e.prototype.fetchSettingsJson=function(){return Y(this,void 0,void 0,function(){var e,t,n;return J(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),e=this.createSettingsJsonUrl(),[4,yt(e,Ve.FETCH_SETTINGS)];case 1:return t=i.sent(),["ccpa","firstLayer","secondLayer"].forEach(function(e){t.data[e]||(t.data[e]={})}),t.data.tcf2&&(t.data.tcf2.selectedVendorIds=(t.data.tcf2.selectedVendorIds||[]).sort(function(e,t){return e-t})),t.data.consentTemplates&&(t.data.consentTemplates=t.data.consentTemplates.reduce(function(e,t){return t.isDeactivated||e.push(t),e},[])),t.data.variants&&t.data.variants.enabled&&function(e){try{JSON.parse(e)}catch(t){return console.warn("Invalid JSON string from ".concat("A/B Testing",': "').concat(e,'"')),!1}return!0}(t.data.variants.experiments)?[4,this.mergeAbVariant(t)]:[3,3];case 2:return[2,i.sent()];case 3:return[2,t.data];case 4:throw(n=i.sent()).statusCode&&n.statusCode===We.RESOURCE_NOT_FOUND&&(n.errorMessage=Ve.SETTINGS_NOT_FOUND),n;case 5:return[2]}})})},e.prototype.fetchUserConsents=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return this.getDisableServerConsents()?[3,2]:(e=this.createFetchUserConsentsUrl(),[4,yt(e,Ve.FETCH_USER_CONSENTS)]);case 1:return[2,t.sent().data.reverse()];case 2:return[2,[]]}})})},e.prototype.fetchUserConsentsV2=function(e,t){return Y(this,void 0,void 0,function(){var n,i,s,r,o,a,c,u;return J(this,function(l){switch(l.label){case 0:return n=function(e){return K(K([],z(Et),!1),z(mt),!1).includes(e)?"implicit":"explicit"},this.getDisableServerConsents()?[3,2]:(i=this.createFetchUserConsentsV2Url(),[4,yt(i,Ve.FETCH_USER_CONSENTS)]);case 1:return s=l.sent(),r=s.data,o=null,a=null,e&&(c=JSON.parse(r.consentMeta),o={acString:r.acString||"",tcString:r.consentString,timestamp:c.timestamp,vendors:c.vendors,vendorsDisclosed:c.vendorsDisclosed}),t&&(a={ccpaString:r.consentString,timestamp:r.timestamp||Date.now()}),u=r.consents.reduce(function(e,t){return K(K([],z(e),!1),[{action:r.action,consentId:"",settingsVersion:r.settingsVersion,status:t.consentStatus,templateId:t.consentTemplateId,timestamp:r.timestamp||Date.now(),updatedBy:n(r.action)}],!1)},[]),[2,W(W({consents:u},a&&{ccpa:a}),o&&{tcf:o})];case 2:return[2,null]}})})},e.prototype.fetchUserTcfData=function(){return Y(this,void 0,void 0,function(){var e,t,n,i,s;return J(this,function(r){switch(r.label){case 0:return this.getDisableServerConsents()?[3,2]:(e=this.createFetchUserTcfDataUrl(),[4,yt(e,Ve.FETCH_USER_TCF_DATA)]);case 1:return t=r.sent(),n=t.data,i=n.tcString,s=n.meta,[2,W({tcString:i},JSON.parse(s)||{})];case 2:return[2,null]}})})},e.prototype.fetchUserTcfDataV2=function(){return Y(this,void 0,void 0,function(){var e,t,n,i,s;return J(this,function(r){switch(r.label){case 0:return e=this.createFetchUserTcfDataV2Url(),[4,yt(e,Ve.FETCH_USER_TCF_DATA)];case 1:if((t=r.sent()).data&&t.data.tcf2)return n=t.data.tcf2,i=n.tcString,s=n.meta,[2,W({tcString:i},JSON.parse(s)||{})];throw new Error(Ve.FETCH_USER_TCF_DATA)}})})},e.prototype.fetchVendorsList=function(e,t){return Y(this,void 0,void 0,function(){return J(this,function(n){return[2,fetch(e).then(function(e){return e.json()}).then(function(e){return(null==t?void 0:t.length)&&(e.purposes=Object.entries(e.purposes).reduce(function(e,n){var i,s=z(n,2),r=s[0],o=s[1];return W(W({},e),-1===t.indexOf(parseInt(r,10))&&((i={})[r]=o,i))},{}),e.vendors=Object.entries(e.vendors).reduce(function(e,n){var i,s=z(n,2),r=s[0],o=s[1];return W(W({},e),((i={})[r]=W(W({},o),{flexiblePurposes:o.flexiblePurposes.filter(function(e){return-1===t.indexOf(e)}),legIntPurposes:o.legIntPurposes.filter(function(e){return-1===t.indexOf(e)}),purposes:o.purposes.filter(function(e){return-1===t.indexOf(e)})}),i))},{})),e})]})})},e.prototype.saveTCFConsents=function(e,t,n,i,s,r){return Y(this,void 0,void 0,function(){var o,a,c,u,l,d,h;return J(this,function(p){switch(p.label){case 0:return o={consent:{status:!0},id:"tcf2",name:"tcf2",processorId:"abcd",version:"1.0.0"},a=t.tcString,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(t,["tcString"]),u=[],r&&(l=we(e,o,n,i),d={consentMeta:{TCF2:JSON.stringify(c)},consentString:{TCF2:a},dataTransferObjects:[l]},u.push(this.saveConsentsV1_DEPRECATED(d))),s&&(h=Oe({consentAction:n,consentString:{TCF2:a},dataTransferSettings:e,isAnalyticsEnabled:!0===s.isAnalyticsEnabled,isCcpa:!1,isConsentXDeviceEnabled:!0===s.isConsentAPIv2Enabled,isTcf:!0}),u.push(this.saveConsents(h))),[4,Promise.all(u)];case 1:return p.sent(),[2]}})})},e.prototype.saveConsentsV1_DEPRECATED=function(e){return Y(this,void 0,void 0,function(){var t,n,i,s=this;return J(this,function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=Jt(),n=zt(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,$t(function(){return It(s.getGraphQLUri(),n,Ve.SAVE_CONSENTS,t)},{onFirstFail:function(){return ye.appendToConsentsBuffer(e)},onFirstRetriedSuccess:function(){var t=ye.findBufferItem(e);t&&ye.removeConsentsBufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(i=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(i.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}})})},e.prototype.saveConsents=function(e){return Y(this,void 0,void 0,function(){var t,n,i,s;return J(this,function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=this.createSaveConsentsV2Url(),n=e,i=Jt(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,$t(function(){return It(t,n,Ve.SAVE_CONSENTS,i)},{onFirstFail:function(){return ye.appendToConsentsV2Buffer(e)},onFirstRetriedSuccess:function(){var t=ye.findV2BufferItem(e);t&&ye.removeConsentsV2BufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(s=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}})})},e.prototype.sendConsents=function(e,t){return It(this.getGraphQLUri(),e,Ve.SAVE_CONSENTS,t)},e.prototype.sendConsentsV2=function(e,t){return It(this.createSaveConsentsV2Url(),e,Ve.SAVE_CONSENTS,t)},e.prototype.saveConsentsFromBuffer=function(){var e,t,n,i;return Y(this,void 0,void 0,function(){var s,r,o,a,c,u,l=this;return J(this,function(d){switch(d.label){case 0:if(this.getDisableServerConsents())return[3,13];if(s=ye.fetchConsentsBuffer(),!Array.isArray(s)||!s.length)return[3,13];d.label=1;case 1:d.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return J(this,function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=Jt(),n=zt(e.consents),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,$t(function(){return l.sendConsents(n,t)})];case 3:return r.sent(),ye.removeConsentsBufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}})},o=!0,a=Q(s),d.label=2;case 2:return[4,a.next()];case 3:return c=d.sent(),(e=c.done)?[3,6]:[5,r()];case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return u=d.sent(),t={error:u},[3,13];case 8:return d.trys.push([8,,11,12]),o||e||!(n=a.return)?[3,10]:[4,n.call(a)];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.saveConsentsV2FromBuffer=function(){var e,t,n,i;return Y(this,void 0,void 0,function(){var s,r,o,a,c,u,l=this;return J(this,function(d){switch(d.label){case 0:if(this.getDisableServerConsents())return[3,13];if(s=ye.fetchConsentsV2Buffer(),!Array.isArray(s)||!s.length)return[3,13];d.label=1;case 1:d.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return J(this,function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=Jt(),n=e.consents,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,$t(function(){return l.sendConsentsV2(n,t)})];case 3:return r.sent(),ye.removeConsentsV2BufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}})},o=!0,a=Q(s),d.label=2;case 2:return[4,a.next()];case 3:return c=d.sent(),(e=c.done)?[3,6]:[5,r()];case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return u=d.sent(),t={error:u},[3,13];case 8:return d.trys.push([8,,11,12]),o||e||!(n=a.return)?[3,10]:[4,n.call(a)];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.setTrackingPixel=function(e){var t,n="".concat(document.location.origin).concat(document.location.pathname);e.referrer?function(e){try{return Boolean(new URL(e))}catch(e){return!1}}(e.referrer)?t=e.referrer:(console.warn(Ve.CUSTOM_REFERRER_NOT_VALID),t=n):t=n;var i=(new Date).getTime(),s=encodeURIComponent(t),r="".concat(this.isEuMode()?this.API.EU_URI.TRACK_EVENT:this.API.URI.TRACK_EVENT,"?v=").concat(1,"&sid=").concat(this.settingsId,"&t=").concat(e.eventType,"&abv=").concat(e.abTestVariant,"&r=").concat(s,"&cb=").concat(i);(new Image).src=r},e.prototype.updateTagLoggerData=function(e){var t=this.settingsId,n=window.location.href,i=Kt({settingsId:t,source:n,targets:e});this.saveTagLoggerData(i)},e.prototype.addJsonCacheBustingString=function(e){return this.jsonCacheBustingString?"".concat(e,"?c=").concat(this.jsonCacheBustingString):e},e.prototype.createAvailableLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion,"/languages.json"))},e.prototype.createLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.TRANSLATIONS,"/translations-").concat(this.jsonFileLanguage,".json"))},e.prototype.getSettingsUrl=function(){return"".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion)},e.prototype.createSettingsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/").concat(this.jsonFileLanguage,".json"))},e.prototype.createAcmVendorsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/tcfac/acp.json"))},e.prototype.createSessionTrackingUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.TRACK_SESSION:this.API.URI.TRACK_SESSION,"?settingsId=").concat(this.settingsId)},e.prototype.createFetchUserConsentsUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS:this.API.URI.FETCH_CONSENTS,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS_V2:this.API.URI.FETCH_CONSENTS_V2,"?settingsId=").concat(this.getSettingsId(),"&controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataUrl=function(){return"".concat(this.API.URI.FETCH_TCF_DATA,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataV2Url=function(){return"".concat(this.getTcfDataV2Uri(),"?controllerId=").concat(this.controllerIdInstance.value,"&tcf2=true&settingsId=").concat(this.settingsId)},e.prototype.createRulesetUrl=function(){return"".concat(this.API.URI.RULESET,"/").concat(this.API.FOLDER.RULESET,"/").concat(this.rulesetId,".json")},e.prototype.createSaveConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.SAVE_CONSENTS_V2:this.API.URI.SAVE_CONSENTS_V2,"/uw/").concat(3)},e.prototype.saveTagLoggerData=function(e){try{It(this.getGraphQLUri(),e,"",W(W({},Jt()),{keepalive:!0}))}catch(e){console.warn(Ve.TAGLOGGER,e)}},e}(),Jt=function(){return{credentials:"omit",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","X-Request-ID":Mt()},mode:"cors"}},zt=function(e){var t=e.dataTransferObjects,n=e.consentMeta,i=e.consentString;return{query:"mutation saveConsents($consents: [NewCreateConsentInput], $consentMeta: ConsentMeta, $consentString: ConsentString)\n      {\n        saveConsents(consents: $consents, consentMeta: $consentMeta, consentString: $consentString) { data { consentId } }\n      }",variables:{consentMeta:n,consents:Qt(t),consentString:i}}},Kt=function(e){return{operationName:"saveTagLoggerData",query:"mutation saveTagLoggerData($settingsId: String, $source: String, $targets: [String])\n        {\n          saveTagLoggerData(settingsId: $settingsId, source: $source, targets: $targets)\n        }",variables:{settingsId:e.settingsId,source:e.source,targets:e.targets}}},Qt=function(e){return e.map(function(e){return{action:e.consent.action,appVersion:e.applicationVersion,consentStatus:e.consent.status?"1":"0",consentTemplateId:e.service.id,consentTemplateVersion:e.service.version,controllerId:e.settings.controllerId,language:e.settings.language,processorId:e.service.processorId,referrerControllerId:e.settings.referrerControllerId,settingsId:e.settings.id,settingsVersion:e.settings.version,updatedBy:e.consent.type}})};!function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.NOT_SET=2]="NOT_SET"}(Ht||(Ht={}));var Xt=function(){function e(){this.isBotEnabled=!1,this.isBot=Ht.NOT_SET}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.isBot=Ht.NOT_SET},e.prototype.isRobot=function(){if(this.isBot===Ht.NOT_SET)if(this.isBotEnabled){var e=window.navigator.userAgent,t=new RegExp("AdsBot-Google|AdsBot-Google-Mobile|bingbot/|BingPreview/|Chrome-Lighthouse|DuckDuckBot/|Feedfetcher-Google|Googlebot/|Google Favicon|Googlebot-Image/|Googlebot-Mobile/|Googlebot-News|Googlebot-Video/|Google Page Speed Insights|Google PP|Google-Read-Aloud|Google Search Console|Google-SearchByImage|Google-Speakr|Google-Structured-Data-Testing-Tool|Google Web Preview|Slurp/|Storebot-Google|YahooSeeker|YahooCacheSystem|Yahoo! Site Explorer Feed Validator|Yahoo! Slurp","i");this.isBot=t.test(e)?Ht.YES:Ht.NO}else this.isBot=Ht.NO;return this.isBot===Ht.YES},e}(),Zt="UC_SDK_EVENT",en=["BkeKqEjuoZQ","dUzxiHb6Q","dsS7z9Hv4","l5j0HxFqd","2AMblLg3I","jzMEq56vW","00xb_vkGq"];var tn,nn=["LykAT-gy","UekC8ye4S","9V8bg4D63","ByzZ5EsOsZX","S1_9Vsuj-Q","dqFgQeZH","twMyStLkn","B1Hk_zoTX","pxiRY9112","dyHOCwp5Y","DHS2sEi4b"],sn=["HkocEodjb7","87JYasXPF"],rn=function(){function e(){this.dataLayerNames=[],this.windowEventNames=[],this.dataLayer=new Map,this.blockDataLayerPush=!1,this.isUniversalEventTrackingDisabled=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setBlockDataLayerPush=function(e){this.blockDataLayerPush=e},e.prototype.setUetDisabled=function(e){this.isUniversalEventTrackingDisabled=e},e.prototype.shouldBlockDataLayerPush=function(){return this.blockDataLayerPush},e.resetInstance=function(){e.instance.dataLayerNames=[],e.instance.windowEventNames=[],e.instance.dataLayer=new Map},e.prototype.init=function(e){var t=this;e.forEach(function(e){e.type===R.DATA_LAYER?t.dataLayerNames=_e(e.names,[]):e.type===R.WINDOW_EVENT&&(t.windowEventNames=_e(e.names,[]))}),this.windowEventNames.includes(Zt)||this.windowEventNames.push(Zt)},e.prototype.setDataLayer=function(e,t){this.dataLayer.set(t,e)},e.prototype.getDataLayer=function(){return this.dataLayer},e.prototype.dispatch=function(e,t,n,i){Ae(e)&&(this.pushEventsToDataLayer(e,t,n,i),this.dispatchWindowEvents(e,i))},e.prototype.isValidDataLayer=function(e){return window[e]&&(Array.isArray(window[e])||Object.prototype.hasOwnProperty.call(window[e],"push"))},e.prototype.pushEventsToDataLayer=function(e,t,n,i){var s=this;Ae(this.dataLayerNames)&&this.dataLayerNames.forEach(function(r){if(window[r]=_e(window[r],[]),!s.isValidDataLayer(r))throw Error("DataLayer: ".concat(r," is not of a valid type!"));if(function(e,t){if(!e){var n,i,s,r=(n=t.filter(function(e){var t=e.consent,n=t.type,i=t.action;return en.includes(e.service.id)&&("explicit"===n||"implicit"===n&&"onNonEURegion"===i)}),i=n.length>0,s=n.every(function(e){return e.consent.status}),{adStorageStatus:i&&s?"granted":"denied",shouldUpdate:i});r.shouldUpdate&&function(e){var t={adStorage:e};(window.uetq||[]).push("consent","update",{ad_storage:e}),window.dispatchEvent(new CustomEvent("UC_UET_UPDATE",{detail:t}))}(r.adStorageStatus)}}(s.isUniversalEventTrackingDisabled,e),n&&"dataLayer"===r){var o=!1,a=!1,c=!1,u=!1,l=!1;an("set","developer_id.dOThhZD",!0),e.forEach(function(e){var t=e.service.id,n=e.consent,i=n.status,s=n.type,r=n.action;sn.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===r)&&(o=o||i,l=!0),nn.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===r)&&(u=!0,l=!0,i||(c=!0))}),t?a=!!t.consent:u&&!c&&(a=!0);var d={adsDataRedaction:!a};if(l){d=W(W({},d),{adPersonalization:a?"granted":"denied",adStorage:a?"granted":"denied",adUserData:a?"granted":"denied",analyticsStorage:o?"granted":"denied"}),an("consent","update",{ad_personalization:d.adPersonalization,ad_storage:d.adStorage,ad_user_data:d.adUserData,analytics_storage:d.analyticsStorage}),ye.saveGcmData(d);var h=new window.CustomEvent("UC_GCM_UPDATE",{detail:d});window.dispatchEvent(h)}an("set","ads_data_redaction",d.adsDataRedaction)}window[r].push(on(e,i)),s.setDataLayer(window[r],r),s.shouldBlockDataLayerPush()||"explicit"===e[0].consent.type&&e.forEach(function(e){e.consent.status||window[r].push({event:"".concat(e.service.name," EXPLICIT_DENY")})})})},e.prototype.dispatchWindowEvents=function(e,t){if(Ae(this.windowEventNames)){var n=on(e,t);this.windowEventNames.forEach(function(e){var t=new window.CustomEvent(e,{detail:n});window.dispatchEvent(t)})}},e}(),on=function(e,t){var n={action:null!=t?t:e[0].consent.action,event:"consent_status",type:e[0].consent.type,ucCategory:{}};return e.forEach(function(e){var t,i,s,r=(null===(i=e.service.categorySlug)||void 0===i?void 0:i.length)&&Object.prototype.hasOwnProperty.call(n.ucCategory,e.service.categorySlug);n=W(W({},n),((t={})[e.service.name]=e.consent.status,t)),(null===(s=e.service.categorySlug)||void 0===s?void 0:s.length)&&(n.ucCategory[e.service.categorySlug]=r&&n.ucCategory[e.service.categorySlug]!==e.consent.status?null:e.consent.status)}),n},an=function(){window.dataLayer.push(arguments)},cn="en",un="https://api.usercentrics.eu/tcf2/",ln="https://api.usercentrics.eu/gvl/v3/",dn="https://config.eu.usercentrics.eu/tcf2/",hn="https://config.eu.usercentrics.eu/gvl/v3/",pn="[LANG].json",gn="[LANG].json",fn="en-v2.json",vn="en.json";!function(e){e.TEXT_JAVASCRIPT="text/javascript",e.TEXT_PLAIN="text/plain"}(tn||(tn={}));var Sn,En="data-usercentrics",mn=function(){function e(){}return e.enableScriptsForServicesWithConsent=function(t){var n=e.getDisabledScripts();Array.prototype.forEach.call(n,function(n){e.disabledScriptHasConsent(t,n)&&e.enableScript(n)})},e.getDisabledScripts=function(){return document.querySelectorAll("script[".concat(En,'][type="').concat(tn.TEXT_PLAIN,'"]'))},e.disabledScriptHasConsent=function(e,t){return e.some(function(e){return e.name===t.getAttribute(En)})},e.enableScript=function(t){var n,i,s;i=t.src?e.createSrcScriptTag(t):e.createInlineScriptTag(t),(s=(n=t).parentNode)&&s.replaceChild(i,n)},e.createSrcScriptTag=function(t){var n=e.cloneScriptTag(t);return n.removeAttribute(En),n.type=tn.TEXT_JAVASCRIPT,n},e.createInlineScriptTag=function(t){var n=e.cloneScriptTag(t);n.removeAttribute(En);var i=document.createTextNode(t.text);return n.appendChild(i),n.type=tn.TEXT_JAVASCRIPT,n},e.cloneScriptTag=function(e){var t=document.createElement("script");return Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)}),t},e}(),yn=function(e,t,n){var i,s;this.anyDomain=e.anyDomain||"any domain (ex. first party cookie)",this.cookieRefresh=(null==t?void 0:t.COOKIE_REFRESH)||(null===(i=null==n?void 0:n.labels)||void 0===i?void 0:i.COOKIE_REFRESH)||"Cookie Refresh",this.cookieStorage=(null==t?void 0:t.COOKIE_STORAGE)||(null===(s=null==n?void 0:n.labels)||void 0===s?void 0:s.COOKIE_STORAGE)||"Cookie Storage",this.day=e.day,this.days=e.days,this.description=e.storageInformationDescription||"Below you can see the longest potential duration for storage on a device, as set when using the cookie method of storage and if there are any other methods used.",this.domain=e.domain||"Domain",this.duration=e.duration||"Duration",this.error=e.informationLoadingNotPossible||"Sorry; we could not load the required information.",this.hour=e.hour,this.hours=e.hours,this.identifier=e.identifier||"Identifier",this.loading=e.loadingStorageInformation||"Loading storage information",this.maximumAge=e.maximumAgeCookieStorage||"Maximum age of cookie storage",this.minute=e.minute,this.minutes=e.minutes,this.month=e.month,this.months=e.months,this.multipleDomains=e.multipleDomains||"multiple subdomains may exist",this.name=e.name||"Name",this.no=e.no||"no",this.nonCookieStorage=e.nonCookieStorage||"Non-cookie storage",this.purposes=e.purposes||"Purposes",this.second=e.second||"second",this.seconds=e.seconds||"seconds",this.session=e.session||"Session",this.storedInformation=e.storedInformation||"Stored Information",this.storedInformationDescription=e.storedInformationDescription||"This service uses different means of storing information on a users device as listed below.",this.title=e.storageInformation||"Storage Information",this.titleDetailed=e.detailedStorageInformation||"Detailed Storage Information",this.tryAgain=e.tryAgain||"Try again?",this.type=e.type||"Type",this.year=e.year,this.years=e.years,this.yes=e.yes||"yes"},In=function(e,t){var n=e.defaultConsentStatus;return{history:[],status:!!(null==t?void 0:t.isEssential)||n}},Cn=function(e,t){return(null==e?void 0:e.description)||(null==t?void 0:t.descriptionOfService)||(null==t?void 0:t.description)||""},Tn=function(e,t,n){var i,s=null==n?void 0:n.find(function(t){return e.templateId===t.templateId&&e.version===t.version}),r=(null==t?void 0:t.legalBasis)&&e.legalBasisList?e.legalBasisList.reduce(function(e,n){return(null==t?void 0:t.legalBasis[n])?K(K([],z(e),!1),[null==t?void 0:t.legalBasis[n]],!1):e},[]):[];this.description=Cn(e,s),this.id=e.templateId,this.legalBasis=s&&!e.disableLegalBasis?function(e,t){var n=e.legalBasisList,i=e.legalGround;return t.length>0?t:function(e,t){return Ae(e)?e:[t]}(n,i)}(s,r):[],this.name=(null===(i=e._meta)||void 0===i?void 0:i.name)||(null==s?void 0:s.dataProcessor)||(null==s?void 0:s.dataProcessors[0])||""},An=function(e){function t(t,n,i,s){var r,o,a,c,u,l,d,h,p=this;p=e.call(this)||this;var g=t.labels;if(p.ariaLabels=W(W({},(null==i?void 0:i.labelsAria)||Ye),{closeButton:g.btnClose}),p.categories=n.categories.map(function(e){return{description:e.description,label:e.label,slug:e.categorySlug}}),p.cookieInformation=new yn(g,null,i),p.general={back:(null===(r=null==i?void 0:i.labels)||void 0===r?void 0:r.BACK)||"Back",consentGiven:g.accepted,consentNotGiven:g.denied,consentType:g.consentType,controllerId:(null===(o=null==i?void 0:i.labels)||void 0===o?void 0:o.CID_TITLE)||"Controller ID",copied:g.copied,copy:g.copy,date:g.date,decision:g.decision,details:(null===(a=null==i?void 0:i.labels)||void 0===a?void 0:a.DETAILS)||"Details",explicit:g.explicit,gpcSignalHonored:(null===(c=null==i?void 0:i.labels)||void 0===c?void 0:c.GPC_SIGNAL_HONORED)||g.gpcSignalHonored||"The GPC signal is honored",implicit:g.implicit,implicitNo:g.noImplicit,implicitYes:g.yesImplicit,languageChange:(null===(u=null==i?void 0:i.labels)||void 0===u?void 0:u.LANGUAGE_CHANGE)||"Selecting an option will immediately change the language",privacyButton:g.btnChipName,showLess:g.readLess,showMore:g.btnBannerReadMore||g.showMore,subservice:(null===(l=null==i?void 0:i.labels)||void 0===l?void 0:l.SUB_SERVICE)||"Subservice",subservices:(null===(d=null==i?void 0:i.labels)||void 0===d?void 0:d.SUB_SERVICES)||"Subservices",subservicesDescription:(null===(h=null==i?void 0:i.labels)||void 0===h?void 0:h.SUB_SERVICES_DESCRIPTION)||"Below you can find all the services that are subordinate to this service. The current consent status of this service applies to all subservices."},p.links={cookiePolicy:{ariaLabel:Ye.cookiePolicyButton,label:_e(g.cookiePolicyLinkText,""),url:t.cookiePolicyUrl},imprint:{ariaLabel:Ye.imprintButton,label:g.imprintLinkText||null,url:t.imprintUrl},privacyPolicy:{ariaLabel:Ye.privacyPolicyButton,label:g.privacyPolicyLinkText,url:t.privacyPolicyUrl}},t.integrations&&t.integrations.mine){var f={mine:{ariaLabel:"",label:t.integrations.mine[0].privacyCenterLabel,url:t.integrations.mine[0].privacyCenterUrl}};p.integrationLinks=W(W({},p.integrationLinks),f)}return p.poweredBy={label:"Powered by",partnerUrlLabel:_e(g.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"},p.service={dataCollected:{description:g.dataCollectedInfo,title:g.dataCollectedList},dataDistribution:{processingLocationDescription:g.locationofProcessingInfo,processingLocationTitle:g.locationOfProcessing,thirdPartyCountriesDescription:g.transferToThirdCountriesInfo,thirdPartyCountriesTitle:g.transferToThirdCountries},dataProtectionOfficer:{description:g.dataProtectionOfficerInfo,title:g.dataProtectionOfficer},dataPurposes:{description:g.dataPurposesInfo,title:g.dataPurposes},dataRecipients:{description:g.dataRecipientsListInfo,title:g.dataRecipientsList},descriptionTitle:g.descriptionOfService,history:{description:null,title:g.history},legalBasis:{description:g.legalBasisInfo,title:g.legalBasisList},processingCompanyTitle:g.processingCompany,retentionPeriod:{description:g.retentionPeriodInfo,title:g.retentionPeriod},technologiesUsed:{description:g.technologiesUsedInfo,title:g.technologiesUsed},urls:{cookiePolicyTitle:g.cookiePolicyInfo,optOutTitle:g.optOut,privacyPolicyTitle:g.policyOf}},p.services=n.consentTemplates.reduce(function(e,t){var n=new Tn(t,i,s);return K(K([],z(e),!1),[n],!1)},[]),p}return O(t,e),t}(function(){this.ariaLabels=Ye}),bn=function(e){function t(t,n,i,s){var r=e.call(this,t,n,i,s)||this;return r.buttons={optOutNotice:t.ccpa.optOutNoticeLabel||"Do not sell my personal information",save:t.ccpa.btnSave||"okay",showSecondLayer:t.ccpa.btnMoreInfo||t.labels.btnMore},r.firstLayer={description:{default:t.ccpa.firstLayerDescription||"",short:t.ccpa.firstLayerMobileDescription||"",shortDesktop:t.ccpa.firstLayerShortMessage||"",shortMobile:t.ccpa.firstLayerMobileDescription||""},title:t.ccpa.firstLayerTitle||""},r.secondLayer={categoryTab:t.secondLayer.tabsCategoriesLabel,description:t.ccpa.secondLayerDescription||"",serviceTab:t.secondLayer.tabsServicesLabel,title:t.ccpa.secondLayerTitle||""},r}return O(t,e),t}(An),_n=function(e,t){var n,i,s;this.acceptAllImplicitlyOutsideEU=e.displayOnlyForEU,this.consentAnalytics=_e(e.consentAnalytics,!1),this.consentAPIv2=_e(e.consentAPIv2,!1),this.consentXDevice=_e(e.consentXDevice,!1),this.consentSharingIFrameIsActive=e.consentSharingIFrameIsActive,this.dataExchangeSettings=e.dataExchangeOnPage.reduce(function(e,t){return t.type===Me.DATA_LAYER?e.push({names:t.names,type:R.DATA_LAYER}):t.type===Me.WINDOW_EVENT&&e.push({names:t.names,type:R.WINDOW_EVENT}),e},[]),this.googleConsentMode=e.googleConsentMode,this.id=e.settingsId,this.isCcpaEnabled=e.framework?["CCPA","UCPA","CTDPA","VCDPA","CPRA","CPA"].includes(e.framework):null!==(i=null===(n=e.ccpa)||void 0===n?void 0:n.isActive)&&void 0!==i&&i,this.isEmbeddingsEnabled=!0,this.isTagLoggerActive=e.tagLoggerIsActive,this.isTcfEnabled=e.framework?"TCF2"===e.framework:null!==(s=e.tcf2Enabled)&&void 0!==s&&s,this.language={available:e.languagesAvailable,selected:t},this.reshowBanner=_e(e.reshowBanner,-1),this.renewConsentsTimestamp=_e(e.renewConsentsTimestamp,null),this.showFirstLayerOnVersionChange=e.showInitialViewForVersionChange.map(function(e){switch(e){case Fe.MAJOR:return V.MAJOR;case Fe.MINOR:return V.MINOR;case Fe.PATCH:default:return V.PATCH}}),this.version=e.version},wn=function(e){function t(t,n,i,s){var r,o,a,c=this;return(c=e.call(this,t,n,i,s)||this).buttons={acceptAll:t.labels.btnAcceptAll,cnilDeny:(null===(r=null==i?void 0:i.labels)||void 0===r?void 0:r.CNIL_DENY_LINK_TEXT)||"Continuer sans accepter",denyAll:t.labels.btnDeny,save:t.labels.btnSave,showSecondLayer:t.labels.btnMore},c.firstLayer={description:{default:t.bannerMessage||"",short:t.bannerMobileDescription||"",shortDesktop:t.firstLayer.shortMessage||"",shortMobile:t.bannerMobileDescription||""},title:_e(t.labels.firstLayerTitle,"Privacy Settings")},c.secondLayer={acceptButtonLabel:t.secondLayer.acceptButtonText,categoryTab:t.secondLayer.tabsCategoriesLabel,dataTransferFilter:{all:(null===(o=null==i?void 0:i.labels)||void 0===o?void 0:o.ALL)||"All",thirdCountry:(null===(a=null==i?void 0:i.labels)||void 0===a?void 0:a.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},denyButtonLabel:t.secondLayer.denyButtonText,description:t.labels.titleCorner,serviceTab:t.secondLayer.tabsServicesLabel,title:t.labels.headerCorner},c}return O(t,e),t}(An),On=function(e,t,n){this.privacyButton=_e(null==n?void 0:n.labelsAria.privacyButton,""),this.services=e.consentTemplates.reduce(function(e,i){var s=new Tn(i,n,t);return K(K([],z(e),!1),[s],!1)},[])},Nn=function(){function e(){this.needsSessionRestore=!1,this.apiInstance=Yt.getInstance(),this.locationInstance=Gt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.noShow},e.prototype.unsetNoShow=function(){delete this.noShow},e.prototype.getIsUsingNoShow=function(){return void 0!==this.noShow},e.prototype.getNoShow=function(){return!0===this.noShow},e.prototype.setNoShow=function(e){this.noShow=e},e.prototype.resolveSettingsId=function(){return Y(this,void 0,void 0,function(){var e,t,n,i,s,r,o,a;return J(this,function(c){switch(c.label){case 0:return[4,this.apiInstance.fetchRuleset()];case 1:return e=c.sent(),n="",i=e.location,s=e.rules,r=e.defaultRule,o=r.settingsId,a=r.noShow,i&&i.code&&(t=i.regionCode&&s.find(function(e){var t;return null===(t=e.locations)||void 0===t?void 0:t.includes(i.regionCode)})||s.find(function(e){var t;return null===(t=e.locations)||void 0===t?void 0:t.includes(i.code)}),this.locationInstance.setUserCountryData(i),ye.setUserCountryResponse(Gt.mapUserCountryData(i))),this.unsetNoShow(),t?(n=t.settingsId,void 0!==t.noShow&&this.setNoShow(!0===t.noShow)):(n=o,this.setNoShow(!0===a)),[2,{name:"Resolved Settings Id",noShow:this.getNoShow(),settingsId:n}]}})})},e}(),Dn=function(e){this.cookieMaxAgeSeconds=null,this.cookieRefresh=null,this.dataCollected=[],this.dataDistribution=null,this.dataProtectionOfficer=null,this.dataPurposes=[],this.dataRecipients=[],this.deviceStorage=null,this.deviceStorageDisclosureUrl=null,this.language=null,this.processingCompany=null,this.retentionPeriodDescription=null,this.technologiesUsed=[],this.urls=null,this.usesCookies=null,this.usesNonCookieAccess=null,this.cookieMaxAgeSeconds=_e(null==e?void 0:e.cookieMaxAgeSeconds,null),this.cookieRefresh=_e(null==e?void 0:e.cookieRefresh,null),this.dataCollected=e?Ln(e,xe.DATA_COLLECTED_LIST):[],this.dataDistribution=e?Rn(e):null,this.dataProtectionOfficer=_e(null==e?void 0:e.dataProtectionOfficer,null),this.dataPurposes=e?Pn(e):[],this.dataRecipients=e?Ln(e,xe.DATA_RECIPIENTS_LIST):[],this.description=Cn(null,e),this.deviceStorage=_e(null==e?void 0:e.deviceStorage,null),this.deviceStorageDisclosureUrl=_e(null==e?void 0:e.deviceStorageDisclosureUrl,null),this.language=e?Vn(e):null,this.processingCompany=e?kn(e):null,this.retentionPeriodDescription=e?Un(e):null,this.technologiesUsed=e?Ln(e,xe.TECHNOLOGY_USED):[],this.usesCookies=_e(null==e?void 0:e.usesCookies,null),this.usesNonCookieAccess=_e(null==e?void 0:e.usesNonCookieAccess,null),this.urls=e?Mn(e):null},Ln=function(e,t){var n;return Ae(e[t])?e[t]:(null===(n=e[t])||void 0===n?void 0:n.length)>0?[e[t]]:[]},Pn=function(e){var t=Ln(e,xe.DATA_PURPOSES_LIST);return Ae(t)?t:e.dataPurposes},Rn=function(e){return{processingLocation:e.locationOfProcessing,thirdPartyCountries:e.thirdCountryTransfer?e.thirdCountryTransfer.split(","):[]}},Vn=function(e){return{available:e.languagesAvailable,selected:e.language}},kn=function(e){return{address:e.addressOfProcessingCompany,dataProtectionOfficer:e.dataProtectionOfficer,name:e.nameOfProcessingCompany||e.processingCompany}},Un=function(e){var t;return e.retentionPeriodDescription||(null===(t=e.retentionPeriodList)||void 0===t?void 0:t[0])||""},Mn=function(e){return{cookiePolicy:e.cookiePolicyURL,dataProcessingAgreement:e.linkToDpa,optOut:e.optOutUrl,privacyPolicy:e.privacyPolicyURL||e.policyOfProcessorUrl}},xn=function(e){function t(t,n,i,s,r){var o,a,c,u,l,d=this;d=e.call(this,t,n,s,r)||this;var h=t.labels,p=t.tcf2;return d.cookieInformation.purposes=p.labelsPurposes,d.buttons={acceptAll:p.buttonsAcceptAllLabel,denyAll:p.buttonsDenyAllLabel,manageSettings:p.linksManageSettingsLabel,save:p.buttonsSaveLabel,showVendorTab:p.linksVendorListLinkLabel},d.firstLayer={description:{additionalInfo:p.firstLayerAdditionalInfo||null,dataSharedOutsideEUText:p.showDataSharedOutsideEUText&&p.dataSharedOutsideEUText?p.dataSharedOutsideEUText:null,default:p.firstLayerDescription.replace("%VENDOR_COUNT%",i.toString()),resurfaceNote:p.firstLayerNoteResurface||null},disclaimer:{serviceScope:p.firstLayerNoteService},title:p.firstLayerTitle},d.secondLayer={dataSharedOutsideEU:{text:(null===(o=null==s?void 0:s.labels)||void 0===o?void 0:o.VENDORS_OUTSIDE_EU)||null,title:h.transferToThirdCountries},dataTransferFilter:{all:(null===(a=null==s?void 0:s.labels)||void 0===a?void 0:a.ALL)||"All",thirdCountry:(null===(c=null==s?void 0:s.labels)||void 0===c?void 0:c.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},description:p.secondLayerDescription,maxStorageDurationText:((null===(u=null==s?void 0:s.labels)||void 0===u?void 0:u.WEB_TCF_MAX_STORAGE_DURATION_TEXT)||"The choices you make regarding the purposes and entities listed are saved in the local storage %TC_STRING_LOCATION%, for a maximum of 13 months. After 13 months, the CMP will prompt again.").replace("%TC_STRING_LOCATION%","uc_tcf"),maxStorageDurationTitle:(null===(l=null==s?void 0:s.labels)||void 0===l?void 0:l.WEB_TCF_MAX_STORAGE_DURATION_TITLE)||"CMP Storage and Access",purposesTab:p.tabsPurposeLabel,title:p.secondLayerTitle,vendorsTab:p.tabsVendorsLabel},d.titles={acmVendors:p.atpListTitle,examples:p.examplesLabel||"Examples",features:p.labelsFeatures,iabVendors:p.labelsIabVendors,nonIabPurposes:p.labelsNonIabPurposes,nonIabVendors:p.labelsNonIabVendors,purposes:p.labelsPurposes},d.toggles={consent:t.tcf2.togglesConsentToggleLabel,legitimateInterest:t.tcf2.togglesLegIntToggleLabel,specialFeaturesToggle:{offLabel:t.tcf2.togglesSpecialFeaturesToggleOff,onLabel:t.tcf2.togglesSpecialFeaturesToggleOn}},d.vendor={dataCategories:p.categoriesOfDataLabel,dataRetention:p.dataRetentionPeriodLabel,dataRetentionUnit:h.days,features:p.vendorFeatures,legitimateInterest:p.vendorLegitimateInterestPurposes,legitimateInterestClaim:p.legitimateInterestLabel,privacyPolicy:h.privacyPolicyLinkText,purposes:p.vendorPurpose,specialFeatures:p.vendorSpecialFeatures,specialPurposes:p.vendorSpecialPurposes,toggleAll:p.labelsActivateAllVendors},d.acmVendor={privacyPolicy:p.atpAdditionalInfo},d}return O(t,e),t}(An),Fn=function(){function e(){this.aggregatedServices=[],this.allLegacyServicesHaveName=!1,this.isVariantLoaded=!1,this.isAggregatorLoaded=!1,this.language="",this.translations=null,this.botInstance=Xt.getInstance(),this.locationInstance=Gt.getInstance(),this.rulesetInstance=Nn.getInstance(),this.apiInstance=Yt.getInstance(),this._core=null,this._coreJson=null,this._data=null,this._dpsJson=null,this._labels=null,this._legacySettings=null,this._ui=null,this.controllerIdInstance=xt.getInstance(),this.acceptAllImplicitlyOnInit=null,this.denyAllExplicitlyOnInit=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.allLegacyServicesHaveName=!1,e.instance.core=null,e.instance.data=null,e.instance.labels=null,e.instance.legacySettings=null,e.instance.ui=null,e.instance.dpsJson=null,e.instance.coreJson=null},Object.defineProperty(e.prototype,"core",{get:function(){return this._core},set:function(e){this._core=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coreJson",{get:function(){return this._coreJson},set:function(e){this._coreJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dpsJson",{get:function(){return this._dpsJson},set:function(e){this._dpsJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"legacySettings",{get:function(){return this._legacySettings},set:function(e){this._legacySettings=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},set:function(e){this._ui=e},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,n){return Y(this,void 0,void 0,function(){return J(this,function(i){return this.language=n,this.core=new _n(e,n),this.coreJson=e,this.dpsJson=t,this.isAggregatorLoaded=!1,this.allLegacyServicesHaveName=this.checkIfServiceNameExists(t.consentTemplates),this.isAggregatorLoaded=!1,[2]})})},e.prototype.initData=function(e,t,i,s,r,o,a){return void 0===t&&(t=[]),void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===r&&(r=[]),void 0===o&&(o=!1),void 0===a&&(a=!1),Y(this,void 0,void 0,function(){var c,u,l,d,h,p,g=this;return J(this,function(f){switch(f.label){case 0:if(u=(c=this).coreJson,l=c.dpsJson,d=c.legacySettings,!u||!l)return[2];switch(h=this.controllerIdInstance.value,p=(null==t?void 0:t.length)?t:this.aggregatedServices,e){case 0:return[3,1];case 2:return[3,3];case 1:return[3,5]}return[3,7];case 1:return[4,Promise.resolve().then(n.bind(n,534)).then(function(e){var t=new(0,e.default)(u,l,h,o);g.data=t})];case 2:return f.sent(),[3,8];case 3:return d?[4,Promise.resolve().then(n.bind(n,379)).then(function(e){var t=e.default;return Y(g,void 0,void 0,function(){var e,n;return J(this,function(o){switch(o.label){case 0:return(e=this.getDataTransferSettings())&&u.tcf2?(n=new t(d,u.tcf2,l,e,h,this.language,r,a),this.data=n,i?[4,n.init(s)]:[3,2]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})]:[2];case 4:return f.sent(),[3,8];case 5:return[4,Promise.resolve().then(n.bind(n,559)).then(function(e){var t=new(0,e.default)(l,h,p);g.data=t})];case 6:return f.sent(),[3,8];case 7:console.error("Usercentrics: Unknown variant"),f.label=8;case 8:return this.isVariantLoaded=!0,[2]}})})},e.prototype.checkIfServiceNameExists=function(e){return e.every(function(e){var t;return null!=(null===(t=e._meta)||void 0===t?void 0:t.name)})},e.prototype.initLabels=function(e,t,n){var i=this,s=i.coreJson,r=i.dpsJson,o=i.legacySettings,a=(null==n?void 0:n.length)?n:this.aggregatedServices;if(r&&this.core)if(o)switch(e){case 0:var c=new bn(o,r,t,a);this.labels=c;break;case 1:var u=new wn(o,r,t,a);this.labels=u;break;case 2:var l=new xn(o,r,this.getThirdPartyCount(),t,a);this.labels=l;break;default:console.error("Usercentrics: Unknown variant")}else{var d=new On(r,a,t),h=s?{label:"Powered by",partnerUrlLabel:_e(s.labels.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"}:void 0;this.labels=W(W({},d),{poweredBy:h})}else console.error("Usercentrics: You have to call the init method before!")},e.prototype.initUI=function(e,t){return Y(this,void 0,void 0,function(){var i,s,r,o=this;return J(this,function(a){switch(a.label){case 0:return s=(i=this).coreJson,r=i.legacySettings,s?2!==e?[3,2]:[4,Promise.resolve().then(n.bind(n,698)).then(function(e){var t,n=e.default,i=Re.CAT,a=!1;r&&(i=r.secondLayer.defaultView,a=r.secondLayer.hideDataProcessingServices);var c=new n(s,{defaultView:i,hideDataProcessingServices:a}),u=s.enablePoweredBy?{partnerUrl:s.partnerPoweredByUrl||null,url:"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"}:null;o.ui=W(W({},c),{customCss:(null===(t=null==r?void 0:r.features)||void 0===t?void 0:t.customCss)&&r.useUnsafeCustomCss&&null!=r.stylesCss?r.stylesCss:null,poweredBy:u})})]:[2];case 1:return a.sent(),[2];case 2:if(!r)return[2];switch(t){case 0:return[3,3];case 1:return[3,5];case 2:return[3,7]}return[3,9];case 3:return[4,Promise.resolve().then(n.bind(n,112)).then(function(e){var t=new(0,e.default)(s,r);o.ui=t})];case 4:return a.sent(),[3,10];case 5:return[4,Promise.resolve().then(n.bind(n,739)).then(function(e){var t=new(0,e.default)(s,r);o.ui=t})];case 6:return a.sent(),[3,10];case 7:return[4,Promise.resolve().then(n.bind(n,410)).then(function(e){var t=new(0,e.default)(s,r);o.ui=t})];case 8:return a.sent(),[3,10];case 9:console.error("Usercentrics: Unknown variant"),a.label=10;case 10:return[2]}})})},e.prototype.getCcpaData=function(){return rt(this.data)?this.data:null},e.prototype.getDefaultData=function(){return function(e){return null!=e&&!rt(e)&&!ot(e)}(this.data)?this.data:null},e.prototype.getTcfData=function(){return ot(this.data)?this.data:null},e.prototype.getCcpaLabels=function(){return at(this.labels)?this.labels:null},e.prototype.getDefaultLabels=function(){return ut(this.labels)?this.labels:null},e.prototype.getTcfLabels=function(){return ct(this.labels)?this.labels:null},e.prototype.getCcpaUI=function(){return dt(this.ui)?this.ui:null},e.prototype.getDefaultUI=function(){return pt(this.ui)?this.ui:null},e.prototype.getTcfUI=function(){return ht(this.ui)?this.ui:null},e.prototype.getDataExchangeSettings=function(){return this.core?this.core.dataExchangeSettings:[]},e.prototype.getCategoriesData=function(){return this.data?this.data.categories:[]},e.prototype.getCategoriesBaseData=function(){var e=this;return this.data?this.data.categories.map(function(t){return{isEssential:t.isEssential,isHidden:t.isHidden,services:e.getServicesBaseInfo().filter(function(e){return e.categorySlug===t.slug}),slug:t.slug}}):[]},e.prototype.getCategoriesLabels=function(){return this.labels&&lt(this.labels)?this.labels.categories:[]},e.prototype.getCategoriesDataAndLabels=function(){return function(e,t,n){return e.reduce(function(e,i){var s=t.find(function(e){return e.slug===i.slug}),r=it(i.services,n);return s&&e.push(W(W(W({},s),i),{services:r})),e},[])}(this.getCategoriesData(),this.getCategoriesLabels(),this.getServicesLabels())},e.prototype.getCategoriesBasic=function(){var e=this.getCategoriesData(),t=this.getServicesLabels();return e.reduce(function(e,n){return K(K([],z(e),!1),[W(W({},n),{services:nt(n.services,t)})],!1)},[])},e.prototype.getCategoriesBaseInfo=function(){return this.getCategoriesDataAndLabels()},e.prototype.getCategoriesFullInfo=function(e,t){return Y(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getCategoriesDataAndLabels()]}})})},e.prototype.getDataTransferSettings=function(e){return this.core?{controllerId:this.controllerIdInstance.value,id:this.core.id,selectedLanguage:this.core.language.selected,version:e||this.core.version}:null},e.prototype.getEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce(function(e,t){return t.isEssential?K(K([],z(e),!1),[t],!1):e},[]):this.getCategoriesBasic().filter(function(e){return e.isEssential})},e.prototype.getEssentialCategoriesData=function(){return this.getCategoriesData().reduce(function(e,t){return t.isEssential?K(K([],z(e),!1),[t],!1):e},[])},e.prototype.getNonEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce(function(e,t){return t.isEssential?e:K(K([],z(e),!1),[t],!1)},[]):this.getCategoriesBasic().filter(function(e){return!e.isEssential})},e.prototype.getNonEssentialCategoriesData=function(){return this.getCategoriesData().reduce(function(e,t){return t.isEssential?e:K(K([],z(e),!1),[t],!1)},[])},e.prototype.getGoogleConsentMode=function(){return!!this.core&&this.core.googleConsentMode},e.prototype.getServicesLabels=function(){return this.labels?this.labels.services:[]},e.prototype.getServicesData=function(){return this.getCategoriesData().reduce(function(e,t){return K(K([],z(e),!1),z(t.services),!1)},[])},e.prototype.getServicesDataAndLabels=function(){var e=this.getServicesData();return it(e,this.getServicesLabels())},e.prototype.getServicesBaseInfo=function(){var e,t;return e=this.mapBaseServices(this.getServicesData()),t=this.getServicesLabels(),e.reduce(function(e,n){var i=t.find(function(e){return e.id===n.id});return K(K([],z(e),!1),[W(W(W({},n),i||tt),{id:n.id})],!1)},[])},e.prototype.getServicesFullInfo=function(e,t){return Y(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getServicesDataAndLabels()]}})})},e.prototype.getServicesFromCategories=function(e){return e.reduce(function(e,t){return e.concat(t.services)},[])},e.prototype.getServicesWithConsent=function(){return this.getServicesDataAndLabels().reduce(function(e,t){return t.consent.status?K(K([],z(e),!1),[t],!1):e},[])},e.prototype.areAllServicesAccepted=function(){return this.getServicesData().every(function(e){return e.consent.status})},e.prototype.areAllVendorsAndPurposesAccepted=function(){var e=this.getTcfData();return!!e&&e.areAllPurposesAccepted()&&e.areAllVendorsAccepted()},e.prototype.extendServices=function(e,t){return Y(this,void 0,void 0,function(){var n,i;return J(this,function(s){switch(s.label){case 0:return(n=this.dpsJson)?(this.isAggregatorLoaded=!0,[4,this.fetchServices(n)]):[2];case 1:return(i=s.sent())&&0!==i.length?(this.aggregatedServices=i,this.initLabels(e,t,i),this.data&&(this.data.categories=this.data.categories.map(function(e){var t=n.categories.find(function(t){return t.categorySlug===e.slug});return W(W({},e),{services:e.services.map(function(e){if(n.consentTemplates.find(function(t){return t.templateId===e.id})&&t){var s=null==i?void 0:i.find(function(t){return e.id===t.templateId&&e.version===t.version}),r=new Dn(s);return W(W({},e),r)}return e})})})),[2]):[2]}})})},e.prototype.isCcpaEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isCcpaEnabled)||!1},e.prototype.isCcpaAvailable=function(){var e;if(this.isCcpaEnabled()&&null!=(null===(e=this.coreJson)||void 0===e?void 0:e.ccpa))switch(this.coreJson.ccpa.region){case ke.US:return this.locationInstance.getIsUserInUS();case ke.US_CA_ONLY:return this.locationInstance.getIsUserInCalifornia();default:return Promise.resolve(!0)}return Promise.resolve(!1)},e.prototype.isCrossDomainEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.consentSharingIFrameIsActive)||!1},e.prototype.isTcfEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isTcfEnabled)||!1},e.prototype.isTcfAvailable=function(){var e;return this.isTcfEnabled()&&null!=(null===(e=this.coreJson)||void 0===e?void 0:e.tcf2)},e.prototype.isTagLoggerActive=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isTagLoggerActive)||!1},e.prototype.mergeServicesIntoExistingCategories=function(e){return this.getCategoriesDataAndLabels().map(function(t){return W(W({},t),{services:t.services.map(function(t){return e.find(function(e){return e.id===t.id})||t})})})},e.prototype.mergeServicesDataIntoExistingCategories=function(e){return this.getCategoriesData().map(function(t){return W(W({},t),{services:t.services.map(function(t){return e.find(function(e){return e.id===t.id})||t})})})},e.prototype.setCategories=function(e){this.data&&(this.data.categories=e)},e.prototype.setControllerId=function(e){this.data&&(this.data.controllerId=e),ot(this.data)&&this.data.updateControllerId(e)},e.prototype.updateServicesLanguage=function(e){this.data&&this.data.categories.map(function(t){return W(W({},t),{services:t.services.map(function(t){return W(W({},t),{language:W(W({},t.language),{selected:e})})})})})},e.prototype.shouldDenyAllExplicitlyOnInit=function(){var e;return Y(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return null!==this.denyAllExplicitlyOnInit?[2,this.denyAllExplicitlyOnInit]:(t=this,[4,this.isCcpaAvailable()]);case 1:return t.denyAllExplicitlyOnInit=n.sent()&&!(null===(e=this.getCcpaData())||void 0===e?void 0:e.isExplicitConsented)&&!0===navigator.globalPrivacyControl||!1,[2,this.denyAllExplicitlyOnInit]}})})},e.prototype.shouldAcceptAllImplicitlyOnInit=function(){var e,t;return Y(this,void 0,void 0,function(){var n,i,s,r,o,a;return J(this,function(c){switch(c.label){case 0:return null!==this.acceptAllImplicitlyOnInit?[2,this.acceptAllImplicitlyOnInit]:(n=this,(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()]);case 1:r=c.sent()&&!navigator.globalPrivacyControl,c.label=2;case 2:return(s=r)?[3,5]:(o=null===(e=this.core)||void 0===e?void 0:e.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null===(t=this.getTcfData())||void 0===t?void 0:t.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return n.acceptAllImplicitlyOnInit=i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow(),[2,this.acceptAllImplicitlyOnInit]}})})},e.prototype.shouldAcceptAllImplicitlyOnVendorAdded=function(){var e,t,n;return Y(this,void 0,void 0,function(){var i,s,r,o,a;return J(this,function(c){switch(c.label){case 0:return(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()];case 1:r=c.sent()&&!(null===(e=this.getCcpaData())||void 0===e?void 0:e.isOptedOut),c.label=2;case 2:return(s=r)?[3,5]:(o=null===(t=this.core)||void 0===t?void 0:t.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null===(n=this.getTcfData())||void 0===n?void 0:n.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return[2,i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow()]}})})},e.prototype.shouldShowFirstLayerOnVersionChange=function(){var e=ye.fetchSettingsVersion();if(this.core&&e&&Ae(this.core.showFirstLayerOnVersionChange)){var t=this.core.version.split("."),n=e.split(".");return Ie(this.core.showFirstLayerOnVersionChange,V.MAJOR)&&t[0]!==n[0]||Ie(this.core.showFirstLayerOnVersionChange,V.MINOR)&&t[1]!==n[1]||Ie(this.core.showFirstLayerOnVersionChange,V.PATCH)&&t[2]!==n[2]}return!1},e.prototype.getUpdatedServicesWithConsent=function(e){return this.getServicesDataAndLabels().map(function(t){if(!t.isEssential){var n=t;return n.consent.status=e===P.TRUE,n}return t})},e.prototype.getUpdatedServicesDataWithConsent=function(e){return this.getServicesData().map(function(t){if(!t.isEssential){var n=t;return n.consent.status=e===P.TRUE,n}return t})},e.prototype.getUpdatedServicesWithDecisions=function(e){return this.getServicesDataAndLabels().map(function(t){var n=e.find(function(e){return e.serviceId===t.id}),i=t;return i.consent.status=t.isEssential||(n?n.status:t.consent.status),i})},e.prototype.getUpdatedServicesDataWithDecisions=function(e){return this.getServicesData().map(function(t){var n=e.find(function(e){return e.serviceId===t.id}),i=t;return i.consent.status=t.isEssential||(n?n.status:t.consent.status),i})},e.prototype.updateDataTransferSettings=function(e){var t=e.controllerId,n=e.id,i=e.selectedLanguage,s=e.version;this.core&&this.data&&(this.data.controllerId=t,this.core.id=n,this.core.language.selected=i,this.core.version=s)},e.prototype.isTcfHistoryV2Disabled=function(){return!!ot(this.data)&&!0===this.data.tcfv2HistoryDisabled},e.prototype.getTCFPurposeOneTreatment=function(){return ot(this.data)&&this.data.purposeOneTreatment||!1},e.prototype.getTCFStackIds=function(){return ot(this.data)?this.data.stackIds:[]},e.prototype.getTCFVendorIds=function(){return ot(this.data)?this.data.vendorIds:[]},e.prototype.getTCFDisclosedVendorsSegmentString=function(){var e;return null===(e=this.getTcfData())||void 0===e?void 0:e.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return Y(this,void 0,void 0,function(){var t;return J(this,function(n){return(t=this.getTcfData())?[2,t.injectTCString(e)]:[2,!1]})})},e.prototype.fetchServices=function(e){return Y(this,void 0,void 0,function(){var t,n,i,s;return J(this,function(r){switch(r.label){case 0:return(t=Wt(e.consentTemplates)).length?(n=Yt.getInstance(),i=Xt.getInstance(),s=[],i.isRobot()?[3,2]:[4,n.fetchAggregatedServices(t)]):[2,null];case 1:s=r.sent(),r.label=2;case 2:return[2,s]}})})},e.prototype.mapBaseServices=function(e){return e.map(function(e){return{categorySlug:e.categorySlug,consent:e.consent,fetchSubServices:e.fetchSubServices,id:e.id,isEssential:e.isEssential,isHidden:e.isHidden,processorId:e.processorId,subServices:e.subServices,subServicesLength:e.subServicesLength,usesThirdCountry:e.usesThirdCountry,version:e.version}})},e.prototype.getThirdPartyCount=function(){var e=ot(this.data)?this.data.getVendorsCount():0;return this.getServicesData().length+e},e}(),Gn=function(){function e(){this.restoreAction=null,this.apiInstance=Yt.getInstance(),this.controllerIdInstance=xt.getInstance(),this.eventDispatcherInstance=rn.getInstance(),this.settingsV2=Fn.getInstance(),this.botInstance=Xt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.userSessionData},e.prototype.execute=function(e,t,n,i,s,r){var o,a,c,u=this.settingsV2.getDataTransferSettings();if(u){var l=e.map(function(e){return we(u,e,n,i,e.categorySlug)}),d=Bn(t,l);if(!this.botInstance.isRobot()&&(r&&this.apiInstance.saveConsentsV1_DEPRECATED({consentString:s,dataTransferObjects:l}),null===(o=this.settingsV2.core)||void 0===o?void 0:o.consentAPIv2)){var h=Oe({consentAction:n,consentString:s,dataTransferSettings:u,isAnalyticsEnabled:null===(a=this.settingsV2.core)||void 0===a?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null===(c=this.settingsV2.core)||void 0===c?void 0:c.consentXDevice,isTcf:!1,services:e});this.apiInstance.saveConsents(h)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d));var p,g=this.settingsV2.getServicesDataAndLabels(),f=ye.mapSettings(u,g);ye.saveSettings(f,g),mn.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent());var v=this.settingsV2.getTcfData();v&&v.advertiserConsentModeEnabled&&(p=v.getTCFData().vendors.find(function(e){return 755===e.id})),this.eventDispatcherInstance.dispatch(l,p,this.settingsV2.getGoogleConsentMode())}},e.prototype.getMergedServicesAndSettingsFromStorage=function(e){var t=e,n=ye.fetchSettings();if(n&&t){var i=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategories()),s=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategoriesData()),r=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategories()),o=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategoriesData()),a=this.getMergedAndUpdatedEssentialServices(i,n),c=this.getMergedAndUpdatedEssentialServices(s,n),u=this.getMergedNonEssentialServices(r,n),l=this.getMergedNonEssentialServices(o,n);return n.controllerId!==this.controllerIdInstance.value&&""===this.controllerIdInstance.value&&(this.controllerIdInstance.value=n.controllerId,t.controllerId=n.controllerId,ot(t)&&t.updateControllerId(n.controllerId)),{dataTransferSettings:this.settingsV2.getDataTransferSettings(),mergedServices:a.mergedEssentialServices.concat(u),mergedServicesData:c.mergedEssentialServices.concat(l),mergedSettingsData:t,updatedEssentialServices:a.updatedEssentialServices}}return{dataTransferSettings:null,mergedServices:[],mergedServicesData:[],mergedSettingsData:t,updatedEssentialServices:[]}},e.prototype.getLatestConsentType=function(e){return e.length>0?e[e.length-1].type:"implicit"},e.prototype.getLatestConsentAction=function(e){return e.length>0?e[e.length-1].action:"onInitialPageLoad"},e.prototype.setUserSessionData=function(e){this.userSessionData=e},e.prototype.mergeServicesAndSettings=function(e,t,n,i,s,r){var o,a,c,u=this;if(!n)return[];if(Ae(i)){var l=i.map(function(e){return we(n,e,"onEssentialChange",u.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)}),d=Bn(t,l),h=$n(t,d,s);if(r&&this.apiInstance.saveConsentsV1_DEPRECATED({dataTransferObjects:l}),null===(o=this.settingsV2.core)||void 0===o?void 0:o.consentAPIv2){var p=Oe({consentAction:"onEssentialChange",dataTransferSettings:n,isAnalyticsEnabled:null===(a=this.settingsV2.core)||void 0===a?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null===(c=this.settingsV2.core)||void 0===c?void 0:c.consentXDevice,isTcf:this.settingsV2.isTcfAvailable(),services:i});this.apiInstance.saveConsents(p)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d)),ye.saveSettings(ye.mapSettings(n,h),h)}else this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(t)),ye.saveSettings(ye.mapSettings(n,e),e);return e.map(function(e){return we(n,e,u.getLatestConsentAction(e.consent.history),u.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)})},e.prototype.restoreUserSession=function(e){var t,n,i;return Y(this,void 0,void 0,function(){var s;return J(this,function(r){switch(r.label){case 0:return this.controllerIdInstance.value&&this.controllerIdInstance.needsSessionRestore&&(!(null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2)||(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentAPIv2)&&(null===(i=this.settingsV2.core)||void 0===i?void 0:i.consentXDevice))?[4,this.getCrossDeviceSessionData(this.controllerIdInstance.value)]:[3,2];case 1:s=r.sent(),r.label=2;case 2:if(!s&&this.userSessionData&&(s=W({},this.userSessionData)),!s&&window[ee]&&"function"==typeof window[ee].getUserSessionData)try{(null==(s=JSON.parse(window[ee].getUserSessionData(),function(e,t){if("timestamp"===e){var n=t.toString();return-1!==n.indexOf(".")?1e3*Number(n):Number(n)}return t}))?void 0:s.consents)&&(null==s?void 0:s.consents.length)&&!s.consents.every(function(e){return e.action})&&(s.consents=s.consents.map(function(e){return W(W({},e),{action:"onMobileSessionRestore"})}),this.restoreAction="onMobileSessionRestore")}catch(e){}return s||!fe.isCrossDomainAvailable()?[3,4]:[4,this.getCrossDomainSessionData()];case 3:s=r.sent(),r.label=4;case 4:return s&&s.controllerId?[2,this.restoreData(s,e)]:(this.controllerIdInstance.needsSessionRestore=!1,[2,!1])}})})},e.prototype.getCrossDomainSessionData=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,fe.getCrossDomainSessionData().catch(function(){return console.warn(j.CROSS_DOMAIN_DATA_NOT_AVAILABLE),{}})];case 1:return[2,e.sent()]}})})},e.prototype.getCrossDeviceSessionData=function(e){var t,n;return Y(this,void 0,void 0,function(){var i,s,r,o,a,c,u,l,d,h,p;return J(this,function(g){switch(g.label){case 0:return i=["dWLDa0s-m","VkvM9IcSA","Zdgjo9gQh","r2tAWzO7","GVl-ixMH"],s=this.apiInstance.getSettingsId(),r=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return o=g.sent(),a=null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2,c=[],u=null,l=null,a?[4,this.apiInstance.fetchUserConsentsV2(r,o).catch(function(){return console.warn(H.CROSS_DEVICE_DATA_NOT_AVAILABLE),null})]:[3,3];case 2:return d=g.sent(),c=null!==(n=null==d?void 0:d.consents)&&void 0!==n?n:[],r&&(-1===i.indexOf(s)&&this.settingsV2.isTcfHistoryV2Disabled()||(u=null==d?void 0:d.tcf)),o&&(l=null==d?void 0:d.ccpa),[3,8];case 3:return[4,this.apiInstance.fetchUserConsents().catch(function(){return console.warn(H.CROSS_DEVICE_DATA_NOT_AVAILABLE),[]})];case 4:return h=g.sent(),c=h,r?-1===i.indexOf(s)?[3,6]:[4,this.apiInstance.fetchUserTcfData().catch(function(){return console.warn(H.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null})]:[3,8];case 5:return u=g.sent(),[3,8];case 6:return this.settingsV2.isTcfHistoryV2Disabled()?[3,8]:[4,this.apiInstance.fetchUserTcfDataV2().catch(function(){return console.warn(H.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null})];case 7:u=g.sent(),g.label=8;case 8:return r&&!u&&fe.isCrossDomainAvailable()?[4,this.getCrossDomainSessionData()]:[3,10];case 9:(p=g.sent())&&p.tcf&&p.controllerId===e&&(u=p.tcf),g.label=10;case 10:return[2,W(W({consents:c,controllerId:e,language:this.apiInstance.getJsonFileLanguage()},null!==u&&{tcf:u}),null!==l&&{ccpa:l})]}})})},e.prototype.restoreData=function(e,t){return Y(this,void 0,void 0,function(){var n,i,s,r,o,a,c,u,l,d,h,p,g,f,v,S,E,m,y=this;return J(this,function(I){switch(I.label){case 0:return n=e.controllerId,i=e.consents,s=e.tcf,r=e.ccpa,o=this.settingsV2.core,a=this.getDataFacadeServices(t),c=ye.fetchControllerId(),this.controllerIdInstance.value=n,u=ye.fetchTCFData(),l=!1,!n||!Ae(i)&&a.length?[3,5]:(d=jn(i),h=ye.fetchServices(),"onSessionRestored"===e.consents[0].action&&n===c&&h.length===d.length&&h[0].history.length>0&&h[0].history[0].action&&"onSessionRestored"===h[0].history[0].action?[3,5]:[3,1]);case 1:return!Ae(d)&&a.length?[3,5]:(p=[],g=[],d.forEach(function(e){var t=a.findIndex(function(t){return t.id===e.templateId});if(t>-1){var n=a[t],i=n;i.consent.status=e.status;var s=g.findIndex(function(e){return e.id===n.id});-1===s?g.push(i):g[s]=i,a[t]=i;var r=y.settingsV2.getDataTransferSettings(e.settingsVersion);r&&p.push(we(r,i,e.action,e.updatedBy,n.categorySlug,{timestamp:"string"==typeof e.timestamp?y.resolveTimestamp(e.timestamp):e.timestamp}))}}),this.settingsV2.data&&this.settingsV2.setControllerId(n),f=void 0,v=void 0,o&&d.length&&(v=De(d.map(function(e){return e.settingsVersion})).sort(qe)).length&&(f=v[v.length-1]),S=Bn(a,p),(E=this.settingsV2.getDataTransferSettings(f))?c&&n&&n!==c?[4,ye.clearAll()]:[3,3]:[3,4]);case 2:I.sent(),I.label=3;case 3:ye.saveSettings(ye.mapSettings(E,S),S),I.label=4;case 4:Ae(d)&&ye.setUserActionPerformed(!0),l=!0,I.label=5;case 5:return s&&s.tcString&&(s.tcString!==u.tcString||s.acString!==u.acString)&&(ye.saveTCFData(s),a.length||ye.setUserActionPerformed(!0)),m=this.settingsV2.getCcpaData(),r&&r.ccpaString&&m&&(m.setIsOptedOut(r.ccpaString),ye.setCcpaString(r.ccpaString),r.timestamp?ye.setCcpaTimeStamp(r):ye.clearCcpaData(),ye.setUserActionPerformed(!0)),[2,l]}})})},e.prototype.getDataFacadeServices=function(e){var t=this.settingsV2.checkIfServiceNameExists,n=e.categories,i=e.consentTemplates;if(i.length>0&&t(i))return i.map(function(e){var t,i=n.find(function(t){return t.categorySlug===e.categorySlug});return{categorySlug:e.categorySlug,consent:In(e,i),id:e.templateId,name:(null===(t=e._meta)||void 0===t?void 0:t.name)||"",processorId:"".concat(Lt(Mt())),version:e.version}});var s=this.settingsV2.getServicesDataAndLabels();return s.length>0?s.map(function(e){return{categorySlug:e.categorySlug,consent:e.consent,id:e.id,name:e.name,processorId:e.processorId,version:e.version}}):[]},e.prototype.getMergedAndUpdatedEssentialServices=function(e,t){var n=this,i=[],s=e.map(function(e){var s,r,o=null===(s=t.services)||void 0===s?void 0:s.find(function(t){return t.id===e.id});if(o){var a=e;return a.consent.history=o.history,a.consent.status=!0,a.processorId=o.processorId,a.categorySlug=(null===(r=n.settingsV2.getCategoriesBaseData().find(function(e){return e.services.some(function(e){return e.id===a.id})}))||void 0===r?void 0:r.slug)||"",o.status||i.push(a),a}return e});return{mergedEssentialServices:s,updatedEssentialServices:i}},e.prototype.getMergedNonEssentialServices=function(e,t){return e.map(function(e){var n,i,s=null===(n=t.services)||void 0===n?void 0:n.find(function(t){return t.id===e.id});if(s)return(r=e).consent.history=s.history,r.consent.status=s.status,r.processorId=s.processorId,r;if(0===e.consent.history.length){var r=e,o=null===(i=t.services)||void 0===i?void 0:i.find(function(e){return e.history.length>0});return r.consent.history=[{action:"onInitialPageLoad",language:e.language?e.language.selected:cn,status:e.consent.status,timestamp:(new Date).getTime(),type:"implicit",versions:o&&o.history.length>0?o.history[0].versions:{application:"",service:e.version,settings:""}}],r}return e})},e.prototype.resolveTimestamp=function(e){return 10===e.length?1e3*parseInt(e,10):parseInt(e,10)},e}(),Bn=function(e,t){return e.map(function(e){var n=t.filter(function(t){return t.service.id===e.id});if(Ae(n)){var i=e.consent.history,s=i.length+n.length,r=s<=3?i:i.slice(s-3),o=e;return o.consent.history=K(K([],z(r),!1),z(n.map(function(e){return Hn(e)})),!1),o}return e})},$n=function(e,t,n){return e.reduce(function(e,i){var s=t.find(function(e){return e.id===i.id}),r=n.find(function(e){return e.id===i.id});return s&&r?K(K([],z(e),!1),[{categorySlug:i.categorySlug,consent:s.consent,id:i.id,language:i.language,name:r.name,processorId:i.processorId,version:i.version}],!1):K([],z(e),!1)},[])},Hn=function(e){return{action:e.consent.action,language:e.settings.language,status:e.consent.status,timestamp:e.timestamp,type:e.consent.type,versions:{application:e.applicationVersion,service:e.service.version,settings:e.settings.version}}},jn=function(e){return e.filter(function(e){return!Et.includes(e.action)})},qn=u(function e(t,n,i,s){a(this,e),d(this,"eventName",void 0),d(this,"listenerId",void 0),d(this,"data",void 0),d(this,"pingData",void 0),this.eventName=t,this.listenerId=n,this.data=i,this.pingData=s}),Wn=u(function e(t){a(this,e),d(this,"gppVersion",void 0),d(this,"cmpStatus",void 0),d(this,"cmpDisplayStatus",void 0),d(this,"signalStatus",void 0),d(this,"supportedAPIs",void 0),d(this,"cmpId",void 0),d(this,"sectionList",void 0),d(this,"applicableSections",void 0),d(this,"gppString",void 0),d(this,"parsedSections",void 0),this.gppVersion=t.gppVersion,this.cmpStatus=t.cmpStatus,this.cmpDisplayStatus=t.cmpDisplayStatus,this.signalStatus=t.signalStatus,this.supportedAPIs=t.supportedAPIs,this.cmpId=t.cmpId,this.sectionList=t.gppModel.getSectionIds(),this.applicableSections=t.applicableSections,this.gppString=t.gppModel.encode(),this.parsedSections=t.gppModel.toObject()}),Yn=u(function e(t,n,i){a(this,e),d(this,"callback",void 0),d(this,"parameter",void 0),d(this,"success",!0),d(this,"cmpApiContext",void 0),this.cmpApiContext=t,Object.assign(this,{callback:n,parameter:i})},[{key:"execute",value:function(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(e){var t=null!==e;this.callback&&this.callback(e,t)}}]),Jn=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,Yn),u(e,[{key:"respond",value:function(){var e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new qn("listenerRegistered",e,!0,new Wn(this.cmpApiContext));this.invokeCallback(t)}}])}(),zn=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,Yn),u(e,[{key:"respond",value:function(){var e=new Wn(this.cmpApiContext);this.invokeCallback(e)}}])}(),Kn=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,Yn),u(e,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");var e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");var t=e[0],n=e[1],i=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(i)}}])}(),Qn=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,Yn),u(e,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");var e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}])}(),Xn=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,Yn),u(e,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");var e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}])}();!function(e){e.ADD_EVENT_LISTENER="addEventListener",e.GET_FIELD="getField",e.GET_SECTION="getSection",e.HAS_SECTION="hasSection",e.PING="ping",e.REMOVE_EVENT_LISTENER="removeEventListener"}(Sn||(Sn={}));var Zn,ei,ti,ni,ii,si,ri=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,Yn),u(e,[{key:"respond",value:function(){var e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new qn("listenerRemoved",e,t,new Wn(this.cmpApiContext));this.invokeCallback(n)}}])}();Zn=Sn.ADD_EVENT_LISTENER,ei=Sn.GET_FIELD,ti=Sn.GET_SECTION,ni=Sn.HAS_SECTION,ii=Sn.PING,si=Sn.REMOVE_EVENT_LISTENER;var oi,ai,ci,ui,li=u(function e(){a(this,e)});d(li,Zn,Jn),d(li,ei,Kn),d(li,ti,Qn),d(li,ni,Xn),d(li,ii,zn),d(li,si,ri),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(oi||(oi={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(ai||(ai={})),function(e){e.GPP_LOADED="gpploaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(ci||(ci={})),function(e){e.NOT_READY="not ready",e.READY="ready"}(ui||(ui={}));var di=u(function e(t,n){if(a(this,e),d(this,"callQueue",void 0),d(this,"customCommands",void 0),d(this,"cmpApiContext",void 0),this.cmpApiContext=t,n){var i=Sn.ADD_EVENT_LISTENER;if(null!=n&&n[i])throw new Error("Built-In Custom Commmand for ".concat(i," not allowed"));if(i=Sn.REMOVE_EVENT_LISTENER,null!=n&&n[i])throw new Error("Built-In Custom Commmand for ".concat(i," not allowed"));this.customCommands=n}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}},[{key:"apiCall",value:function(e,t,n,i){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new li[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){var t;(t=window).__gpp.apply(t,C(e))})}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==li[e]}}]),hi=u(function e(t){a(this,e),d(this,"eventQueue",new Map),d(this,"queueNumber",1e3),d(this,"cmpApiContext",void 0),this.cmpApiContext=t;try{for(var n=window.__gpp("events")||[],i=0;i<n.length;i++){var s=n[i];this.eventQueue.set(s.id,{callback:s.callback,parameter:s.parameter})}}catch(e){console.log(e)}},[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"get",value:function(e){return this.eventQueue.get(e)}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(e,t){var n=this;this.eventQueue.forEach(function(i,s){var r=new qn(e,s,t,new Wn(n.cmpApiContext));i.callback(r,!0)})}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),pi=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="DecodingError",n}return g(e,_(Error)),u(e)}(),gi=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){var n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);for(var i="",s=0;s<n.length;s++){var r=n[s];e>=r?(i+="1",e-=r):i+="0"}for(;i.length<t;)i="0"+i;return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new pi("Undecodable FixedInteger '"+e+"'");for(var t=0,n=[],i=0;i<e.length;i++)n[e.length-(i+1)]=0===i?1:2*n[e.length-i];for(var s=0;s<e.length;s++)"1"===e.charAt(s)&&(t+=n[s]);return t}}]),fi=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="EncodingError",n}return g(e,_(Error)),u(e)}(),vi=function(){function e(){a(this,e)}return u(e,[{key:"encode",value:function(t){if(!/^[0-1]*$/.test(t))throw new fi("Unencodable Base64Url '"+t+"'");t=this.pad(t);for(var n="",i=0;i<=t.length-6;){var s=t.substring(i,i+6);try{var r=gi.decode(s);n+=e.DICT.charAt(r),i+=6}catch(e){throw new fi("Unencodable Base64Url '"+t+"'")}}return n}},{key:"decode",value:function(t){if(!/^[A-Za-z0-9\-_]*$/.test(t))throw new pi("Undecodable Base64URL string");for(var n="",i=0;i<t.length;i++){var s=t.charAt(i),r=e.REVERSE_DICT.get(s);n+=gi.encode(r,6)}return n}}])}();d(vi,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),d(vi,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var Si,Ei=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,vi),u(e,[{key:"pad",value:function(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}])}(),mi=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){var t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);for(var n=2;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}for(var i="1",s=t.length-1;s>=0;s--){var r=t[s];e>=r?(i="1"+i,e-=r):i="0"+i}return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new pi("Undecodable FibonacciInteger '"+e+"'");for(var t=0,n=[],i=0;i<e.length-1;i++)0===i?n.push(1):1===i?n.push(2):n.push(n[i-1]+n[i-2]);for(var s=0;s<e.length-1;s++)"1"===e.charAt(s)&&(t+=n[s]);return t}}]),yi=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){if(!0===e)return"1";if(!1===e)return"0";throw new fi("Unencodable Boolean '"+e+"'")}},{key:"decode",value:function(e){if("1"===e)return!0;if("0"===e)return!1;throw new pi("Undecodable Boolean '"+e+"'")}}]),Ii=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){e=e.sort(function(e,t){return e-t});for(var t=[],n=0,i=0;i<e.length;){for(var s=i;s<e.length-1&&e[s]+1===e[s+1];)s++;t.push(e.slice(i,s+1)),i=s+1}for(var r=gi.encode(t.length,12),o=0;o<t.length;o++)if(1==t[o].length){var a=t[o][0]-n;n=t[o][0],r+="0"+mi.encode(a)}else{var c=t[o][0]-n;n=t[o][0];var u=t[o][t[o].length-1]-n;n=t[o][t[o].length-1],r+="1"+mi.encode(c)+mi.encode(u)}return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new pi("Undecodable FibonacciIntegerRange '"+e+"'");for(var t=[],n=gi.decode(e.substring(0,12)),i=0,s=12,r=0;r<n;r++){var o=yi.decode(e.substring(s,s+1));if(s++,!0===o){var a=e.indexOf("11",s),c=mi.decode(e.substring(s,a+2))+i;i=c,s=a+2,a=e.indexOf("11",s);var u=mi.decode(e.substring(s,a+2))+i;i=u,s=a+2;for(var l=c;l<=u;l++)t.push(l)}else{var d=e.indexOf("11",s),h=mi.decode(e.substring(s,d+2))+i;i=h,t.push(h),s=d+2}}return t}}]),Ci=u(function e(){a(this,e),d(this,"value",void 0)},[{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),Ti=function(){function e(t){var n;return a(this,e),(n=o(this,e)).setValue(t),n}return g(e,Ci),u(e,[{key:"encode",value:function(){return Ii.encode(this.value)}},{key:"decode",value:function(e){this.value=Ii.decode(e)}},{key:"substring",value:function(e,t){for(var n=gi.decode(e.substring(t,t+12)),i=t+12,s=0;s<n;s++)i="1"===e.charAt(i)?e.indexOf("11",e.indexOf("11",i+1)+2)+2:e.indexOf("11",i+1)+2;return e.substring(t,i)}},{key:"getValue",value:function(){return C(I(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){I(e,"setValue",this,3)([Array.from(new Set(t)).sort(function(e,t){return e-t})])}}])}(),Ai=function(){function e(t,n){var i;return a(this,e),d(i=o(this,e),"bitStringLength",void 0),i.bitStringLength=t,i.setValue(n),i}return g(e,Ci),u(e,[{key:"encode",value:function(){return gi.encode(this.value,this.bitStringLength)}},{key:"decode",value:function(e){this.value=gi.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.bitStringLength)}}])}();!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(Si||(Si={}));var bi=u(function e(t,n){a(this,e),d(this,"fields",void 0),d(this,"fieldOrder",void 0),this.fields=t,this.fieldOrder=n},[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getFieldOrder",value:function(){return this.fieldOrder}},{key:"encodeToBitString",value:function(){for(var e="",t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(!this.fields.has(n))throw new Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}},{key:"decodeFromBitString",value:function(e){for(var t=0,n=0;n<this.fieldOrder.length;n++){var i=this.fieldOrder[n];if(!this.fields.has(i))throw new Error("Field not found: '"+i+"'");var s=this.fields.get(i),r=s.substring(e,t);s.decode(r),t+=r.length}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(this.fields.has(n)){var i=this.fields.get(n).getValue();e[n]=i}}return e}}]),_i=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(Si.ID.toString(),new Ai(6,e.ID)),i.set(Si.VERSION.toString(),new Ai(6,e.VERSION)),i.set(Si.SECTION_IDS.toString(),new Ti([])),d(n=o(this,e,[i,[Si.ID.toString(),Si.VERSION.toString(),Si.SECTION_IDS.toString()]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,bi),u(e,[{key:"encode",value:function(){var e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}},{key:"decode",value:function(e){var t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(_i,"ID",3),d(_i,"VERSION",1),d(_i,"NAME","header");var wi,Oi=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="InvalidFieldError",n}return g(e,_(Error)),u(e)}(),Ni=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="LazyDecodingError",n}return g(e,pi),u(e)}(),Di=function(){function e(t){var n;return a(this,e),(n=o(this,e)).setValue(t),n}return g(e,Ci),u(e,[{key:"encode",value:function(){return yi.encode(this.value)}},{key:"decode",value:function(e){this.value=yi.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+1)}}])}(),Li=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){return e?gi.encode(Math.round(e.getTime()/100),36):gi.encode(0,36)}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new pi("Undecodable Datetime '"+e+"'");return new Date(100*gi.decode(e))}}]),Pi=function(){function e(t){var n;return a(this,e),(n=o(this,e)).setValue(t),n}return g(e,Ci),u(e,[{key:"encode",value:function(){return Li.encode(this.value)}},{key:"decode",value:function(e){this.value=Li.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+36)}}])}(),Ri=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){for(var n="",i=0;i<e.length;i++)n+=yi.encode(e[i]);for(;n.length<t;)n+="0";return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new pi("Undecodable FixedBitfield '"+e+"'");for(var t=[],n=0;n<e.length;n++)t.push(yi.decode(e.substring(n,n+1)));return t}}]),Vi=function(){function e(t,n){var i;return a(this,e),d(i=o(this,e),"getLength",void 0),i.getLength=t,i.setValue(n),i}return g(e,Ci),u(e,[{key:"encode",value:function(){return Ri.encode(this.value,this.getLength())}},{key:"decode",value:function(e){this.value=Ri.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.getLength())}},{key:"getValue",value:function(){return C(I(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){for(var n=this.getLength(),i=C(t),s=i.length;s<n;s++)i.push(!1);i.length>n&&(i=i.slice(0,n)),I(e,"setValue",this,3)([C(i)])}}])}(),ki=function(){function e(t){var n;return a(this,e),d(n=o(this,e),"numElements",void 0),n.numElements=t.length,n.setValue(t),n}return g(e,Ci),u(e,[{key:"encode",value:function(){return Ri.encode(this.value,this.numElements)}},{key:"decode",value:function(e){this.value=Ri.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.numElements)}},{key:"getValue",value:function(){return C(I(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){for(var n=C(t),i=n.length;i<this.numElements;i++)n.push(!1);n.length>this.numElements&&(n=n.slice(0,this.numElements)),I(e,"setValue",this,3)([n])}}])}(),Ui=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){for(;e.length<t;)e+=" ";for(var n="",i=0;i<e.length;i++){var s=e.charCodeAt(i);if(32===s)n+=gi.encode(63,6);else{if(!(s>=65))throw new fi("Unencodable FixedString '"+e+"'");n+=gi.encode(e.charCodeAt(i)-65,6)}}return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new pi("Undecodable FixedString '"+e+"'");for(var t="",n=0;n<e.length;n+=6){var i=gi.decode(e.substring(n,n+6));t+=63===i?" ":String.fromCharCode(i+65)}return t.trim()}}]),Mi=function(){function e(t,n){var i;return a(this,e),d(i=o(this,e),"stringLength",void 0),i.stringLength=t,i.setValue(n),i}return g(e,Ci),u(e,[{key:"encode",value:function(){return Ui.encode(this.value,this.stringLength)}},{key:"decode",value:function(e){this.value=Ui.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+6*this.stringLength)}}])}(),xi=u(function e(t,n){a(this,e),d(this,"fields",void 0),d(this,"segments",void 0),this.fields=t,this.segments=n},[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getSegments",value:function(){return this.segments}},{key:"encodeSegmentsToBitStrings",value:function(){for(var e=[],t=0;t<this.segments.length;t++){for(var n="",i=0;i<this.segments[t].length;i++){var s=this.segments[t][i];if(!this.fields.has(s))throw new Error("Field not found: '"+s+"'");try{n+=this.fields.get(s).encode()}catch(e){throw new Error("Unable to encode "+s)}}e.push(n)}return e}},{key:"decodeSegmentsFromBitStrings",value:function(e){for(var t=0;t<this.segments.length&&t<e.length;t++){var n=e[t];if(n&&n.length>0)for(var i=0,s=0;s<this.segments[t].length;s++){var r=this.segments[t][s];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");try{var o=this.fields.get(r),a=o.substring(n,i);o.decode(a),i+=a.length}catch(e){throw new Error("Unable to decode "+r)}}}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].length;n++){var i=this.segments[t][n];if(this.fields.has(i)){var s=this.fields.get(i).getValue();e[i]=s}}return e}}]),Fi=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){e.sort(function(e,t){return e-t});for(var t=[],n=0;n<e.length;){for(var i=n;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(n,i+1)),n=i+1}for(var s=gi.encode(t.length,12),r=0;r<t.length;r++)1===t[r].length?s+="0"+gi.encode(t[r][0],16):s+="1"+gi.encode(t[r][0],16)+gi.encode(t[r][t[r].length-1],16);return s}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new pi("Undecodable FixedIntegerRange '"+e+"'");for(var t=[],n=gi.decode(e.substring(0,12)),i=12,s=0;s<n;s++){var r=yi.decode(e.substring(i,i+1));if(i++,!0===r){var o=gi.decode(e.substring(i,i+16));i+=16;var a=gi.decode(e.substring(i,i+16));i+=16;for(var c=o;c<=a;c++)t.push(c)}else{var u=gi.decode(e.substring(i,i+16));t.push(u),i+=16}}return t}}]),Gi=function(){function e(t){var n;return a(this,e),(n=o(this,e)).setValue(t),n}return g(e,Ci),u(e,[{key:"encode",value:function(){return Fi.encode(this.value)}},{key:"decode",value:function(e){this.value=Fi.decode(e)}},{key:"substring",value:function(e,t){for(var n=gi.decode(e.substring(t,t+12)),i=t+12,s=0;s<n;s++)"1"===e.charAt(i)?i+=33:i+=17;return e.substring(t,i)}},{key:"getValue",value:function(){return C(I(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){I(e,"setValue",this,3)([Array.from(new Set(t)).sort(function(e,t){return e-t})])}}])}(),Bi=function(){function e(t){var n;return a(this,e),(n=o(this,e)).setValue(t),n}return g(e,Ci),u(e,[{key:"encode",value:function(){var e=this.value.length>0?this.value[this.value.length-1]:0,t=Fi.encode(this.value),n=e;if(t.length<=n)return gi.encode(e,16)+"1"+t;for(var i=[],s=0,r=0;r<e;r++)r===this.value[s]-1?(i[r]=!0,s++):i[r]=!1;return gi.encode(e,16)+"0"+Ri.encode(i,n)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=Fi.decode(e.substring(17));else{for(var t=[],n=Ri.decode(e.substring(17)),i=0;i<n.length;i++)!0===n[i]&&t.push(i+1);this.value=t}}},{key:"substring",value:function(e,t){var n=gi.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new Gi([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return C(I(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){I(e,"setValue",this,3)([Array.from(new Set(t)).sort(function(e,t){return e-t})])}}])}();!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(wi||(wi={}));var $i,Hi=function(){function e(){return a(this,e),o(this,e,arguments)}return g(e,vi),u(e,[{key:"pad",value:function(e){for(;e.length%24>0;)e+="0";return e}}])}(),ji=function(){function e(t){var n;a(this,e);var i=new Map,s=new Date;i.set(wi.VERSION.toString(),new Ai(6,e.VERSION)),i.set(wi.CREATED.toString(),new Pi(s)),i.set(wi.LAST_UPDATED.toString(),new Pi(s)),i.set(wi.CMP_ID.toString(),new Ai(12,0)),i.set(wi.CMP_VERSION.toString(),new Ai(12,0)),i.set(wi.CONSENT_SCREEN.toString(),new Ai(6,0)),i.set(wi.CONSENT_LANGUAGE.toString(),new Mi(2,"EN")),i.set(wi.VENDOR_LIST_VERSION.toString(),new Ai(12,0)),i.set(wi.POLICY_VERSION.toString(),new Ai(6,2)),i.set(wi.IS_SERVICE_SPECIFIC.toString(),new Di(!1)),i.set(wi.USE_NON_STANDARD_STACKS.toString(),new Di(!1)),i.set(wi.SPECIAL_FEATURE_OPTINS.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(wi.PURPOSE_CONSENTS.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(wi.PURPOSE_LEGITIMATE_INTERESTS.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(wi.PURPOSE_ONE_TREATMENT.toString(),new Di(!1)),i.set(wi.PUBLISHER_COUNTRY_CODE.toString(),new Mi(2,"AA")),i.set(wi.VENDOR_CONSENTS.toString(),new Bi([])),i.set(wi.VENDOR_LEGITIMATE_INTERESTS.toString(),new Bi([])),i.set(wi.PUBLISHER_RESTRICTIONS.toString(),new Gi([])),i.set(wi.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new Ai(3,3)),i.set(wi.PUBLISHER_CONSENTS.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(wi.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var r=new Ai(6,0);return i.set(wi.NUM_CUSTOM_PURPOSES.toString(),r),i.set(wi.PUBLISHER_CUSTOM_CONSENTS.toString(),new Vi(function(){return r.getValue()},[])),i.set(wi.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Vi(function(){return r.getValue()},[])),i.set(wi.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new Ai(3,2)),i.set(wi.VENDORS_ALLOWED.toString(),new Bi([])),i.set(wi.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new Ai(3,1)),i.set(wi.VENDORS_DISCLOSED.toString(),new Bi([])),d(n=o(this,e,[i,[[wi.VERSION.toString(),wi.CREATED.toString(),wi.LAST_UPDATED.toString(),wi.CMP_ID.toString(),wi.CMP_VERSION.toString(),wi.CONSENT_SCREEN.toString(),wi.CONSENT_LANGUAGE.toString(),wi.VENDOR_LIST_VERSION.toString(),wi.POLICY_VERSION.toString(),wi.IS_SERVICE_SPECIFIC.toString(),wi.USE_NON_STANDARD_STACKS.toString(),wi.SPECIAL_FEATURE_OPTINS.toString(),wi.PURPOSE_CONSENTS.toString(),wi.PURPOSE_LEGITIMATE_INTERESTS.toString(),wi.PURPOSE_ONE_TREATMENT.toString(),wi.PUBLISHER_COUNTRY_CODE.toString(),wi.VENDOR_CONSENTS.toString(),wi.VENDOR_LEGITIMATE_INTERESTS.toString(),wi.PUBLISHER_RESTRICTIONS.toString()],[wi.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),wi.PUBLISHER_CONSENTS.toString(),wi.PUBLISHER_LEGITIMATE_INTERESTS.toString(),wi.NUM_CUSTOM_PURPOSES.toString(),wi.PUBLISHER_CUSTOM_CONSENTS.toString(),wi.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[wi.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),wi.VENDORS_ALLOWED.toString()],[wi.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),wi.VENDORS_DISCLOSED.toString()]]]),"base64UrlEncoder",new Hi),t&&t.length>0&&n.decode(t),n}return g(e,xi),u(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(wi.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=0;i<t.length;i++){var s=this.base64UrlEncoder.decode(t[i]);switch(s.substring(0,3)){case"000":n[0]=s;break;case"001":n[3]=s;break;case"010":n[2]=s;break;case"011":n[1]=s;break;default:throw new pi("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(t,n){if(I(e,"setFieldValue",this,3)([t,n]),t!==wi.CREATED.toString()&&t!==wi.LAST_UPDATED.toString()){var i=new Date,s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()));this.setFieldValue(wi.CREATED.toString(),s),this.setFieldValue(wi.LAST_UPDATED.toString(),s)}}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(ji,"ID",2),d(ji,"VERSION",2),d(ji,"NAME","tcfeuv2"),function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.SEGMENT_TYPE="SegmentType",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"}($i||($i={}));var qi,Wi=function(){function e(t){var n;a(this,e);var i=new Map,s=new Date;i.set($i.VERSION.toString(),new Ai(6,e.VERSION)),i.set($i.CREATED.toString(),new Pi(s)),i.set($i.LAST_UPDATED.toString(),new Pi(s)),i.set($i.CMP_ID.toString(),new Ai(12,0)),i.set($i.CMP_VERSION.toString(),new Ai(12,0)),i.set($i.CONSENT_SCREEN.toString(),new Ai(6,0)),i.set($i.CONSENT_LANGUAGE.toString(),new Mi(2,"EN")),i.set($i.VENDOR_LIST_VERSION.toString(),new Ai(12,0)),i.set($i.TCF_POLICY_VERSION.toString(),new Ai(6,2)),i.set($i.USE_NON_STANDARD_STACKS.toString(),new Di(!1)),i.set($i.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set($i.PURPOSES_EXPRESS_CONSENT.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set($i.PURPOSES_IMPLIED_CONSENT.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set($i.VENDOR_EXPRESS_CONSENT.toString(),new Bi([])),i.set($i.VENDOR_IMPLIED_CONSENT.toString(),new Bi([])),i.set($i.SEGMENT_TYPE.toString(),new Ai(3,3)),i.set($i.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set($i.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new ki([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var r=new Ai(6,0);return i.set($i.NUM_CUSTOM_PURPOSES.toString(),r),i.set($i.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Vi(function(){return r.getValue()},[])),i.set($i.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Vi(function(){return r.getValue()},[])),d(n=o(this,e,[i,[[$i.VERSION.toString(),$i.CREATED.toString(),$i.LAST_UPDATED.toString(),$i.CMP_ID.toString(),$i.CMP_VERSION.toString(),$i.CONSENT_SCREEN.toString(),$i.CONSENT_LANGUAGE.toString(),$i.VENDOR_LIST_VERSION.toString(),$i.TCF_POLICY_VERSION.toString(),$i.USE_NON_STANDARD_STACKS.toString(),$i.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),$i.PURPOSES_EXPRESS_CONSENT.toString(),$i.PURPOSES_IMPLIED_CONSENT.toString(),$i.VENDOR_EXPRESS_CONSENT.toString(),$i.VENDOR_IMPLIED_CONSENT.toString()],[$i.SEGMENT_TYPE.toString(),$i.PUB_PURPOSES_EXPRESS_CONSENT.toString(),$i.PUB_PURPOSES_IMPLIED_CONSENT.toString(),$i.NUM_CUSTOM_PURPOSES.toString(),$i.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),$i.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,xi),u(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=0;i<t.length;i++){var s=this.base64UrlEncoder.decode(t[i]);switch(s.substring(0,3)){case"000":n[0]=s;break;case"011":n[1]=s;break;default:throw new pi("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(t,n){if(I(e,"setFieldValue",this,3)([t,n]),t!==$i.CREATED.toString()&&t!==$i.LAST_UPDATED.toString()){var i=new Date,s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()));this.setFieldValue($i.CREATED.toString(),s),this.setFieldValue($i.LAST_UPDATED.toString(),s)}}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(Wi,"ID",5),d(Wi,"VERSION",1),d(Wi,"NAME","tcfcav1"),function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(qi||(qi={}));var Yi=function(){function e(t){a(this,e),d(this,"fields",void 0),this.fields=new Map,this.fields.set(qi.VERSION.toString(),e.VERSION),this.fields.set(qi.NOTICE.toString(),"-"),this.fields.set(qi.OPT_OUT_SALE.toString(),"-"),this.fields.set(qi.LSPA_COVERED.toString(),"-"),t&&t.length>0&&this.decode(t)}return u(e,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e):null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Oi(e+" not found");this.fields.set(e,t)}},{key:"toObj",value:function(){var e,t={},n=l(this.fields.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value,s=this.fields.get(i);t[i.toString()]=s}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"encode",value:function(){var e="";return e+=this.getFieldValue(qi.VERSION.toString()),e+=this.getFieldValue(qi.NOTICE.toString()),(e+=this.getFieldValue(qi.OPT_OUT_SALE.toString()))+this.getFieldValue(qi.LSPA_COVERED.toString())}},{key:"decode",value:function(e){this.setFieldValue(qi.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(qi.NOTICE.toString(),e.charAt(1)),this.setFieldValue(qi.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(qi.LSPA_COVERED.toString(),e.charAt(3))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(Yi,"ID",6),d(Yi,"VERSION",1),d(Yi,"NAME","uspv1");var Ji,zi=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t,n){for(var i="",s=0;s<e.length;s++)i+=gi.encode(e[s],t);for(;i.length<t*n;)i+="0";return i}},{key:"decode",value:function(e,t,n){if(!/^[0-1]*$/.test(e))throw new pi("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new pi("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new pi("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));for(var i=[],s=0;s<e.length;s+=t)i.push(gi.decode(e.substring(s,s+t)));for(;i.length<n;)i.push(0);return i}}]),Ki=function(){function e(t,n){var i;return a(this,e),d(i=o(this,e),"elementBitStringLength",void 0),d(i,"numElements",void 0),i.elementBitStringLength=t,i.numElements=n.length,i.setValue(n),i}return g(e,Ci),u(e,[{key:"encode",value:function(){return zi.encode(this.value,this.elementBitStringLength,this.numElements)}},{key:"decode",value:function(e){this.value=zi.decode(e,this.elementBitStringLength,this.numElements)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}},{key:"getValue",value:function(){return C(I(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){for(var n=C(t),i=n.length;i<this.numElements;i++)n.push(0);n.length>this.numElements&&(n=n.slice(0,this.numElements)),I(e,"setValue",this,3)([n])}}])}();!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Ji||(Ji={}));var Qi,Xi=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(Ji.VERSION.toString(),new Ai(6,e.VERSION)),i.set(Ji.SHARING_NOTICE.toString(),new Ai(2,0)),i.set(Ji.SALE_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Ji.SHARING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Ji.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Ji.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Ji.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Ai(2,0)),i.set(Ji.SALE_OPT_OUT.toString(),new Ai(2,0)),i.set(Ji.SHARING_OPT_OUT.toString(),new Ai(2,0)),i.set(Ji.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ai(2,0)),i.set(Ji.SENSITIVE_DATA_PROCESSING.toString(),new Ki(2,[0,0,0,0,0,0,0,0,0,0,0,0])),i.set(Ji.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ki(2,[0,0])),i.set(Ji.PERSONAL_DATA_CONSENTS.toString(),new Ai(2,0)),i.set(Ji.MSPA_COVERED_TRANSACTION.toString(),new Ai(2,0)),i.set(Ji.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ai(2,0)),i.set(Ji.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ai(2,0)),i.set(Ji.GPC_SEGMENT_TYPE.toString(),new Ai(2,1)),i.set(Ji.GPC_SEGMENT_INCLUDED.toString(),new Di(!0)),i.set(Ji.GPC.toString(),new Di(!1)),d(n=o(this,e,[i,[[Ji.VERSION.toString(),Ji.SHARING_NOTICE.toString(),Ji.SALE_OPT_OUT_NOTICE.toString(),Ji.SHARING_OPT_OUT_NOTICE.toString(),Ji.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Ji.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),Ji.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Ji.SALE_OPT_OUT.toString(),Ji.SHARING_OPT_OUT.toString(),Ji.TARGETED_ADVERTISING_OPT_OUT.toString(),Ji.SENSITIVE_DATA_PROCESSING.toString(),Ji.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Ji.PERSONAL_DATA_CONSENTS.toString(),Ji.MSPA_COVERED_TRANSACTION.toString(),Ji.MSPA_OPT_OUT_OPTION_MODE.toString(),Ji.MSPA_SERVICE_PROVIDER_MODE.toString()],[Ji.GPC_SEGMENT_TYPE.toString(),Ji.GPC.toString()]]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,xi),u(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Ji.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new pi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Ji.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(Xi,"ID",7),d(Xi,"VERSION",1),d(Xi,"NAME","usnatv1"),function(e){e.VERSION="Version",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Qi||(Qi={}));var Zi,es=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(Qi.VERSION.toString(),new Ai(6,e.VERSION)),i.set(Qi.SALE_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Qi.SHARING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Qi.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Ai(2,0)),i.set(Qi.SALE_OPT_OUT.toString(),new Ai(2,0)),i.set(Qi.SHARING_OPT_OUT.toString(),new Ai(2,0)),i.set(Qi.SENSITIVE_DATA_PROCESSING.toString(),new Ki(2,[0,0,0,0,0,0,0,0,0])),i.set(Qi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ki(2,[0,0])),i.set(Qi.PERSONAL_DATA_CONSENTS.toString(),new Ai(2,0)),i.set(Qi.MSPA_COVERED_TRANSACTION.toString(),new Ai(2,0)),i.set(Qi.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ai(2,0)),i.set(Qi.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ai(2,0)),i.set(Qi.GPC_SEGMENT_TYPE.toString(),new Ai(2,1)),i.set(Qi.GPC_SEGMENT_INCLUDED.toString(),new Di(!0)),i.set(Qi.GPC.toString(),new Di(!1)),d(n=o(this,e,[i,[[Qi.VERSION.toString(),Qi.SALE_OPT_OUT_NOTICE.toString(),Qi.SHARING_OPT_OUT_NOTICE.toString(),Qi.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Qi.SALE_OPT_OUT.toString(),Qi.SHARING_OPT_OUT.toString(),Qi.SENSITIVE_DATA_PROCESSING.toString(),Qi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Qi.PERSONAL_DATA_CONSENTS.toString(),Qi.MSPA_COVERED_TRANSACTION.toString(),Qi.MSPA_OPT_OUT_OPTION_MODE.toString(),Qi.MSPA_SERVICE_PROVIDER_MODE.toString()],[Qi.GPC_SEGMENT_TYPE.toString(),Qi.GPC.toString()]]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,xi),u(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Qi.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new pi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Qi.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(es,"ID",8),d(es,"VERSION",1),d(es,"NAME","uscav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Zi||(Zi={}));var ts,ns=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(Zi.VERSION.toString(),new Ai(6,e.VERSION)),i.set(Zi.SHARING_NOTICE.toString(),new Ai(2,0)),i.set(Zi.SALE_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Zi.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(Zi.SALE_OPT_OUT.toString(),new Ai(2,0)),i.set(Zi.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ai(2,0)),i.set(Zi.SENSITIVE_DATA_PROCESSING.toString(),new Ki(2,[0,0,0,0,0,0,0,0])),i.set(Zi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ai(2,0)),i.set(Zi.MSPA_COVERED_TRANSACTION.toString(),new Ai(2,0)),i.set(Zi.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ai(2,0)),i.set(Zi.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ai(2,0)),d(n=o(this,e,[i,[Zi.VERSION.toString(),Zi.SHARING_NOTICE.toString(),Zi.SALE_OPT_OUT_NOTICE.toString(),Zi.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Zi.SALE_OPT_OUT.toString(),Zi.TARGETED_ADVERTISING_OPT_OUT.toString(),Zi.SENSITIVE_DATA_PROCESSING.toString(),Zi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Zi.MSPA_COVERED_TRANSACTION.toString(),Zi.MSPA_OPT_OUT_OPTION_MODE.toString(),Zi.MSPA_SERVICE_PROVIDER_MODE.toString()]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,bi),u(e,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(ns,"ID",9),d(ns,"VERSION",1),d(ns,"NAME","usvav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(ts||(ts={}));var is,ss=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(ts.VERSION.toString(),new Ai(6,e.VERSION)),i.set(ts.SHARING_NOTICE.toString(),new Ai(2,0)),i.set(ts.SALE_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(ts.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(ts.SALE_OPT_OUT.toString(),new Ai(2,0)),i.set(ts.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ai(2,0)),i.set(ts.SENSITIVE_DATA_PROCESSING.toString(),new Ki(2,[0,0,0,0,0,0,0])),i.set(ts.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ai(2,0)),i.set(ts.MSPA_COVERED_TRANSACTION.toString(),new Ai(2,0)),i.set(ts.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ai(2,0)),i.set(ts.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ai(2,0)),i.set(ts.GPC_SEGMENT_TYPE.toString(),new Ai(2,1)),i.set(ts.GPC_SEGMENT_INCLUDED.toString(),new Di(!0)),i.set(ts.GPC.toString(),new Di(!1)),d(n=o(this,e,[i,[[ts.VERSION.toString(),ts.SHARING_NOTICE.toString(),ts.SALE_OPT_OUT_NOTICE.toString(),ts.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ts.SALE_OPT_OUT.toString(),ts.TARGETED_ADVERTISING_OPT_OUT.toString(),ts.SENSITIVE_DATA_PROCESSING.toString(),ts.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ts.MSPA_COVERED_TRANSACTION.toString(),ts.MSPA_OPT_OUT_OPTION_MODE.toString(),ts.MSPA_SERVICE_PROVIDER_MODE.toString()],[ts.GPC_SEGMENT_TYPE.toString(),ts.GPC.toString()]]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,xi),u(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(ts.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new pi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(ts.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(ss,"ID",10),d(ss,"VERSION",1),d(ss,"NAME","uscov1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(is||(is={}));var rs,os=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(is.VERSION.toString(),new Ai(6,e.VERSION)),i.set(is.SHARING_NOTICE.toString(),new Ai(2,0)),i.set(is.SALE_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(is.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(is.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(is.SALE_OPT_OUT.toString(),new Ai(2,0)),i.set(is.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ai(2,0)),i.set(is.SENSITIVE_DATA_PROCESSING.toString(),new Ki(2,[0,0,0,0,0,0,0,0])),i.set(is.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ai(2,0)),i.set(is.MSPA_COVERED_TRANSACTION.toString(),new Ai(2,0)),i.set(is.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ai(2,0)),i.set(is.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ai(2,0)),d(n=o(this,e,[i,[is.VERSION.toString(),is.SHARING_NOTICE.toString(),is.SALE_OPT_OUT_NOTICE.toString(),is.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),is.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),is.SALE_OPT_OUT.toString(),is.TARGETED_ADVERTISING_OPT_OUT.toString(),is.SENSITIVE_DATA_PROCESSING.toString(),is.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),is.MSPA_COVERED_TRANSACTION.toString(),is.MSPA_OPT_OUT_OPTION_MODE.toString(),is.MSPA_SERVICE_PROVIDER_MODE.toString()]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,bi),u(e,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(os,"ID",11),d(os,"VERSION",1),d(os,"NAME","usutv1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(rs||(rs={}));var as=function(){function e(t){var n;a(this,e);var i=new Map;return i.set(rs.VERSION.toString(),new Ai(6,e.VERSION)),i.set(rs.SHARING_NOTICE.toString(),new Ai(2,0)),i.set(rs.SALE_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(rs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ai(2,0)),i.set(rs.SALE_OPT_OUT.toString(),new Ai(2,0)),i.set(rs.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ai(2,0)),i.set(rs.SENSITIVE_DATA_PROCESSING.toString(),new Ki(2,[0,0,0,0,0,0,0,0])),i.set(rs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ki(2,[0,0,0])),i.set(rs.MSPA_COVERED_TRANSACTION.toString(),new Ai(2,0)),i.set(rs.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ai(2,0)),i.set(rs.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ai(2,0)),i.set(rs.GPC_SEGMENT_TYPE.toString(),new Ai(2,1)),i.set(rs.GPC_SEGMENT_INCLUDED.toString(),new Di(!0)),i.set(rs.GPC.toString(),new Di(!1)),d(n=o(this,e,[i,[[rs.VERSION.toString(),rs.SHARING_NOTICE.toString(),rs.SALE_OPT_OUT_NOTICE.toString(),rs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),rs.SALE_OPT_OUT.toString(),rs.TARGETED_ADVERTISING_OPT_OUT.toString(),rs.SENSITIVE_DATA_PROCESSING.toString(),rs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),rs.MSPA_COVERED_TRANSACTION.toString(),rs.MSPA_OPT_OUT_OPTION_MODE.toString(),rs.MSPA_SERVICE_PROVIDER_MODE.toString()],[rs.GPC_SEGMENT_TYPE.toString(),rs.GPC.toString()]]]),"base64UrlEncoder",new Ei),t&&t.length>0&&n.decode(t),n}return g(e,xi),u(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(rs.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new pi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(rs.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();d(as,"ID",12),d(as,"VERSION",1),d(as,"NAME","usctv1");var cs=u(function e(){a(this,e)});d(cs,"SECTION_ID_NAME_MAP",new Map([[ji.ID,ji.NAME],[Wi.ID,Wi.NAME],[Yi.ID,Yi.NAME],[Xi.ID,Xi.NAME],[es.ID,es.NAME],[ns.ID,ns.NAME],[ss.ID,ss.NAME],[os.ID,os.NAME],[as.ID,as.NAME]])),d(cs,"SECTION_ORDER",[ji.NAME,Wi.NAME,Yi.NAME,Xi.NAME,es.NAME,ns.NAME,ss.NAME,os.NAME,as.NAME]);var us=u(function e(t){a(this,e),d(this,"sections",new Map),d(this,"encodedString",void 0),d(this,"decoded",void 0),d(this,"dirty",void 0),t?(this.encodedString=t,this.decoded=!1,this.dirty=!1):(this.encodedString="DBAA",this.decoded=!1,this.dirty=!1)},[{key:"setFieldValue",value:function(e,t,n){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}var i=null;if(this.sections.has(e)?i=this.sections.get(e):e===Wi.NAME?(i=new Wi,this.sections.set(Wi.NAME,i)):e===ji.NAME?(i=new ji,this.sections.set(ji.NAME,i)):e===Yi.NAME?(i=new Yi,this.sections.set(Yi.NAME,i)):e===Xi.NAME?(i=new Xi,this.sections.set(Xi.NAME,i)):e===es.NAME?(i=new es,this.sections.set(es.NAME,i)):e===ns.NAME?(i=new ns,this.sections.set(ns.NAME,i)):e===ss.NAME?(i=new ss,this.sections.set(ss.NAME,i)):e===os.NAME?(i=new os,this.sections.set(os.NAME,i)):e===as.NAME&&(i=new as,this.sections.set(as.NAME,i)),!i)throw new Oi(e+"."+t+" not found");i.setFieldValue(t,n),this.dirty=!0}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(cs.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(cs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasField",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}},{key:"hasFieldBySectionId",value:function(e,t){return this.hasField(cs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}return this.sections.has(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}this.sections.delete(e),this.dirty=!0}},{key:"deleteSectionById",value:function(e){this.deleteSection(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}},{key:"getHeader",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}var e=new _i;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}},{key:"getSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}},{key:"getSectionIds",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}for(var e=[],t=0;t<cs.SECTION_ORDER.length;t++){var n=cs.SECTION_ORDER[t];if(this.sections.has(n)){var i=this.sections.get(n);e.push(i.getId())}}return e}},{key:"encode",value:function(){if(!this.dirty)return this.encodedString;if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}for(var e=[],t=[],n=0;n<cs.SECTION_ORDER.length;n++){var i=cs.SECTION_ORDER[n];if(this.sections.has(i)){var s=this.sections.get(i);e.push(s.encode()),t.push(s.getId())}}var r=new _i;return r.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(r.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}},{key:"decode",value:function(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();var t=e.split("~"),n=new _i(t[0]);this.sections.set(_i.NAME,n);for(var i=n.getFieldValue("SectionIds"),s=0;s<i.length;s++)if(i[s]===Wi.ID){var r=new Wi(t[s+1]);this.sections.set(Wi.NAME,r)}else if(i[s]===ji.ID){var o=new ji(t[s+1]);this.sections.set(ji.NAME,o)}else if(i[s]===Yi.ID){var a=new Yi(t[s+1]);this.sections.set(Yi.NAME,a)}else if(i[s]===Xi.ID){var c=new Xi(t[s+1]);this.sections.set(Xi.NAME,c)}else if(i[s]===es.ID){var u=new es(t[s+1]);this.sections.set(es.NAME,u)}else if(i[s]===ns.ID){var l=new ns(t[s+1]);this.sections.set(ns.NAME,l)}else if(i[s]===ss.ID){var d=new ss(t[s+1]);this.sections.set(ss.NAME,d)}else if(i[s]===os.ID){var h=new os(t[s+1]);this.sections.set(os.NAME,h)}else if(i[s]===as.ID){var p=new as(t[s+1]);this.sections.set(as.NAME,p)}this.decoded=!0,this.dirty=!1}},{key:"encodeSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}return this.sections.has(e)?this.sections.get(e).encode():null}},{key:"encodeSectionById",value:function(e){return this.encodeSection(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"decodeSection",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}var n=null;this.sections.has(e)?n=this.sections.get(e):e===Wi.NAME?(n=new Wi,this.sections.set(Wi.NAME,n)):e===ji.NAME?(n=new ji,this.sections.set(ji.NAME,n)):e===Yi.NAME?(n=new Yi,this.sections.set(Yi.NAME,n)):e===Xi.NAME?(n=new Xi,this.sections.set(Xi.NAME,n)):e===es.NAME?(n=new es,this.sections.set(es.NAME,n)):e===ns.NAME?(n=new ns,this.sections.set(ns.NAME,n)):e===ss.NAME?(n=new ss,this.sections.set(ss.NAME,n)):e===os.NAME?(n=new os,this.sections.set(os.NAME,n)):e===as.NAME&&(n=new as,this.sections.set(as.NAME,n)),n&&(n.decode(t),this.dirty=!0)}},{key:"decodeSectionById",value:function(e,t){this.decodeSection(cs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"toObject",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Ni(e.message)}for(var e={},t=0;t<cs.SECTION_ORDER.length;t++){var n=cs.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}]),ls=u(function e(){a(this,e),d(this,"gppVersion","1.1"),d(this,"supportedAPIs",[]),d(this,"eventQueue",new hi(this)),d(this,"cmpStatus",oi.LOADING),d(this,"cmpDisplayStatus",ai.HIDDEN),d(this,"signalStatus",ui.NOT_READY),d(this,"applicableSections",[]),d(this,"gppModel",new us),d(this,"cmpId",void 0),d(this,"cmpVersion",void 0),d(this,"eventStatus",void 0)},[{key:"reset",value:function(){this.eventQueue.clear(),this.cmpStatus=oi.LOADING,this.cmpDisplayStatus=ai.HIDDEN,this.signalStatus=ui.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new us,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}]),ds=u(function e(){a(this,e)},null,[{key:"absCall",value:function(e,t,n,i){return new Promise(function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))}),o.addEventListener("error",function(){r(new Error("error"))}),o.addEventListener("abort",function(){r(new Error("aborted"))}),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(new Error("Timeout "+i+"ms "+e))},o.send(t)})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),hs=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="GVLError",n}return g(e,_(Error)),u(e)}(),ps=function(){function e(){a(this,e)}return u(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])}();d(ps,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var gs=function(){function e(){a(this,e),d(this,"vendors",void 0),d(this,"consentLanguages",new ps),d(this,"gvlSpecificationVersion",void 0),d(this,"vendorListVersion",void 0),d(this,"tcfPolicyVersion",void 0),d(this,"lastUpdated",void 0),d(this,"purposes",void 0),d(this,"specialPurposes",void 0),d(this,"features",void 0),d(this,"specialFeatures",void 0),d(this,"stacks",void 0),d(this,"dataCategories",void 0),d(this,"language",e.DEFAULT_LANGUAGE),d(this,"vendorIds",void 0),d(this,"ready",!1),d(this,"fullVendorList",void 0),d(this,"byPurposeVendorMap",void 0),d(this,"bySpecialPurposeVendorMap",void 0),d(this,"byFeatureVendorMap",void 0),d(this,"bySpecialFeatureVendorMap",void 0),d(this,"baseUrl",void 0),d(this,"languageFilename","purposes-[LANG].json")}return u(e,[{key:"changeLanguage",value:(n=r(E().m(function e(t){var n,i,s,r,o;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.toUpperCase(),!this.consentLanguages.has(n)){e.n=5;break}if(n===this.language){e.n=4;break}return this.language=n,i=this.baseUrl+this.languageFilename.replace("[LANG]",t),e.p=1,s=this,e.n=2,ds.fetch(i);case 2:r=e.v,s.populate.call(s,r),e.n=4;break;case 3:throw e.p=3,o=e.v,new hs("unable to load language: "+o.message);case 4:e.n=6;break;case 5:throw new hs("unsupported language ".concat(t));case 6:return e.a(2)}},e,this,[[1,3]])})),function(e){return n.apply(this,arguments)})},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){t.byPurposeVendorMap[e]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){t.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){t.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){t.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors=e.reduce(function(e,n){var i=t.vendors[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach(function(e){t.byPurposeVendorMap[String(e)].consent.add(n)}),i.specialPurposes.forEach(function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)}),i.legIntPurposes&&i.legIntPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)}),i.impConsPurposes&&i.impConsPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].impCons.add(n)}),i.flexiblePurposes&&i.flexiblePurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)}),i.features.forEach(function(e){t.byFeatureVendorMap[String(e)].add(n)}),i.specialFeatures.forEach(function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)}),e[n]=i),e},{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach(function(e){o[String(e)]=s.vendors[String(e)]}),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.ready}}],[{key:"fromVendorList",value:function(t){var n=new e;return n.populate(t),n}},{key:"fromUrl",value:(t=r(E().m(function t(n){var i,s,r,o,a,c,u,l,d,h;return E().w(function(t){for(;;)switch(t.n){case 0:if((i=n.baseUrl)&&0!==i.length){t.n=1;break}throw new hs("Invalid baseUrl: '"+i+"'");case 1:if(!/^https?:\/\/vendorlist\.consensu\.org\//.test(i)){t.n=2;break}throw new hs("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");case 2:if(i.length>0&&"/"!==i[i.length-1]&&(i+="/"),(s=new e).baseUrl=i,n.languageFilename?s.languageFilename=n.languageFilename:s.languageFilename="purposes-[LANG].json",!(n.version>0)){t.n=4;break}return(r=n.versionedFilename)||(r="archives/vendor-list-v[VERSION].json"),o=i+r.replace("[VERSION]",String(n.version)),u=s,t.n=3,ds.fetch(o);case 3:l=t.v,u.populate.call(u,l),t.n=6;break;case 4:return(a=n.latestFilename)||(a="vendor-list.json"),c=i+a,d=s,t.n=5,ds.fetch(c);case 5:h=t.v,d.populate.call(d,h);case 6:return t.a(2,s)}},t)})),function(e){return t.apply(this,arguments)})},{key:"isInstanceOf",value:function(e){return"object"===A(e)&&"function"==typeof e.narrowVendorsTo}}]);var t,n}();d(gs,"DEFAULT_LANGUAGE","EN");var fs,vs,Ss=function(){return u(function e(t,n,i){a(this,e),d(this,"callResponder",void 0),d(this,"cmpApiContext",void 0),this.cmpApiContext=new ls,this.cmpApiContext.cmpId=t,this.cmpApiContext.cmpVersion=n,this.callResponder=new di(this.cmpApiContext,i)},[{key:"fireEvent",value:function(e,t){this.cmpApiContext.eventQueue.exec(e,t)}},{key:"fireErrorEvent",value:function(e){this.cmpApiContext.eventQueue.exec("error",e)}},{key:"fireSectionChange",value:function(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(e){this.cmpApiContext.eventStatus=e}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}},{key:"getSignalStatus",value:function(){return this.cmpApiContext.signalStatus}},{key:"setSignalStatus",value:function(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(e){this.cmpApiContext.applicableSections=e}},{key:"getSupportedAPIs",value:function(){return this.cmpApiContext.supportedAPIs}},{key:"setSupportedAPIs",value:function(e){this.cmpApiContext.supportedAPIs=e}},{key:"setGppString",value:function(e){this.cmpApiContext.gppModel.decode(e)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}},{key:"setSectionStringById",value:function(e,t){this.setSectionString(cs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSectionString",value:function(e){return this.cmpApiContext.gppModel.encodeSection(e)}},{key:"getSectionStringById",value:function(e){return this.getSectionString(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"setFieldValue",value:function(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(cs.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(cs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSection",value:function(e){return this.cmpApiContext.gppModel.getSection(e)}},{key:"getSectionById",value:function(e){return this.getSection(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"hasSection",value:function(e){return this.cmpApiContext.gppModel.hasSection(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.cmpApiContext.gppModel.deleteSection(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(cs.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(e){return gs.fromVendorList(e)}},{key:"getGvlFromUrl",value:(e=r(E().m(function e(t){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,gs.fromUrl(t))},e)})),function(t){return e.apply(this,arguments)})}]);var e}(),Es={tcfeuv2:2,tcfcav1:5,uspv1:6,usnat:7,usca:8,usva:9,usco:10,usut:11,usct:12},ms=function(){function e(e,t){var n=this;this.setApplicableSections=function(e){if(n.gppEnabled)try{n.gppApi.setApplicableSections([Es[e]])}catch(t){throw new Error('GppData - setApplicableSections - unrecognized legalframework "'.concat(e,'"'))}},this.setCmpSignalReady=function(){return Y(n,void 0,void 0,function(){return J(this,function(e){return this.gppEnabled&&this.gppApi.setSignalStatus(ui.READY),[2]})})},this.setCmpStatusLoaded=function(){return Y(n,void 0,void 0,function(){return J(this,function(e){return this.gppEnabled&&this.gppApi.setCmpStatus(oi.LOADED),[2]})})},this.setCmpDisplayHidden=function(){return Y(n,void 0,void 0,function(){return J(this,function(e){return this.gppEnabled&&this.gppApi.setCmpDisplayStatus(ai.HIDDEN),[2]})})},this.setCmpDisplayVisible=function(){return Y(n,void 0,void 0,function(){return J(this,function(e){return this.gppEnabled&&this.gppApi.setCmpDisplayStatus(ai.VISIBLE),[2]})})},this.setSectionString=function(e,t){return Y(n,void 0,void 0,function(){return J(this,function(n){return""!==e&&this.gppEnabled&&(this.gppApi.setSectionString(t,e),this.gppApi.fireSectionChange(t)),[2]})})},this.gppEnabled=t||!1,this.cmpId=(null==e?void 0:e.tcf2.cmpId)||5,this.cmpVersion=(null==e?void 0:e.tcf2.cmpVersion)||parseInt("3",10),this.gppApi=new Ss(this.cmpId,this.cmpVersion),this.gppApi.setCmpStatus(oi.LOADING),this.gppApi.setSignalStatus(ui.NOT_READY)}return e.getInstance=function(t,n){var i,s=(null===(i=e.instance)||void 0===i?void 0:i.gppEnabled)||!1;return n||s?(e.instance||(e.instance=new e(t,n)),e.instance):null},e.prototype.resetGpp=function(){this.gppApi={}},e}(),ys=function(){function e(){this.primaryLanguage="",this.apiInstance=Yt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setPrimaryLanguage=function(e){this.primaryLanguage=e},e.prototype.getPrimaryLanguage=function(){return this.primaryLanguage},e.prototype.resolveLanguage=function(e){return void 0===e&&(e=!1),Y(this,void 0,void 0,function(){var t,n,i,s,r;return J(this,function(o){switch(o.label){case 0:return t=ye.fetchUserCountryResponse(),n=[],t?(Gt.getInstance().setUserCountryData({code:t.countryCode,name:t.countryName,regionCode:t.regionCode}),[3,3]):[3,1];case 1:return[4,this.apiInstance.fetchAvailableLanguages()];case 2:n=o.sent(),o.label=3;case 3:if(!e){if(this.primaryLanguage)return this.apiInstance.setJsonFileLanguage(this.primaryLanguage),[2];if(i=ye.fetchLanguage())return this.apiInstance.setJsonFileLanguage(i),[2]}return n.length?[3,5]:[4,this.apiInstance.fetchAvailableLanguages()];case 4:n=o.sent(),o.label=5;case 5:return(s=Cs(n))?(this.apiInstance.setJsonFileLanguage(s),[2]):(r=Is(n))?(this.apiInstance.setJsonFileLanguage(r),[2]):n.length>0?(this.apiInstance.setJsonFileLanguage(n[0]),[2]):(this.apiInstance.setJsonFileLanguage(cn),[2])}})})},e}(),Is=function(e){var t=window.navigator;if(Ae(t.languages))for(var n=0;n<t.languages.length;n+=1){var i=Ts(e,t.languages[n]);if(i)return i}var s=null!=t.language?t.language:t.userLanguage;return Ts(e,s)},Cs=function(e){var t=document.documentElement.lang;return t?Ts(e,t):null},Ts=function(e,t){if(t){var n=t.toLowerCase().replace("-","_");if(Ie(e,n))return n;var i=t.slice(0,2);if(Ie(e,i))return i}return null};!function(e){e.API_INVALID_COMMAND="Usercentrics: (__uspapi) Invalid command: ",e.API_INVALID_CALLBACK="Usercentrics: (__uspapi) callback parameter not a function",e.INVALID_STRING="Usercentrics: ccpa string is invalid",e.RESHOW_AFTER_DAYS_INVALID="Usercentrics: reshow after days must be greater than 364.",e.SETTINGS_UNDEFINED="Usercentrics: ccpa is missing in setting"}(fs||(fs={})),function(e){e.ACCEPT="Y",e.DENY="N",e.UNKNOWN="-"}(vs||(vs={}));var As,bs,_s,ws,Os,Ns=function(){function e(){this.apiInstance=Yt.getInstance()}return e.prototype.getTargets=function(e){var t=this;return e.reduce(function(e,n){if("mark"!==n.entryType&&"measure"!==n.entryType&&"paint"!==n.entryType&&!n.name.startsWith("data:")&&!["visible"].includes(n.name)&&!/^https:\/\/([a-z0-9.]+).usercentrics\.eu/.test(n.name)){var i=n.name,s=t.extractSubdomain(i);if(-1===e.indexOf(s))return K(K([],z(e),!1),[s],!1)}return e},[])},e.prototype.initTagLogger=function(){var e=this;window.addEventListener("beforeunload",function(){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.updateLog()})})},e.prototype.extractSubdomain=function(e){var t,n=e.split("/");return e.indexOf("://")>-1?(t="".concat(n[2]),n[3]&&(t+="/".concat(n[3]))):(t="".concat(n[0]),n[1]&&(t+="/".concat(n[1]))),"".concat(t.split("?")[0])},e.prototype.updateLog=function(){if(Object.prototype.hasOwnProperty.call(window,"performance")&&"function"==typeof performance.getEntries){var e=window.performance.getEntries();this.apiInstance.updateTagLoggerData(this.getTargets(e))}else console.log("UC Warning: tag logger functionality is not supported by your browser.")},e}(),Ds=function(){function e(){this.initOptions=null,this.isFirstTimePageVisit=!0,this.selectedLayer=null,this.shouldAcceptAllImplicitly=null,this.shouldShowFirstLayerOnVersionChange=!1,this.variant=null,this.ampInstance=gt.getInstance(),this.settingsV2=Fn.getInstance(),this.rulesetInstance=Nn.getInstance(),this.apiInstance=Yt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.selectedLayer=null,e.instance.variant=null,e.instance.shouldAcceptAllImplicitly=null,e.instance.initOptions=null},e.prototype.init=function(e){return Y(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return this.initOptions=e,this.isFirstTimePageVisit=this.isFirstTimeVisit(),null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.shouldShowFirstLayerOnVersionChange=this.settingsV2.shouldShowFirstLayerOnVersionChange(),[2]}})})},e.prototype.isFirstTimeVisit=function(){return!ye.settingsExist()},e.prototype.shouldShowNone=function(){return Y(this,void 0,void 0,function(){var e,t;return J(this,function(n){switch(n.label){case 0:return e=0===this.variant,null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()?[2,this.rulesetInstance.getNoShow()]:[2,this.shouldAcceptAllImplicitly&&!e]}})})},e.prototype.shouldManuallyResurface=function(){var e=this.settingsV2.core,t=ye.fetchServices(),n=0===this.variant,i=null;if(t&&t.length>0){if(n)i=ye.getCcpaTimeStamp();else{var s=Be(t.reduce(function(e,t){return K(K([],z(e),!1),z(t.history),!1)},[]));e&&s.length>0&&(i=s[0].timestamp)}if(e&&i){var r=e.renewConsentsTimestamp;if(r&&Date.now()/1e3>r&&i/1e3<r)return!0}}return!1},e.prototype.shouldShowFirstLayer=function(e){var t,n,i,s=this.ampInstance.isAmpEnabled(),r=0===this.variant,o=(null===(t=e.ccpa)||void 0===t?void 0:t.showOnPageLoad)||!1,a=r?o:!this.shouldAcceptAllImplicitly;if(this.shouldManuallyResurface())return!0;if(this.shouldAcceptAllImplicitly&&!r)return!1;if(a&&this.isFirstTimePageVisit||this.shouldShowFirstLayerOnVersionChange||!ye.fetchUserActionPerformed()&&(!r||o)||s)return!0;switch(this.variant){case 0:if(this.shouldShowFirstLayerForCcpa(null===(n=e.ccpa)||void 0===n?void 0:n.reshowCMP,null===(i=e.ccpa)||void 0===i?void 0:i.reshowAfterDays))return!0;break;case 2:var c=this.settingsV2.getTcfData();if(null==c?void 0:c.shouldResurfaceUI())return!0;break;default:if(this.shouldForceReshowGDPRBanner())return!0}return!1},e.prototype.shouldForceReshowGDPRBanner=function(){var e=this.settingsV2.core;if(!e)return!1;var t,n=e.reshowBanner,i=this.settingsV2.getServicesData(),s=Be(i.reduce(function(e,t){return K(K([],z(e),!1),z(t.consent.history),!1)},[]));if(n>0&&s.length>0){var r=new Date(s[0].timestamp);return r.setMonth(r.getMonth()+n),t=r,(new Date).getTime()-t.getTime()>=0}return!1},e.prototype.shouldShowPrivacyButton=function(e){var t=window.location.href,n=!e.privacyButtonUrls||0===e.privacyButtonUrls.contains.length;return e.privacyButtonUrls&&e.privacyButtonUrls.contains.length>0&&e.privacyButtonUrls.contains.some(function(e){return t.includes(e)})&&(n=!0),e.privacyButtonIsVisible&&n},e.prototype.resolveUiVariant=function(e){return Y(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return null!==this.variant?[2,this.variant]:[4,this.settingsV2.isCcpaAvailable()];case 1:return t.sent()?this.variant=0:this.variant=e?2:1,[2,this.variant]}})})},e.prototype.resolveUiInitialLayer=function(e){return Y(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,this.shouldShowNone()];case 1:return t.sent()?[2,1]:this.shouldShowFirstLayer(e)?[2,0]:this.shouldShowPrivacyButton(e)?[2,2]:[2,1]}})})},e.prototype.resolveUIOptions=function(e){var t;return Y(this,void 0,void 0,function(){var n,i,s,r;return J(this,function(o){switch(o.label){case 0:return n=this.ampInstance.isAmpEnabled(),null!==this.variant?[3,2]:(i=this,[4,this.resolveUiVariant(e.tcf2Enabled)]);case 1:i.variant=o.sent(),o.label=2;case 2:return 0!==this.variant&&ye.clearCcpa(),2!==this.variant&&ye.clearTcf(),s=this,(null===(t=this.initOptions)||void 0===t?void 0:t.suppressCmpDisplay)?(r=1,[3,5]):[3,3];case 3:return[4,this.resolveUiInitialLayer(e)];case 4:r=o.sent(),o.label=5;case 5:return s.selectedLayer=r,[2,{ampEnabled:n,initialLayer:this.selectedLayer,variant:this.variant}]}})})},e.prototype.shouldShowFirstLayerForCcpa=function(e,t){var n;void 0===t&&(t=365);var i,s=this.settingsV2.legacySettings,r=(i=ye.getCcpaData())?((new Date).getTime()-i.timestamp)/864e5:0;return s||void 0!==e?null!==(n=null!=e?e:null==s?void 0:s.ccpa.reshowCMP)&&void 0!==n&&n&&r>t:r>t},e}(),Ls=Object.freeze({initialize:function({modulePath:e=".",importFunctionName:t="__import__"}={}){try{self[t]=new Function("u","return import(u)")}catch(n){const i=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise((n,r)=>{const o=new URL(e,i);if(self[t].moduleMap[o])return n(self[t].moduleMap[o]);const a=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){r(new Error(`Failed to import: ${e}`)),s(c)},onload(){n(self[t].moduleMap[o]),s(c)}});document.head.appendChild(c)}),self[t].moduleMap={}}}});function Ps(e,t){return Object.keys(t).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),e}function Rs(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var Vs={},ks={};Rs(ks,"Base64Url",function(){return qs});var Us={},Ms={};Rs(Ms,"DecodingError",function(){return xs});var xs=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="DecodingError",n}return g(e,_(Error)),u(e)}(),Fs={};Rs(Fs,"EncodingError",function(){return Gs});var Gs=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="EncodingError",n}return g(e,_(Error)),u(e)}(),Bs={};Rs(Bs,"GVLError",function(){return $s});var $s=function(){function e(t){var n;return a(this,e),(n=o(this,e,[t])).name="GVLError",n}return g(e,_(Error)),u(e)}(),Hs={};Rs(Hs,"TCModelError",function(){return js});var js=function(){function e(t,n){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a(this,e),(i=o(this,e,["invalid value ".concat(n," passed for ").concat(t," ").concat(s)])).name="TCModelError",i}return g(e,_(Error)),u(e)}();Ps(Us,Ms),Ps(Us,Fs),Ps(Us,Bs),Ps(Us,Hs);var qs=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new Gs("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",i=0;i<e.length;i+=this.BASIS)n+=this.DICT[parseInt(e.substr(i,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new xs("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var i=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-i.length)+i}return t}}]);(As=qs).DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",As.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),As.BASIS=6,As.LCM=24;var Ws={};Rs(Ws,"BitLength",function(){return Pr});var Ys={},Js={};Rs(Js,"ConsentLanguages",function(){return zs});var zs=function(){function e(){a(this,e)}return u(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"parseLanguage",value:function(t){var n=(t=t.toUpperCase()).split("-")[0];if(t.length>=2&&2==n.length){if(e.langSet.has(t))return t;if(e.langSet.has(n))return n;var i=n+"-"+n;if(e.langSet.has(i))return i;var s,r=l(e.langSet);try{for(r.s();!(s=r.n()).done;){var o=s.value;if(-1!==o.indexOf(t)||-1!==o.indexOf(n))return o}}catch(e){r.e(e)}finally{r.f()}}throw new Error("unsupported language ".concat(t))}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])}();zs.langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HI","HR","HU","ID","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH","ZH-HANT"]);var Ks={};Rs(Ks,"Fields",function(){return Qs});var Qs=u(function e(){a(this,e)});(bs=Qs).cmpId="cmpId",bs.cmpVersion="cmpVersion",bs.consentLanguage="consentLanguage",bs.consentScreen="consentScreen",bs.created="created",bs.supportOOB="supportOOB",bs.isServiceSpecific="isServiceSpecific",bs.lastUpdated="lastUpdated",bs.numCustomPurposes="numCustomPurposes",bs.policyVersion="policyVersion",bs.publisherCountryCode="publisherCountryCode",bs.publisherCustomConsents="publisherCustomConsents",bs.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",bs.publisherLegitimateInterests="publisherLegitimateInterests",bs.publisherConsents="publisherConsents",bs.publisherRestrictions="publisherRestrictions",bs.purposeConsents="purposeConsents",bs.purposeLegitimateInterests="purposeLegitimateInterests",bs.purposeOneTreatment="purposeOneTreatment",bs.specialFeatureOptins="specialFeatureOptins",bs.useNonStandardTexts="useNonStandardTexts",bs.vendorConsents="vendorConsents",bs.vendorLegitimateInterests="vendorLegitimateInterests",bs.vendorListVersion="vendorListVersion",bs.vendorsAllowed="vendorsAllowed",bs.vendorsDisclosed="vendorsDisclosed",bs.version="version";var Xs={};Rs(Xs,"PurposeRestriction",function(){return nr}),Rs({},"Cloneable",function(){return Zs});var Zs=u(function e(){a(this,e)},[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach(function(n){var i=e.deepClone(e[n]);void 0!==i&&(t[n]=i)}),t}},{key:"deepClone",value:function(e){var t=A(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n,i=[],s=l(e);try{for(s.s();!(n=s.n()).done;){var r=n.value;i.push(this.deepClone(r))}}catch(e){s.e(e)}finally{s.f()}return e instanceof Array?i:new e.constructor(i)}var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=this.deepClone(e[a]));return o}}}]),er={};Rs(er,"RestrictionType",function(){return tr});var tr=function(e){return e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI",e}({}),nr=function(){function e(t,n){var i;return a(this,e),i=o(this,e),void 0!==t&&(i.purposeId=t),void 0!==n&&(i.restrictionType=n),i}return g(e,Zs),u(e,[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(e.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===tr.NOT_ALLOWED||this.restrictionType===tr.REQUIRE_CONSENT||this.restrictionType===tr.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}],[{key:"unHash",value:function(t){var n=t.split(this.hashSeparator),i=new e;if(2!==n.length)throw new js("hash",t);return i.purposeId=parseInt(n[0],10),i.restrictionType=parseInt(n[1],10),i}}])}();nr.hashSeparator="-";var ir={};Rs(ir,"PurposeRestrictionVector",function(){return sr});var sr=function(){function e(){var t;a(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=o(this,e,[].concat(i))).bitLength=0,t.map=new Map,t}return g(e,Zs),u(e,[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var i,s=!0;if(null!==(i=this.gvl)&&void 0!==i&&i.vendors){var r=this.gvl.vendors[n];if(r)if(e===tr.NOT_ALLOWED)s=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case tr.REQUIRE_CONSENT:s=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case tr.REQUIRE_LI:s=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else s=!1;else s=!1}return s}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){var t=Array.from(this.gvl.vendorIds),n=e.hash,i=t[t.length-1],s=C(Array(i).keys()).map(function(e){return e+1});if(this.has(n))for(var r=1;r<=i;r++)this.map.get(n).add(r);else this.map.set(n,new Set(s)),this.bitLength=0}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{var i=new Set;this.map.forEach(function(e){e.forEach(function(e){i.add(e)})}),t=Array.from(i)}return t.sort(function(e,t){return e-t})}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,i=this.getRestrictions(e),s=0;s<i.length&&!n;s++)n=t.isSameAs(i[s]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach(function(t){e=Math.max(Array.from(t)[t.size-1],e)}),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach(function(n,i){e?n.has(e)&&t.push(nr.unHash(i)):t.push(nr.unHash(i))}),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach(function(t,n){e.add(nr.unHash(n).purposeId)}),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,i=this.map.get(n);i&&(i.delete(e),0==i.size&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(e,n){var i=nr.unHash(n);Array.from(e).forEach(function(n){t.isOkToHave(i.restrictionType,i.purposeId,n)||e.delete(n)})}))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}])}(),rr={};Rs(rr,"DeviceDisclosureStorageAccessType",function(){return or});var or=function(e){return e.COOKIE="cookie",e.WEB="web",e.APP="app",e}({}),ar={};Rs(ar,"Segment",function(){return cr});var cr=function(e){return e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC",e}({}),ur={};Rs(ur,"SegmentIDs",function(){return lr});var lr=u(function e(){a(this,e)});(_s=lr).ID_TO_KEY=[cr.CORE,cr.VENDORS_DISCLOSED,cr.VENDORS_ALLOWED,cr.PUBLISHER_TC],_s.KEY_TO_ID=d(d(d(d({},cr.CORE,0),cr.VENDORS_DISCLOSED,1),cr.VENDORS_ALLOWED,2),cr.PUBLISHER_TC,3);var dr={};Rs(dr,"Vector",function(){return Dr});var hr,pr,gr,fr,vr,Sr,Er,mr,yr,Ir,Cr,Tr,Ar,br,_r,wr,Or,Nr,Dr=function(){function e(){var t;a(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=o(this,e,[].concat(i))).bitLength=0,t.maxId_=0,t.set_=new Set,t}return g(e,Zs),u(e,[{key:Symbol.iterator,value:E().m(function e(){var t;return E().w(function(e){for(;;)switch(e.n){case 0:t=1;case 1:if(!(t<=this.maxId)){e.n=3;break}return e.n=2,[t,this.has(t)];case 2:t++,e.n=1;break;case 3:return e.a(2)}},e,this)})},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"===A(e)?this.unset(Object.keys(e).map(function(e){return Number(e)})):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))}},{key:"isIntMap",value:function(e){var t=this,n="object"===A(e);return n&&Object.keys(e).every(function(n){var i=Number.isInteger(parseInt(n,10));return(i=i&&t.isValidNumber(e[n].id))&&void 0!==e[n].name})}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return Number(e)}));else{if(!this.isValidNumber(e))throw new js("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}])}(),Lr={};Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Lr,{}),Ps(Ys,Js),Ps(Ys,Ks),Ps(Ys,{}),Ps(Ys,{}),Ps(Ys,Xs),Ps(Ys,ir),Ps(Ys,rr),Ps(Ys,{}),Ps(Ys,er),Ps(Ys,ar),Ps(Ys,ur),Ps(Ys,dr),Ps(Ys,Lr);var Pr=u(function e(){a(this,e)});ws=Pr,hr=Qs.cmpId,pr=Qs.cmpVersion,gr=Qs.consentLanguage,fr=Qs.consentScreen,vr=Qs.created,Sr=Qs.isServiceSpecific,Er=Qs.lastUpdated,mr=Qs.policyVersion,yr=Qs.publisherCountryCode,Ir=Qs.publisherLegitimateInterests,Cr=Qs.publisherConsents,Tr=Qs.purposeConsents,Ar=Qs.purposeLegitimateInterests,br=Qs.purposeOneTreatment,_r=Qs.specialFeatureOptins,wr=Qs.useNonStandardTexts,Or=Qs.vendorListVersion,Nr=Qs.version,ws[hr]=12,ws[pr]=12,ws[gr]=12,ws[fr]=6,ws[vr]=36,ws[Sr]=1,ws[Er]=36,ws[mr]=6,ws[yr]=12,ws[Ir]=24,ws[Cr]=24,ws[Tr]=24,ws[Ar]=24,ws[br]=1,ws[_r]=12,ws[wr]=1,ws[Or]=12,ws[Nr]=6,ws.anyBoolean=1,ws.encodingType=1,ws.maxId=16,ws.numCustomPurposes=6,ws.numEntries=12,ws.numRestrictions=12,ws.purposeId=6,ws.restrictionType=2,ws.segmentType=3,ws.singleOrRange=1,ws.vendorId=16;var Rr={};Rs(Rr,"SegmentEncoder",function(){return so});var Vr={},kr={};Rs(kr,"BooleanEncoder",function(){return Ur});var Ur=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}]),Mr={};Rs(Mr,"DateEncoder",function(){return Gr});var xr={};Rs(xr,"IntEncoder",function(){return Fr});var Fr=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new Gs("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new xs("invalid bit length");return parseInt(e,2)}}]),Gr=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){return Fr.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new xs("invalid bit length");var n=new Date;return n.setTime(100*Fr.decode(e,t)),n}}]),Br={};Rs(Br,"FieldEncoderMap",function(){return Xr});var $r={};Rs($r,"FixedVectorEncoder",function(){return Hr});var Hr=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){for(var n="",i=1;i<=t;i++)n+=Ur.encode(e.has(i));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new xs("bitfield encoding length mismatch");for(var n=new Dr,i=1;i<=t;i++)Ur.decode(e[i-1])&&n.set(i);return n.bitLength=e.length,n}}]),jr={};Rs(jr,"LangEncoder",function(){return qr});var qr=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(n<0||n>25||i<0||i>25)throw new Gs("invalid language code: ".concat(e));if(t%2==1)throw new Gs("numBits must be even, ".concat(t," is not valid"));return t/=2,Fr.encode(n,t)+Fr.encode(i,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new xs("invalid bit length for language");var n=e.length/2,i=Fr.decode(e.slice(0,n),n)+65,s=Fr.decode(e.slice(n),n)+65;return String.fromCharCode(i)+String.fromCharCode(s)}}]),Wr={};Rs(Wr,"PurposeRestrictionVectorEncoder",function(){return Yr});var Yr=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){var t=Fr.encode(e.numRestrictions,Pr.numRestrictions);if(!e.isEmpty()){var n=function(t,n){for(var i=t+1;i<=n;i++)if(e.gvl.vendorIds.has(i))return i;return t};e.getRestrictions().forEach(function(i){t+=Fr.encode(i.purposeId,Pr.purposeId),t+=Fr.encode(i.restrictionType,Pr.restrictionType);for(var s=e.getVendors(i),r=s.length,o=0,a=0,c="",u=0;u<r;u++){var l=s[u];if(0===a&&(o++,a=l),u===r-1||s[u+1]>n(l,s[r-1])){var d=!(l===a);c+=Ur.encode(d),c+=Fr.encode(a,Pr.vendorId),d&&(c+=Fr.encode(l,Pr.vendorId)),a=0}}t+=Fr.encode(o,Pr.numEntries),t+=c})}return t}},{key:"decode",value:function(e){var t=0,n=new sr,i=Fr.decode(e.substr(t,Pr.numRestrictions),Pr.numRestrictions);t+=Pr.numRestrictions;for(var s=0;s<i;s++){var r=Fr.decode(e.substr(t,Pr.purposeId),Pr.purposeId);t+=Pr.purposeId;var o=Fr.decode(e.substr(t,Pr.restrictionType),Pr.restrictionType);t+=Pr.restrictionType;var a=new nr(r,o),c=Fr.decode(e.substr(t,Pr.numEntries),Pr.numEntries);t+=Pr.numEntries;for(var u=0;u<c;u++){var l=Ur.decode(e.substr(t,Pr.anyBoolean));t+=Pr.anyBoolean;var d=Fr.decode(e.substr(t,Pr.vendorId),Pr.vendorId);if(t+=Pr.vendorId,l){var h=Fr.decode(e.substr(t,Pr.vendorId),Pr.vendorId);if(t+=Pr.vendorId,h<d)throw new xs("Invalid RangeEntry: endVendorId ".concat(h," is less than ").concat(d));for(var p=d;p<=h;p++)n.add(p,a)}else n.add(d,a)}}return n.bitLength=t,n}}]),Jr={};Rs(Jr,"VendorVectorEncoder",function(){return Qr});var zr={};Rs(zr,"VectorEncodingType",function(){return Kr});var Kr=function(e){return e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE",e}({}),Qr=u(function e(){a(this,e)},null,[{key:"encode",value:function(e){var t,n=[],i=[],s=Fr.encode(e.maxId,Pr.maxId),r="",o=Pr.maxId+Pr.encodingType,a=o+e.maxId,c=2*Pr.vendorId+Pr.singleOrRange+Pr.numEntries,u=o+Pr.numEntries;return e.forEach(function(s,o){r+=Ur.encode(s),(t=e.maxId>c&&u<a)&&s&&(e.has(o+1)?0===i.length&&(i.push(o),u+=Pr.singleOrRange,u+=Pr.vendorId):(i.push(o),u+=Pr.vendorId,n.push(i),i=[]))}),t?(s+=String(Kr.RANGE),s+=this.buildRangeEncoding(n)):(s+=String(Kr.FIELD),s+=r),s}},{key:"decode",value:function(e,t){var n,i=0,s=Fr.decode(e.substr(i,Pr.maxId),Pr.maxId);i+=Pr.maxId;var r=Fr.decode(e.charAt(i),Pr.encodingType);if(i+=Pr.encodingType,r===Kr.RANGE){if(n=new Dr,1===t){if("1"===e.substr(i,1))throw new xs("Unable to decode default consent=1");i++}var o=Fr.decode(e.substr(i,Pr.numEntries),Pr.numEntries);i+=Pr.numEntries;for(var a=0;a<o;a++){var c=Ur.decode(e.charAt(i));i+=Pr.singleOrRange;var u=Fr.decode(e.substr(i,Pr.vendorId),Pr.vendorId);if(i+=Pr.vendorId,c){var l=Fr.decode(e.substr(i,Pr.vendorId),Pr.vendorId);i+=Pr.vendorId;for(var d=u;d<=l;d++)n.set(d)}else n.set(u)}}else{var h=e.substr(i,s);i+=s,n=Hr.decode(h,s)}return n.bitLength=i,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=Fr.encode(t,Pr.numEntries);return e.forEach(function(e){var t=1===e.length;n+=Ur.encode(!t),n+=Fr.encode(e[0],Pr.vendorId),t||(n+=Fr.encode(e[1],Pr.vendorId))}),n}}]);function Xr(){var e;return d(d(d(d(d(d(d(d(d(d(e={},Qs.version,Fr),Qs.created,Gr),Qs.lastUpdated,Gr),Qs.cmpId,Fr),Qs.cmpVersion,Fr),Qs.consentScreen,Fr),Qs.consentLanguage,qr),Qs.vendorListVersion,Fr),Qs.policyVersion,Fr),Qs.isServiceSpecific,Ur),d(d(d(d(d(d(d(d(d(d(e,Qs.useNonStandardTexts,Ur),Qs.specialFeatureOptins,Hr),Qs.purposeConsents,Hr),Qs.purposeLegitimateInterests,Hr),Qs.purposeOneTreatment,Ur),Qs.publisherCountryCode,qr),Qs.vendorConsents,Qr),Qs.vendorLegitimateInterests,Qr),Qs.publisherRestrictions,Yr),"segmentType",Fr),d(d(d(d(d(d(d(e,Qs.vendorsDisclosed,Qr),Qs.vendorsAllowed,Qr),Qs.publisherConsents,Hr),Qs.publisherLegitimateInterests,Hr),Qs.numCustomPurposes,Fr),Qs.publisherCustomConsents,Hr),Qs.publisherCustomLegitimateInterests,Hr)}Ps(Vr,kr),Ps(Vr,Mr),Ps(Vr,Br),Ps(Vr,$r),Ps(Vr,xr),Ps(Vr,jr),Ps(Vr,Wr),Ps(Vr,zr),Ps(Vr,Jr);var Zr={},eo={};Rs(eo,"FieldSequence",function(){return to});var to=u(function e(){a(this,e),this[1]=d({},cr.CORE,[Qs.version,Qs.created,Qs.lastUpdated,Qs.cmpId,Qs.cmpVersion,Qs.consentScreen,Qs.consentLanguage,Qs.vendorListVersion,Qs.purposeConsents,Qs.vendorConsents]),this[2]=d(d(d(d({},cr.CORE,[Qs.version,Qs.created,Qs.lastUpdated,Qs.cmpId,Qs.cmpVersion,Qs.consentScreen,Qs.consentLanguage,Qs.vendorListVersion,Qs.policyVersion,Qs.isServiceSpecific,Qs.useNonStandardTexts,Qs.specialFeatureOptins,Qs.purposeConsents,Qs.purposeLegitimateInterests,Qs.purposeOneTreatment,Qs.publisherCountryCode,Qs.vendorConsents,Qs.vendorLegitimateInterests,Qs.publisherRestrictions]),cr.PUBLISHER_TC,[Qs.publisherConsents,Qs.publisherLegitimateInterests,Qs.numCustomPurposes,Qs.publisherCustomConsents,Qs.publisherCustomLegitimateInterests]),cr.VENDORS_ALLOWED,[Qs.vendorsAllowed]),cr.VENDORS_DISCLOSED,[Qs.vendorsDisclosed])}),no={};Rs(no,"SegmentSequence",function(){return io});var io=u(function e(t,n){if(a(this,e),this[1]=[cr.CORE],this[2]=[cr.CORE],2===t.version)if(t.isServiceSpecific)this[2].push(cr.PUBLISHER_TC);else{var i=!(!n||!n.isForVendors);i&&!0!==t[Qs.supportOOB]||this[2].push(cr.VENDORS_DISCLOSED),i&&(t[Qs.supportOOB]&&t[Qs.vendorsAllowed].size>0&&this[2].push(cr.VENDORS_ALLOWED),this[2].push(cr.PUBLISHER_TC))}});Ps(Zr,eo),Ps(Zr,no),Ps(Zr,{});var so=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){var n,i=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new Gs("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var s="";t!==cr.CORE&&(s=Fr.encode(lr.KEY_TO_ID[t],Pr.segmentType));var r=Xr();return n.forEach(function(n){var o=e[n],a=r[n],c=Pr[n];void 0===c&&i.isPublisherCustom(n)&&(c=Number(e[Qs.numCustomPurposes]));try{s+=a.encode(o,c)}catch(e){throw new Gs("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}}),qs.encode(s)}},{key:"decode",value:function(e,t,n){var i=this,s=qs.decode(e),r=0;n===cr.CORE&&(t.version=Fr.decode(s.substr(r,Pr[Qs.version]),Pr[Qs.version])),n!==cr.CORE&&(r+=Pr.segmentType);var o=this.fieldSequence[String(t.version)][n],a=Xr();return o.forEach(function(e){var n=a[e],o=Pr[e];if(void 0===o&&i.isPublisherCustom(e)&&(o=Number(t[Qs.numCustomPurposes])),0!==o){var c=s.substr(r,o);if(t[e]=n===Qr?n.decode(c,t.version):n.decode(c,o),Number.isInteger(o))r+=o;else{if(!Number.isInteger(t[e].bitLength))throw new xs(e);r+=t[e].bitLength}}}),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}]);so.fieldSequence=new to;var ro={};Rs(ro,"SemanticPreEncoder",function(){return oo});var oo=u(function e(){a(this,e)},null,[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new Gs("Unable to encode TCModel without a GVL");if(!n.isReady)throw new Gs("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var i=e.version-1;if(!this.processor[i])throw new Gs("Invalid version: ".concat(e.version));return this.processor[i](e,n)}}]);oo.processor=[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(function(n,i){n.forEach(function(s,r){if(s){var o=t.vendors[r];if(!o||o.deletedDate)n.unset(r);else if(0===o[i].length)if("legIntPurposes"===i&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0)n.set(r);else if("legIntPurposes"===i&&o.purposes.length>0&&0===o.legIntPurposes.length&&o.specialPurposes.length>0)n.set(r);else if(e.isServiceSpecific)if(0===o.flexiblePurposes.length)n.unset(r);else{for(var a=e.publisherRestrictions.getRestrictions(r),c=!1,u=0,l=a.length;u<l&&!c;u++)c=a[u].restrictionType===tr.REQUIRE_CONSENT&&"purposes"===i||a[u].restrictionType===tr.REQUIRE_LI&&"legIntPurposes"===i;c||n.unset(r)}else n.unset(r)}})}),e.vendorsDisclosed.set(t.vendors),e}],Ps(Vs,ks),Ps(Vs,Ws),Ps(Vs,{}),Ps(Vs,Rr),Ps(Vs,ro),Ps(Vs,Vr),Ps(Vs,Zr),Rs({},"GVL",function(){return co}),Rs({},"Json",function(){return ao});var ao=u(function e(){a(this,e)},null,[{key:"absCall",value:function(e,t,n,i){return new Promise(function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))}),o.addEventListener("error",function(){r(new Error("error"))}),o.addEventListener("abort",function(){r(new Error("aborted"))}),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(new Error("Timeout "+i+"ms "+e))},o.send(t)})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),co=function(){function e(t,n){var i;a(this,e),(i=o(this,e)).isReady_=!1,i.isLatest=!1;var s=e.baseUrl,r=null==n?void 0:n.language;if(r)try{r=e.consentLanguages.parseLanguage(r)}catch(e){throw new $s("Error during parsing the language: "+e.message)}if(i.lang_=r||e.DEFAULT_LANGUAGE,i.cacheLang_=r||e.DEFAULT_LANGUAGE,i.isVendorList(t))i.populate(t),i.readyPromise=Promise.resolve();else{if(!s)throw new $s("must specify GVL.baseUrl before loading GVL json");if(t>0){var c=t;e.CACHE.has(c)?(i.populate(e.CACHE.get(c)),i.readyPromise=Promise.resolve()):(s+=e.versionedFilename.replace("[VERSION]",String(c)),i.readyPromise=i.fetchJson(s))}else e.CACHE.has(e.LATEST_CACHE_KEY)?(i.populate(e.CACHE.get(e.LATEST_CACHE_KEY)),i.readyPromise=Promise.resolve()):(i.isLatest=!0,i.readyPromise=i.fetchJson(s+e.latestFilename))}return i}return g(e,Zs),u(e,[{key:"cacheLanguage",value:function(){e.LANGUAGE_CACHE.has(this.cacheLang_)||e.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}},{key:"fetchJson",value:(n=r(E().m(function e(t){var n,i,s;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=this,e.n=1,ao.fetch(t);case 1:i=e.v,n.populate.call(n,i),e.n=3;break;case 2:throw e.p=2,s=e.v,new $s(s.message);case 3:return e.a(2)}},e,this,[[0,2]])})),function(e){return n.apply(this,arguments)})},{key:"getJson",value:function(){return S(S({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks()},this.dataCategories?{dataCategories:this.cloneDataCategories()}:{}),{},{vendors:this.cloneVendors()})}},{key:"cloneSpecialFeatures",value:function(){for(var t={},n=0,i=Object.keys(this.specialFeatures);n<i.length;n++){var s=i[n];t[s]=e.cloneFeature(this.specialFeatures[s])}return t}},{key:"cloneFeatures",value:function(){for(var t={},n=0,i=Object.keys(this.features);n<i.length;n++){var s=i[n];t[s]=e.cloneFeature(this.features[s])}return t}},{key:"cloneStacks",value:function(){for(var t={},n=0,i=Object.keys(this.stacks);n<i.length;n++){var s=i[n];t[s]=e.cloneStack(this.stacks[s])}return t}},{key:"cloneDataCategories",value:function(){for(var t={},n=0,i=Object.keys(this.dataCategories);n<i.length;n++){var s=i[n];t[s]=e.cloneDataCategory(this.dataCategories[s])}return t}},{key:"cloneSpecialPurposes",value:function(){for(var t={},n=0,i=Object.keys(this.specialPurposes);n<i.length;n++){var s=i[n];t[s]=e.clonePurpose(this.specialPurposes[s])}return t}},{key:"clonePurposes",value:function(){for(var t={},n=0,i=Object.keys(this.purposes);n<i.length;n++){var s=i[n];t[s]=e.clonePurpose(this.purposes[s])}return t}},{key:"cloneVendors",value:function(){for(var t={},n=0,i=Object.keys(this.fullVendorList);n<i.length;n++){var s=i[n];t[s]=e.cloneVendor(this.fullVendorList[s])}return t}},{key:"changeLanguage",value:(t=r(E().m(function t(n){var i,s,r,o,a,c,u;return E().w(function(t){for(;;)switch(t.p=t.n){case 0:i=n,t.p=1,i=e.consentLanguages.parseLanguage(n),t.n=3;break;case 2:throw t.p=2,c=t.v,new $s("Error during parsing the language: "+c.message);case 3:if(s=n.toUpperCase(),i.toLowerCase()!==e.DEFAULT_LANGUAGE.toLowerCase()||e.LANGUAGE_CACHE.has(s)){t.n=4;break}return t.a(2);case 4:if(i===this.lang_){t.n=9;break}if(this.lang_=i,!e.LANGUAGE_CACHE.has(s)){t.n=5;break}for(o in r=e.LANGUAGE_CACHE.get(s))r.hasOwnProperty(o)&&(this[o]=r[o]);t.n=9;break;case 5:return a=e.baseUrl+e.languageFilename.replace("[LANG]",this.lang_.toLowerCase()),t.p=6,t.n=7,this.fetchJson(a);case 7:this.cacheLang_=s,this.cacheLanguage(),t.n=9;break;case 8:throw t.p=8,u=t.v,new $s("unable to load language: "+u.message);case 9:return t.a(2)}},t,this,[[6,8],[1,2]])})),function(e){return t.apply(this,arguments)})},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(t){this.purposes=t.purposes,this.specialPurposes=t.specialPurposes,this.features=t.features,this.specialFeatures=t.specialFeatures,this.stacks=t.stacks,this.dataCategories=t.dataCategories,this.isVendorList(t)&&(this.gvlSpecificationVersion=t.gvlSpecificationVersion,this.tcfPolicyVersion=t.tcfPolicyVersion,this.vendorListVersion=t.vendorListVersion,this.lastUpdated=t.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=t.vendors,this.fullVendorList=t.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&e.CACHE.set(e.LATEST_CACHE_KEY,this.getJson()),e.CACHE.has(this.vendorListVersion)||e.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){t.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){t.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){t.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,n){var i=t.vendors_[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach(function(e){t.byPurposeVendorMap[String(e)].consent.add(n)}),i.specialPurposes.forEach(function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)}),i.legIntPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)}),i.flexiblePurposes&&i.flexiblePurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)}),i.features.forEach(function(e){t.byFeatureVendorMap[String(e)].add(n)}),i.specialFeatures.forEach(function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)}),e[n]=i),e},{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach(function(e){o[String(e)]=s.vendors[String(e)]}),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var t=new e(this.getJson());return this.lang_!==e.DEFAULT_LANGUAGE&&t.changeLanguage(this.lang_),t}}],[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new $s("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(t){var n=!1;return null==t&&e.LANGUAGE_CACHE.size>0?(e.LANGUAGE_CACHE=new Map,n=!0):"string"==typeof t&&this.consentLanguages.has(t.toUpperCase())&&(e.LANGUAGE_CACHE.delete(t.toUpperCase()),n=!0),n}},{key:"emptyCache",value:function(t){var n=!1;return Number.isInteger(t)&&t>=0?(e.CACHE.delete(t),n=!0):void 0===t&&(e.CACHE=new Map,n=!0),n}},{key:"clonePurpose",value:function(e){return S(S({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneFeature",value:function(e){return S(S({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneDataCategory",value:function(e){return{id:e.id,name:e.name,description:e.description}}},{key:"cloneStack",value:function(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}},{key:"cloneDataRetention",value:function(e){return S(S({},"number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{}),{},{purposes:S({},e.purposes),specialPurposes:S({},e.specialPurposes)})}},{key:"cloneVendorUrls",value:function(e){return e.map(function(e){return S({langId:e.langId,privacy:e.privacy},e.legIntClaim?{legIntClaim:e.legIntClaim}:{})})}},{key:"cloneVendor",value:function(e){return S(S(S(S(S(S(S(S(S(S(S({id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures)},e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{}),"number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{}),void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{}),e.policyUrl?{policyUrl:e.policyUrl}:{}),void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{}),void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{}),e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{}),e.urls?{urls:this.cloneVendorUrls(e.urls)}:{}),e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{}),e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{}),e.deletedDate?{deletedDate:e.deletedDate}:{})}},{key:"isInstanceOf",value:function(e){return"object"===A(e)&&"function"==typeof e.narrowVendorsTo}}]);var t,n}();(Os=co).LANGUAGE_CACHE=new Map,Os.CACHE=new Map,Os.LATEST_CACHE_KEY=0,Os.DEFAULT_LANGUAGE="EN",Os.consentLanguages=new zs,Os.latestFilename="vendor-list.json",Os.versionedFilename="archives/vendor-list-v[VERSION].json",Os.languageFilename="purposes-[LANG].json",Rs({},"TCModel",function(){return uo});var uo=function(){function e(t){var n;return a(this,e),(n=o(this,e)).isServiceSpecific_=!1,n.supportOOB_=!0,n.useNonStandardTexts_=!1,n.purposeOneTreatment_=!1,n.publisherCountryCode_="AA",n.version_=2,n.consentScreen_=0,n.policyVersion_=4,n.consentLanguage_="EN",n.cmpId_=0,n.cmpVersion_=0,n.vendorListVersion_=0,n.numCustomPurposes_=0,n.addtlConsent_="",n.enableAdvertiserConsentMode_=!1,n.specialFeatureOptins=new Dr,n.purposeConsents=new Dr,n.purposeLegitimateInterests=new Dr,n.publisherConsents=new Dr,n.publisherLegitimateInterests=new Dr,n.publisherCustomConsents=new Dr,n.publisherCustomLegitimateInterests=new Dr,n.vendorConsents=new Dr,n.vendorLegitimateInterests=new Dr,n.vendorsDisclosed=new Dr,n.vendorsAllowed=new Dr,n.publisherRestrictions=new sr,t&&(n.gvl=t),n.updated(),n}return g(e,Zs),u(e,[{key:"gvl",get:function(){return this.gvl_},set:function(e){co.isInstanceOf(e)||(e=new co(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new js("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new js("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new js("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new js("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=0|Number(e))<0)throw new js("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new js("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardTexts",get:function(){return this.useNonStandardTexts_},set:function(e){this.useNonStandardTexts_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"addtlConsent",get:function(){return this.addtlConsent_},set:function(e){this.addtlConsent_=e||""}},{key:"enableAdvertiserConsentMode",get:function(){return this.enableAdvertiserConsentMode_},set:function(e){this.enableAdvertiserConsentMode_=!0===e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllPublisherConsents",value:function(){this.publisherConsents.set(this.gvl.purposes)}},{key:"unsetAllPublisherConsents",value:function(){this.publisherConsents.empty()}},{key:"setAllPublisherLegitimateInterests",value:function(){this.publisherLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPublisherLegitimateInterests",value:function(){this.publisherLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllPublisherConsents(),this.setAllPublisherLegitimateInterests(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllPublisherConsents(),this.unsetAllPublisherLegitimateInterests(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"===A(this.customPurposes)){var t=Object.keys(this.customPurposes).sort(function(e,t){return Number(e)-Number(t)});e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new js("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}])}();uo.consentLanguages=co.consentLanguages,Rs({},"TCString",function(){return So});var lo,ho,po,go,fo,vo,So=u(function e(){a(this,e)},null,[{key:"encode",value:function(e,t){var n,i="";return e=oo.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new io(e,t)[""+e.version]).forEach(function(t,s){var r="";s<n.length-1&&(r="."),i+=so.encode(e,t)+r}),i}},{key:"decode",value:function(e,t){var n=e.split("."),i=n.length;t||(t=new uo);for(var s=0;s<i;s++){var r=n[s],o=qs.decode(r.charAt(0)).substr(0,Pr.segmentType),a=lr.ID_TO_KEY[Fr.decode(o,Pr.segmentType).toString()];so.decode(r,t,a)}return t}}]),Eo=function(e,t,n){return t?e.map(function(e){return t&&t[e.id]?W(W({},e),{name:"".concat(e.name," (").concat(n,": ").concat(t[e.id],")")}):e}):e},mo=function(e,t,n,i,s,r,o){if(!e)return[];var a=e.gvl,c=e.publisherRestrictions,u=e.vendorConsents,l=e.vendorLegitimateInterests;if(!a)return[];var d=ye.fetchTCFVendorsDisclosedObject(a.vendors),h=Vo(c);return Object.values(a.vendors).map(function(e){var c,p,g,f=Ne(e.purposes,a.purposes),v=Ne(e.legIntPurposes,a.purposes);s&&(f=f.filter(function(e){return 1!==e.id}));var S=_o(e.id,d),E=f.map(function(e){return e}),m=v.map(function(e){return e});h.forEach(function(t){var n=t.purposeId,i=t.restrictionType,s=e.flexiblePurposes.indexOf(n)>-1;switch(i){case tr.NOT_ALLOWED:E=E.filter(function(e){return e.id!==n}),m=m.filter(function(e){return e.id!==n});break;case tr.REQUIRE_CONSENT:m=m.filter(function(e){return e.id!==n||(s&&E.push(e),!1)});break;case tr.REQUIRE_LI:E=E.filter(function(e){return e.id!==n||(s&&m.push(e),!1)})}});var y="",I="";e.urls&&e.urls.forEach(function(e){var t=e.langId,n=e.legIntClaim,i=e.privacy,s=t&&a.language&&t.toLowerCase()===a.language.toLowerCase();i&&(y&&!s||(y=i)),n&&(I&&!s||(I=n))});var C,T=r.includes(e.id),A=null===(c=e.dataDeclaration)||void 0===c?void 0:c.reduce(function(e,t){var n=a.dataCategories&&a.dataCategories[t];if(n){var i=W(W({},n),{id:n.id.toString()});return e?K(K([],z(e),!1),[i],!1):[i]}return e},[]);e.dataRetention&&e.dataRetention.stdRetention&&(C=[{id:e.dataRetention.stdRetention.toString(),name:e.dataRetention.stdRetention.toString()}]);var b=Ne(e.specialFeatures.filter(function(e){return!t.includes(e)}),a.specialFeatures);return W(W(W({consent:S?u.has(e.id):null,cookieMaxAgeSeconds:e.cookieMaxAgeSeconds&&e.cookieMaxAgeSeconds>=0?e.cookieMaxAgeSeconds:null,cookieRefresh:_e(e.cookieRefresh,null)},A&&{dataCategories:A}),C&&{dataRetention:C}),{deviceStorage:null,deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl||null,features:e.features.map(function(e){return{id:e,name:a.features[e].name}}),flexiblePurposes:Ne(e.flexiblePurposes,a.purposes),id:e.id,legitimateInterestClaimUrl:I,legitimateInterestConsent:S?l.has(e.id):null,legitimateInterestPurposes:m,name:e.name,policyUrl:e.policyUrl,privacyUrl:y,purposes:Eo(E,null===(p=e.dataRetention)||void 0===p?void 0:p.purposes,o),showConsentToggle:E.length>0&&n,showLegitimateInterestConsentToggle:m.length>0&&n&&!i,showVendorOutsideEU:T,specialFeatures:b,specialPurposes:Eo(Ne(e.specialPurposes,a.specialPurposes),null===(g=e.dataRetention)||void 0===g?void 0:g.specialPurposes,o),usesCookies:_e(e.usesCookies,!1),usesNonCookieAccess:_e(e.usesNonCookieAccess,null)})})},yo=function(e){return{legitimateInterestPurposes:(null==e?void 0:e.legIntPurposes)||[],notAllowedPurposes:(null==e?void 0:e.notAllowedPurposes)||[],purposes:(null==e?void 0:e.purposes)||[]}},Io=function(e){return Object.entries(e).map(function(e){var t=z(e,2),n=t[0],i=t[1];return{id:parseInt(n.replace("p",""),10),name:i}})},Co=function(e){return e||"/browser-sdk/".concat(ne,"/cookie-bridge.html")},To=function(e){return e||"https://usercentrics.mgr.consensu.org:443"},Ao=function(e,t){if(!t||0===e.length)return[];var n=function(e){return De(e.reduce(function(e,t){return e.concat(t.features.map(function(e){return e.id}))},[]))}(e);return n.reduce(function(e,n){var i=t[n];return i?K(K([],z(e),!1),[i],!1):e},[])},bo=function(e,t){return!e||!t},_o=function(e,t){return void 0===t&&(t=ye.fetchTCFVendorsDisclosedObject()),!0===t[e]},wo=function(e,t,n,i,s){var r=t.reduce(function(e,t){return e.concat(t.purposes.map(function(e){return e.id})).concat(t.legitimateInterestPurposes.map(function(e){return e.id}))},[]),o=Ro(e,n,i).reduce(function(e,t){return e.concat(t.purposeIds)},[]),a=De(r.concat(o));return s?a.filter(function(e){return 1!==e}):a},Oo=function(e,t,n,i,s,r,o,a,c){if(!e||!t||!n)return[];var u=wo(t,i,s,r,o),l=Ro(t,s,r),d=ye.fetchTCFData().vendors,h=e.purposeConsents,p=e.purposeLegitimateInterests,g=De(i.map(function(e){return e.legitimateInterestPurposes.map(function(e){return e.id})}).reduce(function(e,t){return e.concat(t)},[])),f=De(i.map(function(e){return e.purposes.map(function(e){return e.id})}).reduce(function(e,t){return e.concat(t)},[])),v=u.reduce(function(e,t){var n,s=i.filter(function(e){return e.purposes.find(function(e){return e.id===t})}),r=i.filter(function(e){return e.legitimateInterestPurposes.find(function(e){return e.id===t})});return W(W({},e),((n={})[t]=s.length+r.length,n))},{});return u.reduce(function(e,t){var i=n[t];if(!i)return e;var s=l.find(function(e){return e.purposeIds.includes(t)});return K(K([],z(e),!1),[{consent:d.length?h.has(t):null,description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,legitimateInterestConsent:d.length?p.has(t):null,name:i.name,numberOfVendors:v[i.id]||0,showConsentToggle:f.includes(t)&&a,showLegitimateInterestToggle:1!==i.id&&g.includes(t)&&a&&!c,stackId:(null==s?void 0:s.id)||null}],!1)},[])},No=function(e){return{onATPListChanged:e.resurfaceATPListChanged,onIABLegalBasisChanged:e.resurfaceIABLegalBasisChanged,onPeriodEnded:e.resurfacePeriodEnded,onPurposeChanged:e.resurfacePurposeChanged,onVendorAdded:e.resurfaceVendorAdded}},Do=function(e,t,n,i){var s=t.reduce(function(e,t){return e.concat(t.specialFeatures.filter(function(e){return!n.includes(e.id)}).map(function(e){return e.id}))},[]),r=Ro(e,n,i).reduce(function(e,t){return e.concat(t.specialFeatureIds.filter(function(e){return!n.includes(e)}))},[]);return De(s.concat(r))},Lo=function(e,t,n,i,s,r){if(!e||!t)return[];var o=Do(t.stacks,n,i,s),a=Ro(t.stacks,i,s);return o.map(function(n){var i=t.specialFeatures[n],s=a.find(function(e){return e.specialFeatureIds.includes(n)});return{consent:e.specialFeatureOptins.has(n),description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,name:i.name,showConsentToggle:r,stackId:(null==s?void 0:s.id)||null}})},Po=function(e,t){if(!e)return[];var n=function(e){return De(e.reduce(function(e,t){return e.concat(t.specialPurposes.map(function(e){return e.id}))},[]))}(t);return n.reduce(function(t,n){var i=e[n];return i?K(K([],z(t),!1),[{description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,name:i.name}],!1):t},[])},Ro=function(e,t,n){return e?n.reduce(function(n,i){var s=e[i];return s?K(K([],z(n),!1),[{description:s.description,id:s.id,name:s.name,purposeIds:s.purposes,specialFeatureIds:s.specialFeatures.filter(function(e){return!t.includes(e)})}],!1):n},[]):[]},Vo=function(e){return(null==e?void 0:e.getRestrictions().map(function(e){return{purposeId:e.purposeId,restrictionType:e.restrictionType}}))||[]},ko=function(e){return!!(null==e?void 0:e.timestamp)&&(Date.now()-e.timestamp)/864e5>390},Uo=function(e,t){if(!(null==e?void 0:e.acString)||!(null==e?void 0:e.acString.length))return!1;var n=null==e?void 0:e.acString.split("~")[1].split(".").filter(function(e){return""!==e}).map(function(e){return parseInt(e,10)}),i=null==e?void 0:e.acString.split("dv.")[1].split(".").filter(function(e){return""!==e}).map(function(e){return parseInt(e,10)}),s=K(K([],z(n),!1),z(i),!1).sort(function(e,t){return e-t}),r=t.map(function(e){return e.id}).sort(function(e,t){return e-t});return!(s.length===r.length&&s.every(function(e,t){return e===r[t]}))},Mo=function(e,t){return!(!(null==e?void 0:e.vendors)||!(null==e?void 0:e.vendors.length)||t.every(function(t){return null==e?void 0:e.vendors.find(function(e){return e[le.ID]===t.id})}))},xo=function(e,t){return!(!(null==e?void 0:e.vendors)||!e.vendors.length||e.vendors.length&&!e.vendors[0][le.SPECIAL_PURPOSES]||e.vendors.every(function(e){var n=t.find(function(t){return t.id===e[le.ID]});return!n||e[le.PURPOSES].sort().toString()===n.purposes.map(function(e){return e.id}).sort().toString()&&e[le.LEGITIMATE_INTEREST].sort().toString()===n.legitimateInterestPurposes.map(function(e){return e.id}).sort().toString()&&e[le.SPECIAL_PURPOSES].sort().toString()===n.specialPurposes.map(function(e){return e.id}).sort().toString()}))},Fo=function(e){return e.map(function(e){var t=e.id,n=e.legitimateInterestPurposes,i=e.purposes,s=e.specialPurposes;return[t,n.map(function(e){return e.id}),i.map(function(e){return e.id}),s.map(function(e){return e.id})]})},Go=function(e){var t=e.replace("_","-");if(co.consentLanguages.has(t.toLocaleLowerCase())||co.consentLanguages.has(t.toUpperCase()))return t;var n=t.slice(0,2);if(co.consentLanguages.has(n.toLocaleLowerCase())||co.consentLanguages.has(n.toUpperCase()))return n;switch(e){case"pt":return"pt-pt";case"sr":return"sr-cyrl";default:return cn}},Bo=[],$o=[],Ho=function(e,t,n){switch(e){case"queue":return Bo;case"ping":"function"==typeof t&&t({applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1"]},!0);break;case"addEventListener":"lastId"in window.__gpp||(window.__gpp.lastId=0),window.__gpp.lastId+=1;var i=window.__gpp.lastId;$o.push({callback:t,id:i,parameter:n}),t({data:!0,eventName:"listenerRegistered",listenerId:i,pingData:{applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","9:usva","7:usnat"]}},!0);break;case"removeEventListener":for(var s=!1,r=0;r<$o.length;r++)if($o[r].id===n){$o.splice(r,1),s=!0;break}t({data:s,eventName:"listenerRemoved",listenerId:n,pingData:{applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","9:usva","7:usnat"]}},!0);break;case"hasSection":t(!1,!0);break;case"getSection":case"getField":t(null,!0);break;default:Bo.push([e,t,n])}},jo="__gppLocator",qo=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===A(n)&&n.__gppCall){var i=n.__gppCall;window.__gpp(i.command,i.version,function(n,s){var r={__gppReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}},i.parameter)}}},Wo=function(){"undefined"!=typeof window&&(window.__gpp||!function(){for(var e=window,t=!1;e;){try{if(e.frames[jo]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&(je(function(){return!!window.document.body},"").then(function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=jo,window.document.body.appendChild(e)}),1)&&(window.addEventListener("message",qo,!1),window.__gpp=Ho))},Yo=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===A(n)&&n.__tcfapiCall){var i=n.__tcfapiCall;window.__tcfapi(i.command,i.version,function(n,s){var r={__tcfapiReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}},i.parameter)}}},Jo=[],zo=function(e,t,n,i){if(!e)return Jo;switch(e){case"ping":"function"==typeof n&&n({cmpLoaded:!1,cmpStatus:"stub",gdprApplies:!0});break;case"pending":return Jo;default:Jo.push([e,t,n,i])}},Ko="__tcfapiLocator",Qo=function(){"undefined"!=typeof window&&(window.__tcfapi||!function(){for(var e=window,t=!1;e;){try{if(e.frames[Ko]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&(je(function(){return!!window.document.body},"").then(function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=Ko,window.document.body.appendChild(e)}),1)&&(window.addEventListener("message",Yo,!1),window.__tcfapi=zo))};!function(e){e.ACCEPT_ALL_SERVICES="onAcceptAllServices",e.DENY_ALL_SERVICES="onDenyAllServices",e.ESSENTIAL_CHANGE="onEssentialChange",e.INITIAL_PAGE_LOAD="onInitialPageLoad",e.NON_EU_REGION="onNonEURegion",e.SESSION_RESTORED="onSessionRestored",e.TCF_STRING_CHANGE="onTcfStringChange",e.UPDATE_SERVICES="onUpdateServices",e.MOBILE_SESSION_RESTORED="onMobileSessionRestore"}(lo||(lo={})),function(e){e.EXPLICIT="explicit",e.IMPLICIT="implicit"}(ho||(ho={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.CMP_SHOWN=1]="CMP_SHOWN",e[e.ACCEPT_ALL=2]="ACCEPT_ALL",e[e.DENY_ALL=3]="DENY_ALL",e[e.SAVE=4]="SAVE",e[e.ACCEPT_ALL_L1=5]="ACCEPT_ALL_L1",e[e.DENY_ALL_L1=6]="DENY_ALL_L1",e[e.SAVE_L1=7]="SAVE_L1",e[e.ACCEPT_ALL_L2=8]="ACCEPT_ALL_L2",e[e.DENY_ALL_L2=9]="DENY_ALL_L2",e[e.SAVE_L2=10]="SAVE_L2",e[e.COOKIE_POLICY_LINK=11]="COOKIE_POLICY_LINK",e[e.IMPRINT_LINK=12]="IMPRINT_LINK",e[e.MORE_INFORMATION_LINK=13]="MORE_INFORMATION_LINK",e[e.PRIVACY_POLICY_LINK=14]="PRIVACY_POLICY_LINK",e[e.CCPA_TOGGLES_ON=15]="CCPA_TOGGLES_ON",e[e.CCPA_TOGGLES_OFF=16]="CCPA_TOGGLES_OFF",e[e.SAY_MINE_LINK=17]="SAY_MINE_LINK"}(po||(po={})),function(e){e.API_NAME="__uspapi",e.GET_USP_DATA="getUSPData"}(go||(go={})),function(e){e[e.FIRST_LAYER=0]="FIRST_LAYER",e[e.NONE=1]="NONE",e[e.PRIVACY_BUTTON=2]="PRIVACY_BUTTON",e[e.SECOND_LAYER=3]="SECOND_LAYER"}(fo||(fo={})),function(e){e[e.CCPA=0]="CCPA",e[e.DEFAULT=1]="DEFAULT",e[e.TCF=2]="TCF"}(vo||(vo={})),void 0!==Ls&&Ls.initialize({modulePath:"/dir"});var Xo=function(){function e(e,t){var n;if(this.ampInstance=gt.getInstance(),this.apiInstance=Yt.getInstance(),this.botInstance=Xt.getInstance(),this.controllerIdInstance=xt.getInstance(),this.dataFacadeInstance=Gn.getInstance(),this.eventDispatcherInstance=rn.getInstance(),this.initOptions={},this.isConsentRequired=null,this.languageInstance=ys.getInstance(),this.storageServiceInstance=ye.getInstance(),this.locationInstance=Gt.getInstance(),this.settingsV2=Fn.getInstance(),this.uiInstance=Ds.getInstance(),this.domains=null,this.rulesetRule={name:"",noShow:!0,settingsId:""},this.gppData=null,this.isCurrentDomainAllowed=function(e){var t,n=window.location.hostname.replace("www.",""),i=window.location.pathname,s=null===(t=e.allowedDomainOptions)||void 0===t?void 0:t.list;if((null==s?void 0:s.length)&&(s=s.filter(function(e){return"string"==typeof e&&""!==e.trim()}).map(function(e){return e.trim()})),!(null==s?void 0:s.length))return!0;var r=s.concat(te),o=!1;return r.forEach(function(e){if(e.includes("*")){if("*."===e.slice(0,2))n.includes(e.slice(2))&&(o=!0);else if("/*"===e.slice(-2)){var t=e.slice(0,-2);t.split("/")[0]===n&&(n+i).includes(t)&&(o=!0)}}else e.includes("/")?n+i===e&&(o=!0):n===e&&(o=!0)}),o},t&&(this.initOptions=t),this.apiInstance.setEuMode(!0===(null==t?void 0:t.euMode)),this.domains=(n=window.UC_UI_DOMAINS)?Object.entries(n).reduce(function(e,t){var n,i,s=t[0],r=t[1];return"/"===r.slice(-1)?W(W({},e),((n={})[s]=r.slice(0,-1),n)):W(W({},e),((i={})[s]=r,i))},{aggregator:"",app:"",cdn:"",consents:"",consentsV2:"",consentsV2Fetch:"",crossDomainConsentSharingIFrame:"",graphql:"",trackingEvent:""}):null,this.apiInstance.setDomains(!0===(null==t?void 0:t.sandboxEnv),this.domains),(null==t?void 0:t.createTcfApiStub)&&Qo(),(null==t?void 0:t.createGppStub)&&Wo(),(null==t?void 0:t.useRulesetId)?this.apiInstance.setRulesetId(e):this.apiInstance.setSettingsId(e),this.controllerIdInstance.value="",(null==t?void 0:t.controllerId)&&!(null==t?void 0:t.useRulesetId)&&(this.controllerIdInstance.value=t.controllerId),(null==t?void 0:t.language)&&this.languageInstance.setPrimaryLanguage(t.language),(null==t?void 0:t.settingsCache)&&this.apiInstance.setJsonCacheBustingString(t.settingsCache),(null==t?void 0:t.version)&&this.apiInstance.setJsonFileVersion(t.version),(null==t?void 0:t.userCountryData)&&"object"===A(t.userCountryData)&&Object.keys(t.userCountryData).every(function(e){return"string"==typeof e})&&this.locationInstance.setUserCountryData(t.userCountryData),(null==t?void 0:t.userSessionData)&&this.dataFacadeInstance.setUserSessionData(t.userSessionData),(null==t?void 0:t.ampEnabled)&&this.ampInstance.setIsAmpEnabled(!0),(null==t?void 0:t.blockDataLayerPush)&&this.eventDispatcherInstance.setBlockDataLayerPush(!0),(null==t?void 0:t.disableUet)?this.eventDispatcherInstance.setUetDisabled(!0):window.uetq=window.uetq||[],(null==t?void 0:t.storeServiceIdToNameMapping)&&this.storageServiceInstance.setStoreServiceIdToNameMapping(null==t?void 0:t.storeServiceIdToNameMapping),(null==t?void 0:t.disableTracking)&&(this.initOptions.disableTracking=!0),(null==t?void 0:t.disableServerConsents)&&this.apiInstance.setDisableServerConsents(!0),(null==t?void 0:t.disableServerConsents)&&(null==t?void 0:t.controllerId))throw new Error("Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!");(null==t?void 0:t.enableDeprecatedV1ConsentSaving)&&(this.initOptions.enableDeprecatedV1ConsentSaving=t.enableDeprecatedV1ConsentSaving),this.initOptions.prefetchServices=_e(null==t?void 0:t.prefetchServices,!0),this.setTrackingPixel=this.setTrackingPixel.bind(this)}return e.prototype.fetchCoreAndDps=function(){return Y(this,void 0,void 0,function(){var e,t,n;return J(this,function(i){switch(i.label){case 0:return[4,this.loadSettings()];case 1:return e=i.sent(),t={allowedDomainOptions:{list:(s=e).allowedDomains,showErrorCmp:s.showErrorOnUnallowedDomain},buttonDisplayLocation:s.buttonDisplayLocation,buttonPrivacyCloseIcon:s.buttonPrivacyCloseIcon,buttonPrivacyOpenIconUrl:s.buttonPrivacyOpenIconUrl,ccpa:(a=s.framework,c=s.ccpa,{iabAgreementExists:c.iabAgreementExists,isActive:a?["CCPA","UCPA","CTDPA","VCDPA","CPRA","CPA"].includes(a):c.isActive,region:c.region,reshowAfterDays:c.reshowAfterDays,showOnPageLoad:c.showOnPageLoad}),consentAnalytics:s.consentAnalytics,consentAPIv2:s.consentAPIv2,consentSharingIFrameIsActive:s.consentSharingIFrameIsActive,consentXDevice:s.consentXDevice,customization:(o=s.customization,o?W(W({color:o.color?{primary:o.color.primary,privacyButtonBackground:o.color.privacyButtonBackground,privacyButtonIcon:o.color.privacyButtonIcon}:null},o.privacyButtonSizeMobile&&{privacyButtonSizeMobile:o.privacyButtonSizeMobile}),o.privacyButtonSizeDesktop&&{privacyButtonSizeDesktop:o.privacyButtonSizeDesktop}):o),dataExchangeOnPage:s.dataExchangeOnPage,displayOnlyForEU:s.displayOnlyForEU,enableBotDetection:s.enableBotDetection,enablePoweredBy:s.enablePoweredBy,framework:s.framework,googleConsentMode:s.googleConsentMode,integrations:s.integrations,interactionAnalytics:s.interactionAnalytics,labels:{partnerPoweredByLinkText:s.labels.partnerPoweredByLinkText,poweredBy:s.labels.poweredBy},languagesAvailable:s.languagesAvailable,partnerPoweredByUrl:s.partnerPoweredByUrl,privacyButtonIsVisible:s.privacyButtonIsVisible,privacyButtonUrls:s.privacyButtonUrls,renewConsentsTimestamp:s.renewConsentsTimestamp,reshowBanner:s.reshowBanner,settingsId:s.settingsId,showInitialViewForVersionChange:s.showInitialViewForVersionChange,tagLoggerIsActive:s.tagLoggerIsActive,tcf2:(r=s.tcf2,{resurfaceATPListChanged:r.resurfaceATPListChanged,resurfaceIABLegalBasisChanged:r.resurfaceIABLegalBasisChanged,resurfacePeriodEnded:r.resurfacePeriodEnded,resurfacePurposeChanged:r.resurfacePurposeChanged,resurfaceVendorAdded:r.resurfaceVendorAdded}),tcf2Enabled:s.framework?"TCF2"===s.framework:s.tcf2Enabled,variants:s.variants,version:s.version},n=function(e){return{categories:e.categories,consentTemplates:e.consentTemplates}}(e),[2,{core:t,dps:n}]}var s,r,o,a,c})})},e.prototype.init=function(){var e,t,n,i,s,r,o,a,c,u,l,d;return Y(this,void 0,void 0,function(){var h,p,g,f,v,S,E,m,y,I,C,T,A,b,_,w,O,N,D,L,P,R,V,k=this;return J(this,function(U){switch(U.label){case 0:return ye.getInstance().init(),this.initOptions.createGppStub&&(this.gppData=ms.getInstance(this.settingsV2.legacySettings,this.initOptions.createGppStub)),this.apiInstance.getRulesetId()?(h=this,[4,Nn.getInstance().resolveSettingsId()]):[3,2];case 1:h.rulesetRule=U.sent(),this.apiInstance.setSettingsId(this.rulesetRule.settingsId),this.initOptions.controllerIds&&this.controllerIdInstance.setControllerIdByResolvedSettingsId(this.rulesetRule.settingsId,this.initOptions.controllerIds),U.label=2;case 2:return ye.clearOnNewSettingsId(this.apiInstance.getSettingsId()),ye.migrateLegacySettings(this.apiInstance.getSettingsId()),p=ye.fetchServices(),g=null==p?void 0:p.map(function(e){return e.history}).flat().reduce(function(e,t){return(null==e?void 0:e.timestamp)<t.timestamp?t:e}),f="explicit"===(null==g?void 0:g.type),[4,this.languageInstance.resolveLanguage()];case 3:U.sent(),U.label=4;case 4:return U.trys.push([4,6,,9]),[4,this.fetchCoreAndDps()];case 5:if(E=U.sent(),y=E.core,I=E.dps,!y.languagesAvailable.includes(this.apiInstance.getJsonFileLanguage()))throw new Error("Using non allowed language");return v=y,S=I,[3,9];case 6:return U.sent(),this.languageInstance.setPrimaryLanguage(""),[4,this.languageInstance.resolveLanguage(!0)];case 7:return U.sent(),[4,this.fetchCoreAndDps()];case 8:return m=U.sent(),y=m.core,I=m.dps,v=y,S=I,[3,9];case 9:if(!this.isCurrentDomainAllowed(v))throw(C=new Error).showErrorCmp=null===(e=v.allowedDomainOptions)||void 0===e?void 0:e.showErrorCmp,console.error('Usercentrics: The domain "'.concat(window.location.hostname,'" has not been added to the allowlist for this Usercentrics account.')),C;if(!v||!S)throw new Error;return this.botInstance.isBotEnabled=v.enableBotDetection,!v.consentSharingIFrameIsActive||this.botInstance.isRobot()?[3,11]:[4,fe.init({useEuCdn:this.initOptions.euMode||!1},this.domains).then(function(){return Y(k,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return fe.setCrossDomainId(this.apiInstance.getSettingsId()),fe.setIsCrossDomainAvailable(!0),fe.setUseEuCdn(this.initOptions.euMode||!1),this.languageInstance.getPrimaryLanguage()?[3,3]:[4,fe.getCrossDomainLanguage().catch(function(){return console.warn(j.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE),""})];case 1:return e=t.sent(),[4,this.changeLanguage(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}).catch(function(e){fe.setIsCrossDomainAvailable(!1),fe.removeIFrame(he),console.warn(j.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE,e)})];case 10:U.sent(),U.label=11;case 11:return this.botInstance.isRobot()?this.initOptions.suppressCmpDisplay=!0:this.initOptions.disableTracking||this.addSessionTrackingPixel(),T=S.consentTemplates.find(function(e){var t;return"Fraud0"===(null===(t=e._meta)||void 0===t?void 0:t.name)||"q-_eu2X2d"===e.templateId}),(null===(t=v.integrations)||void 0===t?void 0:t.fraud0)&&v.integrations.fraud0.length>0&&T&&!(null==T?void 0:T.isDeactivated)&&((A=document.createElement("script")).src="https://bt.fraud0.com/api/v2/fz.js?cid=".concat(v.integrations.fraud0[0].accountId),A.async=!0,A.setAttribute(En,"Fraud0"),A.type=tn.TEXT_PLAIN,document.body.appendChild(A)),b=this.apiInstance.getJsonFileLanguage(),[4,this.settingsV2.init(v,S,b)];case 12:return U.sent(),[4,this.uiInstance.resolveUiVariant(v.tcf2Enabled)];case 13:return _=U.sent(),[4,this.settingsV2.initData(_,[],!1,!0===this.initOptions.euMode,this.initOptions.excludeAcceptAllVendors,f,this.initOptions.enableDeprecatedV1ConsentSaving)];case 14:return U.sent(),[4,this.apiInstance.fetchTranslations()];case 15:return w=U.sent(),!this.initOptions.prefetchServices&&this.settingsV2.allLegacyServicesHaveName?[3,17]:[4,this.settingsV2.extendServices(_,w)];case 16:U.sent(),this.apiInstance.resetAggregatedServicesCache(),U.label=17;case 17:return this.controllerIdInstance.setNeedSessionRestore(),[4,this.dataFacadeInstance.restoreUserSession(S)];case 18:return(O=U.sent())||(this.controllerIdInstance.init(),this.settingsV2.data&&this.settingsV2.setControllerId(this.controllerIdInstance.value)),[4,this.uiInstance.init(this.initOptions)];case 19:return U.sent(),N=this.settingsV2.getTcfData(),ot(this.settingsV2.data)&&N?[4,this.settingsV2.data.init(!0===this.initOptions.euMode)]:[3,21];case 20:U.sent(),U.label=21;case 21:return this.settingsV2.initLabels(_,w),D=[],ye.settingsExist()&&(D=this.processStorageServicesAndSettings(this.settingsV2.data)),this.botInstance.isRobot()||(this.apiInstance.saveConsentsFromBuffer(),this.apiInstance.saveConsentsV2FromBuffer()),[4,this.uiInstance.resolveUIOptions(v)];case 22:return L=U.sent(),P=L.initialLayer,R=ye.fetchTCFData(),O&&N&&(null===(n=this.gppData)||void 0===n||n.setSectionString(R.tcString,"tcfeuv2"),ye.saveTCFData(W(W({},R),{vendors:Fo(N.getTCFData().vendors)}))),this.setIsConsentRequired(this.uiInstance.shouldShowFirstLayer(v)),this.isConsentRequired&&ye.setUserActionPerformed(!1),this.settingsV2.initLabels(_,w),[4,this.settingsV2.initUI(P,_)];case 23:return U.sent(),N?!(0===P||(null===(i=this.initOptions)||void 0===i?void 0:i.suppressCmpDisplay)&&this.getIsConsentRequired())||this.botInstance.isRobot()?[3,25]:[4,N.setUIAsOpen()]:[3,27];case 24:return U.sent(),[3,27];case 25:return[4,N.setUIAsClosed()];case 26:U.sent(),U.label=27;case 27:return this.initOptions.createGppStub&&(ot(this.settingsV2.data)||rt(this.settingsV2.data))&&(V=this.settingsV2.data,ot(V)?null===(s=this.gppData)||void 0===s||s.setApplicableSections("tcfeuv2"):rt(V)?null===(r=this.gppData)||void 0===r||r.setApplicableSections(V.legalFramework):null===(o=this.gppData)||void 0===o||o.setApplicableSections("tcfeuv2"),(0===P||3===P||(null===(a=this.initOptions)||void 0===a?void 0:a.suppressCmpDisplay)&&this.getIsConsentRequired())&&!this.botInstance.isRobot()&&(null===(c=this.gppData)||void 0===c||c.setCmpDisplayVisible()),2!==P&&1!==P||null===(u=this.gppData)||void 0===u||u.setCmpDisplayHidden(),null===(l=this.gppData)||void 0===l||l.setCmpSignalReady(),null===(d=this.gppData)||void 0===d||d.setCmpStatusLoaded()),this.settingsV2.isTagLoggerActive()&&!this.botInstance.isRobot()&&(new Ns).initTagLogger(),this.eventDispatcherInstance.init(this.settingsV2.getDataExchangeSettings()),[4,this.updateStorage(p,D,O)];case 28:return U.sent(),[2,L]}})})},e.prototype.acceptAllForTCF=function(e){return Y(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.acceptAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.acceptAllServices=function(e){return void 0===e&&(e="explicit"),Y(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(P.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(P.TRUE),"onAcceptAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}})})},e.prototype.changeLanguage=function(e){var t,n;return Y(this,void 0,void 0,function(){var i,s,r,o,a,c,u,l,d,h,p,g,f,v,S,E;return J(this,function(m){switch(m.label){case 0:return i=null===(t=this.settingsV2.core)||void 0===t?void 0:t.language.available,s=i&&i.some(function(t){return t===e}),r=e!==this.apiInstance.getJsonFileLanguage()&&s,o=this.settingsV2,a=o.core,c=o.data,r&&c&&a?(this.apiInstance.setJsonFileLanguage(e),this.apiInstance.resetTranslationsCache(),this.settingsV2.language=e,[4,this.fetchCoreAndDps()]):[3,8];case 1:return u=m.sent().dps,this.settingsV2.dpsJson=u,l=this.uiInstance,d=l.selectedLayer,h=l.variant,[4,this.apiInstance.fetchTranslations()];case 2:return p=m.sent(),null===h||null===d||null==u?[3,6]:!this.settingsV2.isAggregatorLoaded&&this.settingsV2.checkIfServiceNameExists(u.consentTemplates)?[3,4]:[4,this.settingsV2.extendServices(h,p)];case 3:return m.sent(),[3,5];case 4:this.settingsV2.initLabels(h,p),m.label=5;case 5:this.apiInstance.resetAggregatedServicesCache(),m.label=6;case 6:return this.settingsV2.updateServicesLanguage(e),g=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(c),f=g.mergedServices,v=g.mergedServicesData,S=g.mergedSettingsData,a.language.selected=e,S.categories=this.settingsV2.mergeServicesDataIntoExistingCategories(v),this.settingsV2.data=S,(E=this.settingsV2.getDataTransferSettings())&&ye.saveSettings(ye.mapSettings(E,f),f),ot(S)?[4,S.changeLanguage(e,null===(n=this.settingsV2.legacySettings)||void 0===n?void 0:n.tcf2)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[2]}})})},e.prototype.denyAllForTCF=function(e){return Y(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.denyAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.denyAllServices=function(e){return void 0===e&&(e="explicit"),Y(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(P.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(P.FALSE),"onDenyAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}})})},e.prototype.fetchIsUserInEU=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){return[2,this.locationInstance.getIsUserInEU()]})})},e.prototype.fetchUserCountry=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){return[2,this.locationInstance.getUserCountryData()]})})},e.prototype.getAbTestVariant=function(){return this.apiInstance.getAbTestVariant()},e.prototype.getCategoriesBaseInfo=function(){return this.settingsV2.getCategoriesBaseInfo()},e.prototype.getCategoriesFullInfo=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getCategoriesFullInfo(this.uiInstance.variant,e)]}})})},e.prototype.getCcpaOptOutStatus=function(){var e;return(null===(e=this.settingsV2.getCcpaData())||void 0===e?void 0:e.getIsOptedOut())||!1},e.prototype.getCcpaExplicitNoticeStatus=function(){var e;return(null===(e=this.settingsV2.getCcpaData())||void 0===e?void 0:e.getExplicitNotice())||!1},e.prototype.saveOptOutForCcpa=function(e,t){return void 0===t&&(t="explicit"),Y(this,void 0,void 0,function(){var n,i;return J(this,function(s){switch(s.label){case 0:return(n=this.settingsV2.getCcpaData())&&n.getIsOptedOut()!==e?(n.setCcpaStorage(e),i={consentAction:e?"onDenyAllServices":"onAcceptAllServices",consentStatus:e?P.FALSE:P.TRUE,consentString:{CCPA:ye.getCcpaString()}},this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(i.consentStatus),this.settingsV2.getUpdatedServicesDataWithConsent(i.consentStatus),i.consentAction,t,i.consentString,this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()]):[2];case 1:return s.sent(),[2]}})})},e.prototype.saveDefaultForCcpa=function(){return Y(this,void 0,void 0,function(){var e,t,n;return J(this,function(i){switch(i.label){case 0:return e=this.settingsV2.getCcpaData(),t=ye.getCcpaString(),e?[3,2]:(ye.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]);case 1:case 3:return i.sent(),[2];case 2:return"-"===t[1]?(n=e.getIsOptedOut(),null==e||e.setCcpaStorage(n,vs.ACCEPT),window.dispatchEvent(new Event(Zt))):ye.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]}})})},e.prototype.getControllerId=function(){return this.controllerIdInstance.value},e.prototype.getServicesBaseInfo=function(){return this.settingsV2.getServicesBaseInfo()},e.prototype.getServicesFullInfo=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getServicesFullInfo(this.uiInstance.variant,e)]}})})},e.prototype.getSettingsCore=function(){var e=this.settingsV2.core;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsLabels=function(){var e=this.settingsV2.labels;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsData=function(){var e=this.settingsV2.data;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsUI=function(){return this.settingsV2.ui},e.prototype.getAriaLabels=function(){var e,t;return lt(this.settingsV2.labels)&&null!=(null===(e=this.settingsV2.labels)||void 0===e?void 0:e.ariaLabels)?null===(t=this.settingsV2.labels)||void 0===t?void 0:t.ariaLabels:Ye},e.prototype.getTCFData=function(){var e=this.settingsV2.getTcfData();return e?e.getTCFData():null},e.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.settingsV2.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return this.settingsV2.injectTCString(e)},e.prototype.setTCFUIAsClosed=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsClosed()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.setGppDisplayHidden=function(){var e;return Y(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,null===(e=ms.getInstance())||void 0===e?void 0:e.setCmpDisplayHidden()];case 1:return t.sent(),[2]}})})},e.prototype.setGppDisplayVisible=function(){var e;return Y(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,null===(e=ms.getInstance())||void 0===e?void 0:e.setCmpDisplayVisible()];case 1:return t.sent(),[2]}})})},e.prototype.setTCFUIAsOpen=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsOpen()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.updateChoicesForTCF=function(e,t){return Y(this,void 0,void 0,function(){var n;return J(this,function(i){switch(i.label){case 0:return(n=this.settingsV2.getTcfData())?[4,n.updateChoices(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.areAllConsentsAccepted=function(){return this.settingsV2.isTcfAvailable()?this.settingsV2.areAllVendorsAndPurposesAccepted()&&this.settingsV2.areAllServicesAccepted():this.settingsV2.areAllServicesAccepted()},e.prototype.restoreUserSession=function(e){var t,n;return Y(this,void 0,void 0,function(){var i;return J(this,function(s){switch(s.label){case 0:return(null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2)&&!(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentXDevice)?(console.warn(H.CROSS_DEVICE_FEATURE_DISABLED),this.controllerIdInstance.needsSessionRestore=!1,[2]):(this.controllerIdInstance.value=e,this.controllerIdInstance.needsSessionRestore=!0,this.settingsV2.setControllerId(e),(i=this.settingsV2.dpsJson)?[4,this.dataFacadeInstance.restoreUserSession(i)]:[3,2]);case 1:s.sent()&&this.enableServicesScripts(this.processStorageServicesAndSettings(this.settingsV2.data),this.settingsV2.getGoogleConsentMode(),"onSessionRestored"),s.label=2;case 2:return[2]}})})},e.prototype.clearStorage=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,ye.clearAll()];case 1:return e.sent(),[2]}})})},e.prototype.postMessageAmp=function(e,t,n){return Y(this,void 0,void 0,function(){var i,s,r,o,a,c,u,l,d=this;return J(this,function(h){switch(h.label){case 0:return i=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return s=h.sent(),r=function(){var e=d.settingsV2.getTcfData();return i&&(null==e?void 0:e.getTCString)?e.getTCString():s?ye.getCcpaString():""},o=function(){return Y(d,void 0,void 0,function(){var e,t,n,r;return J(this,function(o){switch(o.label){case 0:return r=this.settingsV2.getTcfData(),i&&r?(e=L.TCF_V2,[4,r.getGdprApplies()]):[3,2];case 1:return t=o.sent(),n=this.settingsV2.getTCFPurposeOneTreatment(),[3,3];case 2:s&&(e=L.CCPA),o.label=3;case 3:return[2,W({consentStringType:e},i&&{gdprApplies:t,purposeOne:n})]}})})},c=[{action:t,type:e}],(u=e===N.CONSENT_RESPONSE&&t!==D.DISMISS&&(s||i))?(l={},[4,o()]):[3,3];case 2:l.consentMetadata=h.sent(),l.info=r(),u=l,h.label=3;case 3:return a=W.apply(void 0,[W.apply(void 0,c.concat([u])),n&&{initialHeight:n}]),[2,new Promise(function(e,t){try{window.parent.postMessage(W({},a),"*"),e()}catch(e){t(e)}})]}})})},e.prototype.acceptAllAmp=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,D.ACCEPT)];case 1:return e.sent(),[2]}})})},e.prototype.denyAllAmp=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,D.REJECT)];case 1:return e.sent(),[2]}})})},e.prototype.saveTCFDataAmp=function(e){return Y(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return t=e.every(function(e){return e.status}),0===e.length||t?[4,this.postMessageAmp(N.CONSENT_RESPONSE,D.ACCEPT)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,D.REJECT)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},e.prototype.dismissAmp=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,D.DISMISS)];case 1:return e.sent(),[2]}})})},e.prototype.enterFullscreenAmp=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){return[2,this.postMessageAmp(N.CONSENT_UI,D.FULLSCREEN)]})})},e.prototype.uiReadyAmp=function(){return Y(this,void 0,void 0,function(){var e,t,n;return J(this,function(i){return e=this.settingsV2.labels,t="60vh",e&&lt(e)&&(n=e.firstLayer.description.default.length,window.screen.height>700&&n<=250&&(t="50vh")),[2,this.postMessageAmp(N.CONSENT_UI,D.READY,t)]})})},e.prototype.saveUserActionPerformed=function(){return Y(this,void 0,void 0,function(){return J(this,function(e){switch(e.label){case 0:return ye.setUserActionPerformed(!0),this.setIsConsentRequired(!1),this.uiInstance.selectedLayer?[4,this.settingsV2.initUI(this.uiInstance.selectedLayer,this.uiInstance.variant)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.updateServices=function(e,t){return void 0===t&&(t="explicit"),Y(this,void 0,void 0,function(){var n,i;return J(this,function(s){switch(s.label){case 0:return n=this.settingsV2.getUpdatedServicesWithDecisions(e),i=this.settingsV2.getUpdatedServicesDataWithDecisions(e),Ae(n)&&this.dataFacadeInstance.execute(n,i,"onUpdateServices",t,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return s.sent(),[2]}})})},e.prototype.updateLayer=function(e){return Y(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return t=this.uiInstance.selectedLayer,this.uiInstance.selectedLayer=e,e===t?[2]:[4,this.settingsV2.initUI(e,this.uiInstance.variant)];case 1:return n.sent(),3!==e?[3,3]:[4,this.loadServices()];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.loadServices=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return this.settingsV2.isAggregatorLoaded||!this.uiInstance.selectedLayer?[2]:[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[4,this.settingsV2.extendServices(this.uiInstance.variant,e)];case 2:return t.sent(),this.apiInstance.resetAggregatedServicesCache(),[2]}})})},e.prototype.loadSettings=function(){return Y(this,void 0,void 0,function(){var e;return J(this,function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchSettingsJson()];case 1:return e=t.sent(),this.settingsV2.legacySettings=e,[2,e]}})})},e.prototype.updateStorage=function(e,t,n){return Y(this,void 0,void 0,function(){var i,s,r;return J(this,function(o){switch(o.label){case 0:return[4,this.settingsV2.shouldDenyAllExplicitlyOnInit()];case 1:return o.sent()?(this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(P.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(P.FALSE),"onDenyAllServices","explicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7]):[3,2];case 2:return this.uiInstance.isFirstTimeVisit()?[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]:[3,4];case 3:return o.sent()?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(P.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(P.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):this.dataFacadeInstance.execute(this.settingsV2.getServicesDataAndLabels(),this.settingsV2.getServicesData(),"onInitialPageLoad","implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7];case 4:return i=null!=t?t:this.processStorageServicesAndSettings(this.settingsV2.data),a=this.settingsV2.getServicesData(),(s=(c=e)&&!a.every(function(e){return c.find(function(t){return t.id===e.id})})||!1)?[4,this.settingsV2.shouldAcceptAllImplicitlyOnVendorAdded()]:[3,6];case 5:s=o.sent(),o.label=6;case 6:s?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(P.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(P.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):(r=n&&this.dataFacadeInstance.restoreAction?this.dataFacadeInstance.restoreAction:"onInitialPageLoad",this.enableServicesScripts(i,this.settingsV2.getGoogleConsentMode(),r),this.dataFacadeInstance.restoreAction=null),o.label=7;case 7:return[2]}var a,c})})},e.prototype.enableScriptsForServicesWithConsent=function(){mn.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent())},e.prototype.setTrackingPixel=function(e){var t;!this.initOptions.disableTracking&&(null===(t=this.settingsV2.coreJson)||void 0===t?void 0:t.interactionAnalytics)&&this.apiInstance.setTrackingPixel(e)},e.prototype.addSessionTrackingPixel=function(){(new Image).src=this.apiInstance.createSessionTrackingUrl()},e.prototype.processStorageServicesAndSettings=function(e){if(!e||!this.settingsV2.labels)return[];var t=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(e),n=t.dataTransferSettings,i=t.mergedServicesData,s=t.mergedServices,r=t.updatedEssentialServices;return this.dataFacadeInstance.mergeServicesAndSettings(s,i,n,r,this.settingsV2.labels.services,this.initOptions.enableDeprecatedV1ConsentSaving)},e.prototype.enableServicesScripts=function(e,t,n){var i,s=this.settingsV2.getTcfData();s&&s.advertiserConsentModeEnabled&&(i=s.getTCFData().vendors.find(function(e){return 755===e.id})),mn.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(e,i,t,n)},e.prototype.setIsConsentRequired=function(e){this.isConsentRequired=!0===e},e.prototype.getIsConsentRequired=function(){return this.isConsentRequired},e.prototype.getThirdPartyCount=function(){return this.settingsV2.getThirdPartyCount()},e}()},559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(539),s=function(e){function t(n,s,r){var o=e.call(this,r)||this;return o.categorySlug=n.categorySlug,o.consent=(0,i.g)(n,s),o.id=n.templateId,o.isEssential=s.isEssential,o.isHidden=!!s.isHidden||n.isHidden,o.processorId="".concat((0,i.s)((0,i.v)())),o.subServices=[],o.subServicesLength=n.subConsents?n.subConsents.length:0,o.usesThirdCountry=n.usesThirdCountry,o.version=n.version,o.fetchSubServices=function(){return(0,i.f)(o,void 0,void 0,function(){var e,r,o,a,c,u,l,d,h=this;return(0,i.h)(this,function(p){switch(p.label){case 0:if(e=i.i.getInstance(),r=i.j.getInstance(),o=n.subConsents,!(a=(0,i.m)(o)).length)return[2,[]];u=null,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,e.fetchAggregatedServices(a,!1)];case 2:return c=p.sent(),[4,e.fetchTranslations()];case 3:return u=p.sent(),[3,5];case 4:throw p.sent(),new Error(i.E.FETCH_DATA_PROCESSING_SERVICES);case 5:return c&&o?(l=r.getServicesBaseInfo(),d=l.filter(function(e){return e.id===h.id}),this.subServices=o.reduce(function(e,n){var r=null==c?void 0:c.find(function(e){return n.templateId===e.templateId&&n.version===e.version});if(!r)return(0,i.l)([],(0,i.n)(e),!1);var o=new t(n,s,r);return(0,i.l)((0,i.l)([],(0,i.n)(e),!1),[o],!1)},[]),[2,this.subServices.reduce(function(e,t){var n=o.find(function(e){return t.id===e.templateId&&t.version===e.version});if(!n)return(0,i.l)([],(0,i.n)(e),!1);var s=new i.o(n,u,c),r=1===d.length?{legalBasis:d[0].legalBasis}:{},a=(0,i.p)((0,i.p)((0,i.p)((0,i.p)({},s),t),{subServices:[]}),r);return(0,i.l)((0,i.l)([],(0,i.n)(e),!1),[a],!1)},[])]):[2,[]]}})})},o}return(0,i._)(t,e),t}(i.k),r=function(e,t,n){this.isEssential=e.isEssential,this.isHidden=e.isHidden,this.services=o(e,t,n),this.slug=e.categorySlug},o=function(e,t,n){return t.reduce(function(t,r){if(r.categorySlug===e.categorySlug){var o=null==n?void 0:n.find(function(e){return r.templateId===e.templateId&&r.version===e.version}),a=new s(r,e,o);return(0,i.l)((0,i.l)([],(0,i.n)(t),!1),[a],!1)}return(0,i.l)([],(0,i.n)(t),!1)},[])},a=function(e,t,n){this.categories=e.categories.reduce(function(t,s){var o=new r(s,e.consentTemplates,n);return(0,i.q)(o.services)?(0,i.l)((0,i.l)([],(0,i.n)(t),!1),[o],!1):(0,i.l)([],(0,i.n)(t),!1)},[]),this.controllerId=t}},698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(539),s=function(e,t){var n,s,r,o,a,c,u,l;this.customCss=null,this.hideDataProcessingServices=(0,i.P)(t.hideDataProcessingServices,!1),this.defaultView=(0,i.P)(t.defaultView,i.am.CAT),this.backgroundColor=(0,i.P)((0,i.an)((null===(s=null===(n=e.customization)||void 0===n?void 0:n.color)||void 0===s?void 0:s.privacyButtonBackground)||(null===(o=null===(r=e.customization)||void 0===r?void 0:r.color)||void 0===o?void 0:o.primary)),null),this.desktopSize=(0,i.P)(null===(a=e.customization)||void 0===a?void 0:a.privacyButtonSizeDesktop,null),this.iconColor=(0,i.P)((0,i.an)(null===(u=null===(c=e.customization)||void 0===c?void 0:c.color)||void 0===u?void 0:u.privacyButtonIcon),null),this.mobileSize=(0,i.P)(null===(l=e.customization)||void 0===l?void 0:l.privacyButtonSizeMobile,null),this.iconUrl=(0,i.P)(e.buttonPrivacyOpenIconUrl,null),this.position=function(e){switch(e){case"tl":case"tr":case"bl":case"br":return e;default:return"bl"}}(e.buttonDisplayLocation)}},730:()=>{},739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(539),s=n(362),r=n(68),o=n(839),a=function(e){function t(t,n){var a,c,u,l,d=this;d=e.call(this,t,n)||this;var h=n.customization;return d.buttons=(0,i.p)((0,i.p)((0,i.p)({},new r.B(n)),new s.B(n)),{more:{backgroundColor:(0,i.P)((0,i.an)(null===(a=null==h?void 0:h.color)||void 0===a?void 0:a.moreBtnBackground),"#0045A5"),textColor:(0,i.P)((0,i.an)(null===(c=null==h?void 0:h.color)||void 0===c?void 0:c.moreBtnText),"#FAFAFA")},save:{backgroundColor:(0,i.an)(null===(u=null==h?void 0:h.color)||void 0===u?void 0:u.saveBtnBackground),textColor:(0,i.an)(null===(l=null==h?void 0:h.color)||void 0===l?void 0:l.saveBtnText)}}),d.firstLayer=(0,i.p)((0,i.p)((0,i.p)({},new o.F(n)),new s.F(n)),{closeOption:n.firstLayer.closeOption||null,hideButtonDeny:(0,i.ao)(n.firstLayer.hideButtonDeny,!n.btnDenyIsVisible),hideToggles:!1,isCategoryTogglesEnabled:n.firstLayer.isCategoryTogglesEnabled,isLanguageSelectorEnabled:!(0,i.ao)(n.firstLayer.hideLanguageSwitch,!n.showLanguageDropdown),showShortDescriptionOnDesktop:!0===n.firstLayer.useShortMessage,showShortDescriptionOnMobile:n.bannerMobileDescriptionIsActive,variant:(0,i.P)(n.firstLayer.variant,"BANNER")}),d.secondLayer=(0,i.p)((0,i.p)({},new o.S(n)),{dpsDisplayFormat:n.dpsDisplayFormat||i.ap.ALL,hideButtonDeny:(0,i.ao)(n.secondLayer.hideButtonDeny,!n.btnDenyIsVisible),hideToggles:!1,hideTogglesForServices:(0,i.P)(n.secondLayer.hideTogglesForServices,!1),isLanguageSelectorEnabled:!(0,i.ao)(n.secondLayer.hideLanguageSwitch,!n.showLanguageDropdown),side:n.secondLayer.side||"LEFT",variant:n.secondLayer.variant||"CENTER"}),d}return(0,i._)(t,e),t}(s.C)},839:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,S:()=>r});var i=n(539),s=function(e){this.isOverlayEnabled=(0,i.av)(e)},r=function(e){var t,n;this.defaultView=(0,i.P)(e.secondLayer.defaultView,i.am.CAT),this.hideDataProcessingServices=(0,i.P)(e.secondLayer.hideDataProcessingServices,!1),this.isOverlayEnabled=(0,i.aw)(e),this.showCategoriesTab=(0,i.P)(e.secondLayer.tabsCategoriesIsEnabled,!0),this.showServicesTab=(0,i.P)(e.secondLayer.tabsServicesIsEnabled,!0),this.tabColor=(0,i.P)((0,i.an)(null===(n=null===(t=e.customization)||void 0===t?void 0:t.color)||void 0===n?void 0:n.secondLayerTab),null)}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";window.addEventListener("itp_consent_status",e=>{if(e.detail){Object.keys(e.detail).forEach(t=>{!0===e.detail[t]&&document.querySelectorAll('script[data-usercentrics-id="'+t+'"], script[type="application/usercentrics"][pid="'+t+'"]').forEach(e=>{const t=e;e.remove(),t.setAttribute("type","application/javascript"),document.body.appendChild(t)})});const t=e;document.addEventListener("DOMContentLoaded",function(){Object.keys(t.detail).forEach(e=>{!0===t.detail[e]&&document.querySelectorAll('script[data-usercentrics-id="'+e+'"], script[type="application/usercentrics"][pid="'+e+'"]').forEach(e=>{const t=e;e.remove(),t.setAttribute("type","application/javascript"),document.body.appendChild(t)})})})}});const e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,t=t=>{if("string"!=typeof t)throw new TypeError("Invalid argument expected string");const n=t.match(e);if(!n)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return n.shift(),n},i=e=>"*"===e||"x"===e||"X"===e,s=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},r=(e,t)=>{if(i(e)||i(t))return 0;const[n,r]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(s(e),s(t));return n>r?1:n<r?-1:0},o=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const i=r(e[n]||"0",t[n]||"0");if(0!==i)return i}return 0},a=(e,n,i)=>{l(i);const s=((e,n)=>{const i=t(e),s=t(n),r=i.pop(),a=s.pop(),c=o(i,s);return 0!==c?c:r&&a?o(r.split("."),a.split(".")):r||a?r?-1:1:0})(e,n);return c[i].includes(s)},c={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},u=Object.keys(c),l=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===u.indexOf(e))throw new Error(`Invalid operator, expected one of ${u.join("|")}`)},d=(e,n)=>{if((n=n.replace(/([><=]+)\s+/g,"$1")).includes("||"))return n.split("||").some(t=>d(e,t));if(n.includes(" - ")){const[t,i]=n.split(" - ",2);return d(e,`>=${t} <=${i}`)}if(n.includes(" "))return n.trim().replace(/\s{2,}/g," ").split(" ").every(t=>d(e,t));const i=n.match(/^([<>=~^]+)/),s=i?i[1]:"=";if("^"!==s&&"~"!==s)return a(e,n,s);const[r,c,u,,l]=t(e),[h,p,g,,f]=t(n),v=[r,c,u],S=[h,null!=p?p:"x",null!=g?g:"x"];if(f){if(!l)return!1;if(0!==o(v,S))return!1;if(-1===o(l.split("."),f.split(".")))return!1}const E=S.findIndex(e=>"0"!==e)+1,m="~"===s?2:E>1?E:1;return 0===o(v.slice(0,m),S.slice(0,m))&&-1!==o(v.slice(m),S.slice(m))},h="porscheDesignSystem";function p(){return document[h]||(document[h]={}),document[h]}function g({script:e,version:t,prefix:n}){const i=function(e){const t=p(),{[e]:n}=t;if(!n){let n=()=>{};const i=new Promise(e=>n=e);t[e]={isInjected:!1,isReady:()=>i,readyResolve:n,prefixes:[],registerCustomElements:null}}return t[e]}(t),{isInjected:s,prefixes:r=[],registerCustomElements:o}=i,[a]=Object.entries(p()).filter(([e,i])=>e!==t&&"object"==typeof i&&i.prefixes.includes(n));if(a)throw new Error(`[Porsche Design System v${t}] prefix '${n}' is already registered with version '${a[0]}' of the Porsche Design System. Please use a different one.\nTake a look at document.${h} for more details.`);s||(function(e){const t=document.createElement("script");t.src=e,t.setAttribute("crossorigin",""),document.body.appendChild(t)}(e),i.isInjected=!0),r.includes(n)||(r.push(n),o&&o(n))}const f={loading:0,interactive:1,complete:2},v=e=>f[document.readyState]>=f[e],S=()=>{if(document.porscheDesignSystem?.["3.29.0"]?.isReady)return document.porscheDesignSystem["3.29.0"].isReady();let e;const t=new Promise(t=>e=t),n={set(t,n,i){return"3.29.0"===n&&i.isReady().then(e),Reflect.set(...arguments)}};return document.porscheDesignSystem=new Proxy(document.porscheDesignSystem||{},n),t},E=(e,t)=>{const n=m(e);Promise.all(n).then(e=>t(e.length)).catch(e=>console.error("[Porsche Design System]",e))},m=e=>{const t=[],n=[e];for(;n.length>0;){const e=n.pop();e.nodeType===Node.ELEMENT_NODE&&(I(e)&&t.push(e.componentOnReady()),n.push(...Array.from(e.children)))}return t},y=/^(.*-)?P-(.*)$/,I=e=>y.test(e.tagName)&&"function"==typeof e.componentOnReady,C=async()=>{const e=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."], script[src*="udg-uc-sdk-pds."], script[src*="udg-uc-sdk-pds-preview."]');if(!e)return;let t=!1;if(!("true"===e.getAttribute("data-pds"))&&document.porscheDesignSystem){const e=Object.keys(document.porscheDesignSystem).find(e=>d(e.match(/(\d+\.\d+\.\d+)/)?.[1]||"0.0.0",">=3.17.0"));if(e){const n=document.porscheDesignSystem[e];await(n?.isReady()),n?.registerCustomElements&&n?.prefixes?.push&&(n.prefixes.push("uc"),n.registerCustomElements("uc"),t=!0)}}if(!t){if(((e={})=>{const t="PORSCHE_DESIGN_SYSTEM_CDN";window[t]=e.cdn||window[t]||(window.location.origin.match(/\.cn$/)?"cn":"auto");const n="porscheDesignSystem";document[n]||(document[n]={}),document[n].cdn={url:"https://cdn.ui.porsche."+("cn"===window[t]?"cn":"com"),prefixes:[]},g({version:"3.29.0",script:document[n].cdn.url+"/porsche-design-system/components/porsche-design-system.v3.29.0.c747d4e24a1fc76fef40.js",prefix:e.prefix||""})})({prefix:"uc"}),document.querySelectorAll('link[href*="/porsche-design-system/fonts/porsche-next-w-la-regular"][rel="preload"]').length<1){const e=document.createElement("link");e.rel="preload",e.href="https://cdn.ui.porsche.com/porsche-design-system/fonts/porsche-next-w-la-regular.min.b8f1c203bd2ac5334247025236ba8d86.woff2",e.as="font",e.type="font/woff2",e.crossorigin=!0,document.head.appendChild(e)}if(document.querySelectorAll('link[href*="/porsche-design-system/fonts/porsche-next-w-la-semi-bold"][rel="preload"]').length<1){const e=document.createElement("link");e.rel="preload",e.href="https://cdn.ui.porsche.com/porsche-design-system/fonts/porsche-next-w-la-semi-bold.min.b5f6fca7225aa73578f65320bcf79b45.woff2",e.as="font",e.type="font/woff2",e.crossorigin=!0,document.head.appendChild(e)}if(document.querySelectorAll("style[data-pds-initial-styles]").length<1){const e=document.createElement("style");e.setAttribute("data-pds-initial-styles",""),e.innerHTML="uc-p-accordion,uc-p-banner,uc-p-button,uc-p-button-group,uc-p-button-pure,uc-p-button-tile,uc-p-carousel,uc-p-checkbox-wrapper,uc-p-content-wrapper,uc-p-crest,uc-p-display,uc-p-divider,uc-p-fieldset,uc-p-fieldset-wrapper,uc-p-flex,uc-p-flex-item,uc-p-flyout,uc-p-flyout-navigation,uc-p-flyout-navigation-item,uc-p-grid,uc-p-grid-item,uc-p-heading,uc-p-headline,uc-p-icon,uc-p-inline-notification,uc-p-link,uc-p-link-pure,uc-p-link-social,uc-p-link-tile,uc-p-link-tile-model-signature,uc-p-link-tile-product,uc-p-marque,uc-p-modal,uc-p-model-signature,uc-p-multi-select,uc-p-multi-select-option,uc-p-pagination,uc-p-pin-code,uc-p-popover,uc-p-radio-button-wrapper,uc-p-scroller,uc-p-segmented-control,uc-p-segmented-control-item,uc-p-select,uc-p-select-option,uc-p-select-wrapper,uc-p-spinner,uc-p-stepper-horizontal,uc-p-stepper-horizontal-item,uc-p-switch,uc-p-table,uc-p-table-body,uc-p-table-cell,uc-p-table-head,uc-p-table-head-cell,uc-p-table-head-row,uc-p-table-row,uc-p-tabs,uc-p-tabs-bar,uc-p-tabs-item,uc-p-tag,uc-p-tag-dismissible,uc-p-text,uc-p-text-field-wrapper,uc-p-text-list,uc-p-text-list-item,uc-p-textarea-wrapper,uc-p-toast,uc-p-wordmark{visibility:hidden}.hydrated,.ssr{visibility:inherit}",document.head.appendChild(e)}}};var T=n(539);const A=new class{UC;settingsId;initialUIValues;async init(e){try{this.settingsId=e;const t=window.ucSdk?.defaultLanguage?.split("-")[0],n={language:t,euMode:"false"!==window.ucSdk?.euMode,version:"preview"===window.ucSdk?.ucVersion?"preview":"latest",usMode:"true"===window.ucSdk?.gpcMode};localStorage.removeItem("uc_user_interaction_ccpa"),localStorage.removeItem(`gpcInfoSeen_${this.settingsId}`);const i=async(e,t=n)=>new T.ax(e,t);this.UC=await i(this.settingsId),this.initialUIValues=await this.UC.init();const s=this.getAvailableLanguages(),r=window.GlobalConsent?.LanguageFallback;if(r&&this.getLanguage()!==t&&s.includes(r)&&await this.changeLanguage(r),window.ucSdk.languages){window.ucSdk.languages=window.ucSdk.languages.filter(e=>s.includes(e));const e=this.getLanguage();window.ucSdk.languages.includes(e)||window.ucSdk.languages.unshift(e)}return!0}catch(t){return console.error(`[Cookie Consent Tool] Could not initialize Usercentrics for "${e}"`),!1}}getAbTestVariant(){return this.UC.getAbTestVariant()}getControllerId(){return this.UC.getControllerId()}getServices(){return this.UC.getServicesBaseInfo()}getCategories(){return this.UC.getCategoriesBaseInfo()}getIsConsentRequired(){return this.UC.getIsConsentRequired()}getSettings(){return this.UC?.settingsV2}getSettingsCore(){return this.UC.getSettingsCore()}getSettingsLabels(){return this.UC.getSettingsLabels()}getAriaLabels(){return this.UC.getAriaLabels()}async resetConsents(e=!1){await this.UC.clearStorage(),e&&await A.init(this.settingsId)}setTrackingPixel({abTestVariant:e,eventType:t}){this.UC.setTrackingPixel({abTestVariant:e,eventType:t})}getAvailableLanguages(){return this.getSettingsCore()?.language?.available}getLanguage(){return this.getSettingsCore()?.language?.selected}async changeLanguage(e,t){await this.UC.changeLanguage(e),"function"==typeof t&&t()}afterChangeServices(e,t){e(),t!==T.aQ.UNDEFINED&&this.UC.setTrackingPixel({abTestVariant:this.UC.getAbTestVariant(),eventType:t})}async updateServices(e,t){await this.UC.updateServices(e),this.afterChangeServices(t,T.aQ.SAVE)}async acceptAllServices(e,t){await this.UC.acceptAllServices(),this.afterChangeServices(e,t?T.aQ.UNDEFINED:T.aQ.ACCEPT_ALL)}async denyAllServices(e,t){await this.UC.denyAllServices(),this.afterChangeServices(e,t?T.aQ.UNDEFINED:T.aQ.DENY_ALL)}},b=A,_=e=>{if(!window.ucSdk?.services||!window.ucSdk?.settingsId)return!1;for(const[t,n]of Object.entries(window.ucSdk?.services))if(n===e)return t;return!1},w=e=>!(!window.ucSdk?.services?.[e]||!window.ucSdk?.settingsId)&&window.ucSdk?.services[e],O=e=>{if(globalThis.scheduler?.postTask)return void scheduler.postTask(e).catch(e=>console.warn(e));new Promise(e=>setTimeout(e,0)).then(e).catch(e=>console.warn(e))},N=async(e,t)=>{const n=await P(`${e}urls${t?".more":""}.json`);if(n)for(const[e,t]of Object.entries(n)){const n=t.find(e=>R(e));if(n)return{settingsId:e,settingsUrl:n}}if(!t)return await N(e,!0)},D=async(e,t,n)=>{const i=await P(`${e}params/${window.ucSdk.settingsId}${n?".more":""}.json`);if(!i)return void console.warn(`[Cookie Consent Tool] Parameters for ID "${window.ucSdk.settingsId}" not found`);const s=i[t];if(!s)return n?void console.warn(`[Cookie Consent Tool] Parameters for URL "${t}" not found`):await D(e,t,!0);if(void 0!==s.language&&""!==s.language&&(window.ucSdk.defaultLanguage=s.language),void 0!==s.gpc&&!0===s.gpc&&(window.ucSdk.gpcMode="true"),void 0!==s.close&&!0===s.close&&(window.ucSdk.closeButton="true"),void 0!==s.policy&&""!==s.policy&&(s.policy.split?.(",").length>1?window.ucSdk.privacyLinks=s.policy.split(","):window.ucSdk.privacyLinks=s.policy),void 0!==s.itp&&!0===s.itp){const e=document.createElement("script");e.type="application/javascript",e.dataset.customSdk="true",e.src=`\n      ${window.location.hostname.includes("porsche-preview.com")?"https://cookie.porsche-preview.com/":"https://cookie.porsche.com/"}?settingsId=${window.ucSdk?.settingsId}`,e.addEventListener("load",()=>window.ucSdk.itpReady=!0),window.ucSdk.cookieBridgeScript=e;const t=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."]');t.parentNode.insertBefore(e,t.previousSibling)}},L=async e=>{const t=await P(`${e}services/${window.ucSdk.settingsId}.json`);t||console.warn(`[Cookie Consent Tool] Services for "${window.ucSdk.settingsId}" not found`),window.ucSdk.services=t},P=async e=>{try{const t=await fetch(e);if(t.ok){return await t.json()}}catch(t){console.warn(`[Cookie Consent Tool] Failed to fetch "${e}"`)}},R=e=>{if(e.indexOf("*")<0)return window.location.href.indexOf(e)>-1;{const t=e.split("*");let n=0;return t.forEach(function(e){window.location.href.indexOf(e)>-1&&n++}),n===t.length}},V=async()=>{window.usercentrics&&"function"==typeof window.usercentrics.onViewInit&&window.usercentrics.onViewInit(),window.usercentrics.isInitialized=!0;const e="true"===window.ucSdk.gpcMode?!navigator.globalPrivacyControl:Boolean("true"===localStorage.getItem("uc_user_interaction")||window.ucSdk.cookieOptin||window.ucSdk.paramOptin||window.ucSdk.paramOptout);let t={},n={};b.getServices().forEach(e=>{const i=e.name.replace(/"/g,"").trim(),s=_(e.id),r=localStorage.getItem("uc_settings"),o=localStorage.getItem("uc_user_interaction");if(r&&"true"===o){const n=JSON.parse(r),o=n.services?.find(({id:t})=>t===e.id);o&&(t={...t,...i&&{[i]:o.status},...s&&{[s]:o.status}})}n={...n,[i]:e.consent.status,...s&&{[s]:e.consent.status}}}),Object.keys(t).length&&M({event:"consents_initialized",Optin:e,usc_origin:"from local setting",...t}),M({event:"consents_initialized",Optin:e,usc_origin:"from server setting",...n}),window.ucSdk.cookieOptin||window.ucSdk.paramOptin?await k(!0):window.ucSdk.paramOptout&&await U(!0),window.dispatchEvent(new Event("ucInit"))},k=async e=>{await b.acceptAllServices(()=>{M({event:"consent_changed Optin",Optin:!0}),F({options:{Optin:!0}})},e)},U=async e=>{await b.denyAllServices(()=>{M({event:"consent_changed Optin",Optin:!1}),F({options:{Optin:!1}})},e)},M=e=>{window.dataLayer?.push(e),window.oneGa?.push(e),window._mtm?.push({mtmconsent:e})},x=(e,t,n)=>{M({event:`consent_changed ${e}`,...n,[e]:t}),window.dispatchEvent(new CustomEvent("usercentrics-events",{detail:{data:{event:"consent_changed",name:e,status:t}}}))},F=({services:e=b.getServices(),options:t}={})=>{const n={};e.forEach(e=>{const i=e.name.replace(/"/g,"").trim(),s=_(e.id),r={...t};Object.hasOwn(r,"Optin")&&(r.Optin||=e.isEssential),x(i,e.consent.status,r),n[i]=e.consent.status,s&&(x(s,e.consent.status,r),n[s]=e.consent.status)}),M({event:"consents_changed_finished",...t,Optin:!0,...n}),window.dispatchEvent(new Event("consents_changed_finished"))},G=JSON.parse('{"ipmlalhY8":true,"dIkLIn8_P":true,"WsiFTggBD":true,"2HEeDGpmF":true,"JuWAFkgHm":true,"ovXob7Z2X":true,"qRzpQDgNV":true,"y4lEpmRrT":true,"YgG04JG0":true,"znJTHGfkj1W4ND":true,"4EuZWTNNUNfR3v":true,"cgNe28kBDtqoiD":true,"PxRIZDReqtA9y1":true,"4Q3k3H0jqq7n6G":true,"jKYXEBcxIQXwED":true,"v9Q5ygsHbdXXoe":true,"dVKp7rACk":true,"gFP-5xgLf":true,"cVwovlI84":true,"PWOLR78Ct":true,"qwlW50srL":true,"JFhrG52ZG":true,"W4JZcq0lT":true,"-4ZbjMZsU":true,"VIYj0E4CX":true,"121qzvaWL":true,"mxNZ2FzF-":true,"sSWRFpvwC":true,"YtyK5LEbC":true,"sNw4mvcD8":true,"4dCreWE_d":true,"Co6NxKeNZ":true,"AVBjLVDCz":true,"nG8QJTt0C":true,"RHdeIcG_J":true,"j_M9jGgQq":true,"jM3BGLU6q":true,"YtJQiTQM-":true,"xMDUISNeO":true,"48mT_Urz3":true,"S0Mtyu-LI":true,"GiTCbs_uM":true,"vEmJS7yx4":true,"VuvEaR1cm":true,"3uPu4p75i":true,"pOiJSp9Jv":true,"QsW7tMBBMB4azQ":true,"1n6UkMaapJga7L":true,"sjllcH7snhA-l":true,"wXsxqKugj":true,"kDojHxfGe":true,"apdWNxEdM":true,"6JF69fpd9":true,"wrvG8ntWcwjUkK":true,"7U4pCfqSj":true,"lUhXNO7d0":true,"wz0BzeE_dYdI_L":true,"kVxES9opuAAjQS":true,"65UQOnxVwR3ZV3":true,"5Or5EnW17":true,"eTQZpXxDx6hLTr":true,"HjFuXSfSpgSxM0":true,"1YcZcmgqmo31RF":true,"yQnSU5IJ6TjP4s":true,"diG87YFtp":true,"rEVkYBeIXjNGgW":true,"G8Q6fGao9FGrIG":true,"4gISmAvZOOXvq6":true,"24TrTg-w6y6O9X":true}'),B=async()=>{const e=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."], script[src*="udg-uc-sdk-pds."], script[src*="udg-uc-sdk-pds-preview."]');if(!e)return!1;window._mtm=window._mtm||[],window.ucSdk=window.ucSdk||{},window.ucSdk.ucReady=!1,window.GlobalConsent=window.GlobalConsent||{},window.ucSdk.cookieOptin=document.cookie?.indexOf("uc-sdk-accept-all=true")>=0;const t=window.location.search,n=new URLSearchParams(t);window.ucSdk.paramOptin="true"===n.get("uc-consent-all"),window.ucSdk.paramOptout="false"===n.get("uc-consent-all"),("true"===n.get("uc-show-banner")||window.location.hash.includes("#uc-show-banner=true"))&&(window.ucSdk.showBanner=!0),("true"===n.get("uc-hide-banner")||window.location.hash.includes("#uc-hide-banner=true"))&&(window.ucSdk.hideBanner=!0),("true"===n.get("uc-preview")||window.location.hash.includes("#uc-preview=true"))&&(window.ucSdk.ucVersion="preview");const i="preview"===window.ucSdk.ucVersion?"preview/":"";window.ucSdk.defaultLanguage=e.getAttribute("data-language"),window.ucSdk.defaultLanguage||(window.ucSdk.defaultLanguage=e.getAttribute("language")),window.ucSdk.gpcMode=e.getAttribute("data-gpc"),window.ucSdk.closeButton=e.getAttribute("data-close"),window.ucSdk.euMode=e.getAttribute("data-eu"),window.ucSdk.ucVersion||=e.getAttribute("data-version"),window.ucSdk.hideBanner||="true"===e.getAttribute("data-hide-banner"),window.ucSdk.essential="show"===e.getAttribute("data-essential")?"show":"hide",window.ucSdk.functional="hide"===e.getAttribute("data-functional")?"hide":"show",window.ucSdk.marketing="hide"===e.getAttribute("data-marketing")?"hide":"show",window.ucSdk.privacyLinks=e.getAttribute("data-privacy-links")||void 0,window.ucSdk.privacyLinks||(window.ucSdk.privacyLinks=e.getAttribute("data-cookie-policy")||void 0);const s="true"===e.getAttribute("data-dev")?"/settings/":`https://www.porsche.com/all/usercentrics/${i}settings/`;return window.ucSdk.settingsId=e.getAttribute("id"),await(async e=>{try{if(!window.ucSdk.settingsId){const t=await N(e);if(!t?.settingsId||!t?.settingsUrl)throw new Error("[Cookie Consent Tool] No matching Usercentrics settings ID found");window.ucSdk.settingsId=t.settingsId,await D(e,t.settingsUrl)}await L(e)}catch(e){console.error(e)}})(s),!!window.ucSdk?.settingsId&&(G[window.ucSdk?.settingsId]?window.ucSdk.variant="true"===window.ucSdk.gpcMode?"gpc":"standard":window.ucSdk.variant="legacy",window.ucSdk.privacyLinks?.split?.(",").length>1&&(window.ucSdk.privacyLinks=window.ucSdk.privacyLinks.split(",")),window.ucSdk.defaultLanguage?.split?.(",").length>1&&(window.ucSdk.languages=window.ucSdk.defaultLanguage.split(","),window.ucSdk.defaultLanguage=window.ucSdk.defaultLanguage.split(",")[0]),window.GlobalConsent&&(window.GlobalConsent?.Language&&(window.ucSdk.defaultLanguage=window.GlobalConsent?.Language,"object"==typeof window.GlobalConsent?.Language&&window.GlobalConsent?.Language.length>0&&(window.ucSdk.defaultLanguage=window.GlobalConsent?.Language[0],window.ucSdk.languages=window.GlobalConsent?.Language)),window.GlobalConsent?.DarkMode&&(window.ucSdk.darkMode=window.GlobalConsent?.DarkMode),window.GlobalConsent?.DarkWidget&&(window.ucSdk.darkWidget=window.GlobalConsent?.DarkWidget),window.GlobalConsent?.privacyLinks?window.ucSdk.privacyLinks=window.GlobalConsent.privacyLinks:window.GlobalConsent?.UrlCookiePolicy&&(window.ucSdk.privacyLinks=window.GlobalConsent.UrlCookiePolicy)),document.querySelectorAll("*[uc-global-consent][uc-lang]").forEach(e=>{window.ucSdk.defaultLanguage=e.getAttribute("uc-lang")}),!0)},$=()=>{const e=document.createElement("uc-layer2");e.id=window.ucSdk?.settingsId,window.ucSdk?.defaultLanguage&&e.setAttribute("language",window.ucSdk?.defaultLanguage),window.ucSdk?.languages&&e.setAttribute("languages",window.ucSdk?.languages),"true"===window.ucSdk?.closeButton&&e.setAttribute("closeButton","true"),!0===window.GlobalConsent?.openAll&&e.setAttribute("openAll","true"),"show"!==window.ucSdk?.essential&&!1!==window.GlobalConsent?.HideEssentialSDK||e.setAttribute("essential","shown"),"hide"!==window.ucSdk?.functional&&!0!==window.GlobalConsent?.HideFunctionalSDK||e.setAttribute("functional","unshown"),"hide"!==window.ucSdk?.marketing&&!0!==window.GlobalConsent?.HideMarketingSDK||e.setAttribute("marketing","unshown"),document.body.appendChild(e)},H=()=>{document.querySelectorAll('*[uc-layout="privacySettings"]:not([data-rendered])').forEach(e=>{const t=document.createElement("uc-widget");e.dataset.rendered="true",e.appendChild(t)})},j=function(e){const t=()=>{if(0!==e.mapContainer?.length){const t=!1===e.backdrop?"uc-newprivacyshield":"uc-privacyshield",n=document.createElement(t),{headline:i,text:s,buttons:r}=window.ucPrivacyShield.consentservice??{};if(n.setAttribute("headline",i??""),n.setAttribute("text",s??""),n.setAttribute("link",r?.privacy?.link??""),n.setAttribute("linkLabel",r?.privacy?.label??""),n.setAttribute("buttonLabel",r?.consent?.label??""),n.setAttribute("callbackIndex",`${window.ucPrivacyShield.callbacks?.length||0}`),e.processorId){const t=[e.processorId].flat().map(e=>w(e)||e);n.setAttribute("IDs",t.join(","))}let o=!1;if(void 0!==e.mapContainer.length)for(const i of e.mapContainer)i.querySelector(t)||(i.appendChild(n.cloneNode()),o||=!0);else e.mapContainer.querySelector(t)||(e.mapContainer.appendChild(n),o||=!0);o&&(window.ucPrivacyShield.callbacks=window.ucPrivacyShield.callbacks||[],window.ucPrivacyShield.callbacks.push(e.callbacks.success))}};window.ucSdk.ucReady?t():window.addEventListener("ucReady",t)},q=function(){return b.getIsConsentRequired()},W=function(e=!1){let t;const n=b.getServices();if(e){t={action:"",consentStatus:null,controllerId:b.getControllerId(),cookieNames:[],dataProcessor:"",dataProcessors:[],defaultCategorySlug:"",defaultConsentStatus:null,description:"",history:[],iabId:null,iabv2Id:null,isDeactivated:null,isEssential:null,isHidden:null,legalBasisList:[],optOutDescription:"",technicalName:null,templateId:"",unsavedConsentStatus:null,version:""};for(let i=0;i<n.length;i++)if(e===n[i].id||e.trim()===n[i].name||w(e.trim())===n[i].id){t.consentStatus=n[i].consent.status,t.dataProcessor=n[i].name,t.dataProcessors=[n[i].name],t.description=n[i].description,t.history=n[i].consent.history,t.isHidden=n[i].isHidden,t.isEssential=n[i].isEssential,t.legalBasisList=n[i].legalBasis,t.templateId=n[i].id,t.version=n[i].version;const e=_(n[i].id);e&&(t.technicalName=e)}return t}{const e=[];for(let i=0;i<n.length;i++){let s;const r=n[i].consent.history;for(let e=0;e<r.length;e++)!0===r[e].status?r[e].consentStatus=!0:r[e].consentStatus=!1,delete r[e].status;s=!0===n[i].consent.status;let o=_(n[i].id);o||(o=null),t={action:"",addressOfProcessingCompany:"",categoryLabel:"",categorySlug:n[i].categorySlug,consentId:"",consentStatus:s,controllerId:b.getControllerId(),cookieMaxAgeSeconds:null,cookieNames:[],dataProcessingService:n[i].name,dataProcessor:n[i].name,dataProcessors:[n[i].name],description:n[i].description,history:r,iabId:"",iabv2Id:"",isDeactivated:null,isEssential:n[i].isEssential,isHidden:n[i].isHidden,legalBasisList:n[i].legalBasis,optOutDescription:"",technicalName:o,templateId:n[i].id,retentionPeriod:0,unsavedConsentStatus:null,usesNonCookieAccess:null,version:""},e.push(t)}return e}},Y=async function(e=!1){await b.resetConsents(e),e&&(window.dispatchEvent(new Event("consents_changed_finished")),window.usercentrics.toggleCenteredModalIsVisible(!0)),V()},J=function(e){const t=[],n=b.getServices();for(let i=0;i<e.length;i++)for(let s=0;s<n.length;s++)if(n[s].id===e[i].templateId||n[s].name===e[i].templateId.trim()||n[s].id===w(e[i].templateId.trim())){t.push({serviceId:n[s].id,status:e[i].status});break}b.updateServices(t,()=>F({services:n.filter(({id:e})=>t.some(({serviceId:t})=>e===t))}))},z=e=>{b.changeLanguage(e,()=>{window.dispatchEvent(new Event("uc-language_changed"))})},K=function(){return window.ucSdk.ucReady},Q=function(e,t){const n=new CustomEvent("uc-layer4_hide",{}),i=new CustomEvent("uc-layer4_scroll",{});if(t&&(window.serviceName=t),!1===e)window.dispatchEvent(n);else{let n=!1;const s=document.querySelector('uc-layer4[global="true"]');if(s?.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]"))n=!0;else{document.body.querySelectorAll("uc-widget").forEach(function(e){const t=e?.shadowRoot.querySelectorAll("uc-layer4");t.forEach(function(e){e.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]")&&(n=!0)})})}if(!0===e&&!n){document.querySelector("body > uc-layer4")?.remove();const e=document.createElement("uc-layer4");e.setAttribute("global","true"),document.body.appendChild(e)}!0===e&&t&&window.dispatchEvent(i)}},X=function(e){const t=new CustomEvent("uc-layer4_hide",{});if(!1===e)window.dispatchEvent(t);else{let n=!1;const i=document.querySelector('uc-layer4[global="true"]');if(i?.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]"))n=!0;else{document.body.querySelectorAll("uc-widget").forEach(function(e){const t=e?.shadowRoot.querySelectorAll("uc-layer4");t.forEach(function(e){e.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]")&&(n=!0)})})}if(!0===e||!n){document.querySelector("body > uc-layer4")?.remove();const e=document.createElement("uc-layer4");e.setAttribute("global","true"),document.body.appendChild(e)}n&&window.dispatchEvent(t)}},Z=function(e){const t=new CustomEvent("uc-layer2_show",{}),n=new CustomEvent("uc-layer2_hide",{});if(!0===e)window.dispatchEvent(t);else if(!1===e)window.dispatchEvent(n);else{const e=document.querySelector("uc-layer2");e?.shadowRoot?.querySelector("uc-p-modal.hidden")?window.dispatchEvent(t):window.dispatchEvent(n)}},ee=async()=>{!0!==window.GlobalConsent?.disabled&&(window.usercentrics={getConsents:()=>{}},await B()&&await(async()=>{const e=window.ucSdk?.settingsId||document.getElementsByTagName("uc-layer2").item(0)?.id;return await b.init(e)})()&&(window.ucPrivacyShield||(window.ucPrivacyShield={}),window.ucPrivacyShield.checkConsent=j,window.usercentrics.getIsConsentRequired=q,window.usercentrics.getConsents=W,window.usercentrics.resetConsents=Y,window.usercentrics.updateConsents=J,window.usercentrics.updateLanguage=z,window.usercentrics.ucIsReady=K,window.usercentrics.updateConsentInfoModalIsVisible=Q,window.usercentrics.toggleConsentInfoModalIsVisible=X,window.usercentrics.toggleCenteredModalIsVisible=Z,(()=>{!1!==window.ucSdk.itpReady?$():window.ucSdk.cookieBridgeScript.addEventListener("load",function(){$()}),"complete"===document.readyState?(H(),window.addEventListener("load",function(){H()})):window.addEventListener("load",function(){H()}),new MutationObserver(function(){H()}).observe(document.body,{attributes:!1,childList:!0,subtree:!0});const e=document.querySelectorAll('[href="#uc-info-modal-show"]');for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),window.usercentrics.toggleConsentInfoModalIsVisible(!0)})})(),window.ucSdk&&(window.ucSdk.ucReady=!0),window.dispatchEvent(new Event("ucReady")),V()))},te=async()=>{if(!0===window.GlobalConsent?.disabled)return;await C();const e=!1===window.GlobalConsent?.waitTimeout||"number"==typeof window.GlobalConsent?.waitTimeout?parseInt(window.GlobalConsent?.waitTimeout):3e3;if(e>0&&(window.GlobalConsent?.then||window.GlobalConsent?.waitFor)){const t=async()=>{i.aborted||(n.abort(),await ee())},n=new AbortController,i=n.signal,s=AbortSignal.timeout(e);return window.GlobalConsent=await Promise.race([window.GlobalConsent,new Promise((t,n)=>{setTimeout(()=>n("GlobalConsent initialization timed out."),e)})]).catch(e=>console.log(e)),window.GlobalConsent?.waitFor?(s.addEventListener("abort",()=>{if(!i.aborted)return console.log("GlobalConsent.waitFor timed out."),void t()}),void window.addEventListener(window.GlobalConsent.waitFor,t,{once:!0,signal:AbortSignal.any([i,s])})):void t()}ee()};"loading"!==document.readyState?te():document.addEventListener("DOMContentLoaded",te);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ne=globalThis,ie=ne.ShadowRoot&&(void 0===ne.ShadyCSS||ne.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,se=Symbol(),re=new WeakMap;class oe{constructor(e,t,n){if(this._$cssResult$=!0,n!==se)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(ie&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=re.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&re.set(t,e))}return e}toString(){return this.cssText}}const ae=(e,...t)=>{const n=1===e.length?e[0]:t.reduce((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1],e[0]);return new oe(n,e,se)},ce=ie?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new oe("string"==typeof e?e:e+"",void 0,se))(t)})(e):e,{is:ue,defineProperty:le,getOwnPropertyDescriptor:de,getOwnPropertyNames:he,getOwnPropertySymbols:pe,getPrototypeOf:ge}=Object,fe=globalThis,ve=fe.trustedTypes,Se=ve?ve.emptyScript:"",Ee=fe.reactiveElementPolyfillSupport,me=(e,t)=>e,ye={toAttribute(e,t){switch(t){case Boolean:e=e?Se:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},Ie=(e,t)=>!ue(e,t),Ce={attribute:!0,type:String,converter:ye,reflect:!1,useDefault:!1,hasChanged:Ie};Symbol.metadata??=Symbol("metadata"),fe.litPropertyMetadata??=new WeakMap;class Te extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Ce){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,t);void 0!==i&&le(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){const{get:i,set:s}=de(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:i,set(t){const r=i?.call(this);s?.call(this,t),this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Ce}static _$Ei(){if(this.hasOwnProperty(me("elementProperties")))return;const e=ge(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(me("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(me("properties"))){const e=this.properties,t=[...he(e),...pe(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(ce(e))}else void 0!==e&&t.push(ce(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(ie)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const n of t){const t=document.createElement("style"),i=ne.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=n.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(void 0!==i&&!0===n.reflect){const s=(void 0!==n.converter?.toAttribute?n.converter:ye).toAttribute(t,n.type);this._$Em=e,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,t){const n=this.constructor,i=n._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=n.getPropertyOptions(i),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:ye;this._$Em=i;const r=s.fromAttribute(t,e.type);this[i]=r??this._$Ej?.get(i)??r,this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??Ie)(s,t)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:i,wrapped:s},r){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,r??t??this[e]),!0!==s||void 0!==r)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===i&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e){const{wrapped:e}=n,i=this[t];!0!==e||this._$AL.has(t)||void 0===i||this.C(t,void 0,n,i)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(e=>e.hostUpdate?.()),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(e){}firstUpdated(e){}}Te.elementStyles=[],Te.shadowRootOptions={mode:"open"},Te[me("elementProperties")]=new Map,Te[me("finalized")]=new Map,Ee?.({ReactiveElement:Te}),(fe.reactiveElementVersions??=[]).push("2.1.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ae=globalThis,be=Ae.trustedTypes,_e=be?be.createPolicy("lit-html",{createHTML:e=>e}):void 0,we="$lit$",Oe=`lit$${Math.random().toFixed(9).slice(2)}$`,Ne="?"+Oe,De=`<${Ne}>`,Le=document,Pe=()=>Le.createComment(""),Re=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Ve=Array.isArray,ke=e=>Ve(e)||"function"==typeof e?.[Symbol.iterator],Ue="[ \t\n\f\r]",Me=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,xe=/-->/g,Fe=/>/g,Ge=RegExp(`>|${Ue}(?:([^\\s"'>=/]+)(${Ue}*=${Ue}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Be=/'/g,$e=/"/g,He=/^(?:script|style|textarea|title)$/i,je=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),qe=je(1),We=(je(2),je(3),Symbol.for("lit-noChange")),Ye=Symbol.for("lit-nothing"),Je=new WeakMap,ze=Le.createTreeWalker(Le,129);function Ke(e,t){if(!Ve(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==_e?_e.createHTML(t):t}const Qe=(e,t)=>{const n=e.length-1,i=[];let s,r=2===t?"<svg>":3===t?"<math>":"",o=Me;for(let t=0;t<n;t++){const n=e[t];let a,c,u=-1,l=0;for(;l<n.length&&(o.lastIndex=l,c=o.exec(n),null!==c);)l=o.lastIndex,o===Me?"!--"===c[1]?o=xe:void 0!==c[1]?o=Fe:void 0!==c[2]?(He.test(c[2])&&(s=RegExp("</"+c[2],"g")),o=Ge):void 0!==c[3]&&(o=Ge):o===Ge?">"===c[0]?(o=s??Me,u=-1):void 0===c[1]?u=-2:(u=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?Ge:'"'===c[3]?$e:Be):o===$e||o===Be?o=Ge:o===xe||o===Fe?o=Me:(o=Ge,s=void 0);const d=o===Ge&&e[t+1].startsWith("/>")?" ":"";r+=o===Me?n+De:u>=0?(i.push(a),n.slice(0,u)+we+n.slice(u)+Oe+d):n+Oe+(-2===u?t:d)}return[Ke(e,r+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),i]};class Xe{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let s=0,r=0;const o=e.length-1,a=this.parts,[c,u]=Qe(e,t);if(this.el=Xe.createElement(c,n),ze.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=ze.nextNode())&&a.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith(we)){const t=u[r++],n=i.getAttribute(e).split(Oe),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:s,name:o[2],strings:n,ctor:"."===o[1]?it:"?"===o[1]?st:"@"===o[1]?rt:nt}),i.removeAttribute(e)}else e.startsWith(Oe)&&(a.push({type:6,index:s}),i.removeAttribute(e));if(He.test(i.tagName)){const e=i.textContent.split(Oe),t=e.length-1;if(t>0){i.textContent=be?be.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],Pe()),ze.nextNode(),a.push({type:2,index:++s});i.append(e[t],Pe())}}}else if(8===i.nodeType)if(i.data===Ne)a.push({type:2,index:s});else{let e=-1;for(;-1!==(e=i.data.indexOf(Oe,e+1));)a.push({type:7,index:s}),e+=Oe.length-1}s++}}static createElement(e,t){const n=Le.createElement("template");return n.innerHTML=e,n}}function Ze(e,t,n=e,i){if(t===We)return t;let s=void 0!==i?n._$Co?.[i]:n._$Cl;const r=Re(t)?void 0:t._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),void 0===r?s=void 0:(s=new r(e),s._$AT(e,n,i)),void 0!==i?(n._$Co??=[])[i]=s:n._$Cl=s),void 0!==s&&(t=Ze(e,s._$AS(e,t.values),s,i)),t}class et{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=(e?.creationScope??Le).importNode(t,!0);ze.currentNode=i;let s=ze.nextNode(),r=0,o=0,a=n[0];for(;void 0!==a;){if(r===a.index){let t;2===a.type?t=new tt(s,s.nextSibling,this,e):1===a.type?t=new a.ctor(s,a.name,a.strings,this,e):6===a.type&&(t=new ot(s,this,e)),this._$AV.push(t),a=n[++o]}r!==a?.index&&(s=ze.nextNode(),r++)}return ze.currentNode=Le,i}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class tt{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,i){this.type=2,this._$AH=Ye,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Ze(this,e,t),Re(e)?e===Ye||null==e||""===e?(this._$AH!==Ye&&this._$AR(),this._$AH=Ye):e!==this._$AH&&e!==We&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):ke(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ye&&Re(this._$AH)?this._$AA.nextSibling.data=e:this.T(Le.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=Xe.createElement(Ke(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(t);else{const e=new et(i,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=Je.get(e.strings);return void 0===t&&Je.set(e.strings,t=new Xe(e)),t}k(e){Ve(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const s of e)i===t.length?t.push(n=new tt(this.O(Pe()),this.O(Pe()),this,this.options)):n=t[i],n._$AI(s),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class nt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,s){this.type=1,this._$AH=Ye,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=s,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ye}_$AI(e,t=this,n,i){const s=this.strings;let r=!1;if(void 0===s)e=Ze(this,e,t,0),r=!Re(e)||e!==this._$AH&&e!==We,r&&(this._$AH=e);else{const i=e;let o,a;for(e=s[0],o=0;o<s.length-1;o++)a=Ze(this,i[n+o],t,o),a===We&&(a=this._$AH[o]),r||=!Re(a)||a!==this._$AH[o],a===Ye?e=Ye:e!==Ye&&(e+=(a??"")+s[o+1]),this._$AH[o]=a}r&&!i&&this.j(e)}j(e){e===Ye?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class it extends nt{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ye?void 0:e}}class st extends nt{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ye)}}class rt extends nt{constructor(e,t,n,i,s){super(e,t,n,i,s),this.type=5}_$AI(e,t=this){if((e=Ze(this,e,t,0)??Ye)===We)return;const n=this._$AH,i=e===Ye&&n!==Ye||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Ye&&(n===Ye||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class ot{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Ze(this,e)}}const at=Ae.litHtmlPolyfillSupport;at?.(Xe,tt),(Ae.litHtmlVersions??=[]).push("3.3.1");const ct=globalThis;class ut extends Te{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const i=n?.renderBefore??t;let s=i._$litPart$;if(void 0===s){const e=n?.renderBefore??null;i._$litPart$=s=new tt(t.insertBefore(Pe(),e),e,void 0,n??{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return We}}ut._$litElement$=!0,ut.finalized=!0,ct.litElementHydrateSupport?.({LitElement:ut});const lt=ct.litElementPolyfillSupport;lt?.({LitElement:ut});(ct.litElementVersions??=[]).push("4.2.1");const dt=ae`
  :host {
    position: fixed;
    top: 0;
  }

  .pds-loading,
  .hidden,
  .hidden * {
    display: none !important;
    z-index: -1000 !important;
  }

  .modal {
    .categories {
      padding-bottom: 16px;
    }

    .category {
      max-width: 1052px;
      margin-bottom: 10px;

      &:last-child {
        margin-bottom: 0;
      }

      .category-content {
        display: flex;
        justify-content: flex-start;

        uc-p-text-list {
          margin: 4px 0;
        }

        uc-p-text-list-item {
          align-items: baseline;
        }
      }
    }
  }
`,ht=ae`
  .heading {
    max-width: 1052px;
  }

  .heading-top {
    display: flex;
    justify-content: space-between;

    @media (max-width: 640px) {
      flex-direction: column;
    }

    .language-switch {
      display: flex;
      align-items: center;
      flex-wrap: nowrap;
      gap: 0.5rem;
      order: 1;

      @media (max-width: 640px) {
        order: 0;
        margin-inline-start: auto;
      }

      .separator {
        margin-top: -0.2rem;
      }

      .active {
        font-weight: bold;
      }
    }
  }

  .description {
    max-width: 1052px;

    @media (max-width: 640px) {
      .description {
        line-height: 20px;
        font-size: 30px;
      }
    }

    div {
      margin-bottom: 8px;

      & > br:first-child {
        display: none;
      }
    }

    uc-p-text-list {
      margin: 8px 0;
    }

    uc-p-text-list-item {
      align-items: baseline;
    }
  }
`;class pt extends ut{static properties={largeFont:{type:Boolean}};constructor(){super(),this.largeFont=!1}async firstUpdated(){this.languageSwitchElement=this.languageSwitch(),this.headline=b.getSettings().labels.secondLayer.title,this.subtitle=b.getSettings().labels.firstLayer.title,this.description="",this.init(),window.addEventListener("uc-language_changed",()=>{this.updateLang()}),this.fixLinks(this.renderRoot)}async init(){this.headline=b.getSettings().labels.secondLayer.title,this.subtitle=b.getSettings().labels.firstLayer.title,this.description=this.getDescription(),this.requestUpdate()}fixLinks(e){const t=e?.querySelectorAll("a");t?.forEach((e,t)=>{const n=Array.isArray(window.ucSdk?.privacyLinks)?window.ucSdk?.privacyLinks?.[t]||"":window.ucSdk?.privacyLinks;n?e.href=n:""===n&&e.remove()})}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,(e,t,n)=>`${n&&t?"</uc-p-text>":""}<${t}uc-p-text-list${n?"-item":""}${n&&!t?`><uc-p-text size="${this.getTextSize()}"`:""}`)}getTextSize(){return this.largeFont?"{ base: 'x-small', s: 'small' }":"xx-small"}getDescription(){const e=b.getSettings().labels.secondLayer.description,t=document.createElement("div");return t.innerHTML=this.formatTextLists(`${e.replace(/style=".*?"/gi,"").replace(/(?<=<\/?)font.*?(?=>)/gi,"span")}<style>a{color:rgb(1, 2, 5)};</style>`),this.fixLinks(t),t}static styles=[ht];render(){return qe`
      <div slot="heading" class="heading">
        <div class="heading-top" @click="${this.switchLang}">
          ${this.languageSwitchElement}
          <uc-p-text size="small" class="subtitle">${this.subtitle}</uc-p-text>
        </div>
        <uc-p-heading tag="h2" size="large" style="margin-bottom: 8px">${this.headline}</uc-p-headline>
      </div>
      <div slot="text" class="text">
        <uc-p-text class="description" size="${this.getTextSize()}" style="margin-bottom:20px">${this.description}</uc-p-text>
      </div>
    `}updateLang(){this.headline=b.getSettings().labels.secondLayer.title,this.subtitle=b.getSettings().labels.firstLayer.title,this.description=this.getDescription(),this.languageSwitchElement=this.languageSwitch(),this.requestUpdate()}languageSwitch(){const e=b.getSettingsCore();if(!window.ucSdk?.languages||window.ucSdk?.languages.length<=1)return"";{let t="";window.ucSdk?.languages.forEach((n,i)=>{const s=n.split("-")[0]?.toLowerCase();i>0&&(t+='<span aria-hidden="true">|</span>'),t+=`<uc-p-button-pure icon="none" aria="{ 'aria-label': '${b.getAriaLabels()?.languageSelector} ${s.toUpperCase()}' }" data-lang="${s}" @click="${this.switchLang}">\n             <span ${e?.language?.selected===s?'style="font-weight: bold"':""}>${s.toUpperCase()}</span>\n           </uc-p-button-pure>`}),t+='<uc-p-icon size="xx-small" name="globe" aria-hidden="true"></uc-p-icon>';const n=document.createElement("div");return n.classList.add("language-switch"),n.innerHTML=t,n}}switchLang(e){const t=e.target.closest("uc-p-button-pure");t&&window.usercentrics.updateLanguage(t.dataset?.lang)}}customElements.define("uc-description",pt);const gt=ae`
  .deny {
    order: 2;
  }

  .save {
    order: 1;
  }

  .accept {
    order: 3;
    margin-inline-start: auto;

    .reverse & {
      order: 1;
      margin-inline-start: 0;
    }
  }

  .button-container {
    display: flex;
    gap: 15px;

    &.same-size {
      @media (min-width: 641px) {
        display: inline-grid;
        grid-template-columns: repeat(2, 1fr);

        uc-p-button {
          display: flex;
          width: 100%;
        }
      }
    }
  }

  @media (max-width: 640px) {
    .button-container {
      flex-direction: column;
      gap: 10px;
    }

    .accept {
      width: 100%;
      order: 1;
      margin-inline-start: 0;
    }

    .save {
      width: 100%;
      order: 2;
    }

    .deny {
      width: 100%;
      order: 3;
    }
  }
`;customElements.define("uc-footer",class extends ut{saveLabel;acceptLabel;denyLabel;constructor(){super(),this.attachShadow({mode:"open"}),this.updateLabels(),window.addEventListener("uc-language_changed",()=>{this.updateLabels(),this.requestUpdate()})}static styles=[gt];render(){const e=window.ucSdk.variant;return qe`
      <div class="button-container${"legacy"!==e?" reverse":""}${"gpc"===e?" same-size":""}">
        ${"legacy"===e&&this.saveLabel?qe`
              <uc-p-button type="button" variant="secondary" class="save" @click="${this.handleSave}">
                ${this.saveLabel}
              </uc-p-button>
            `:Ye}
        <uc-p-button
          type="button"
          class="deny"
          variant="${"legacy"===e?"primary":"secondary"}"
          @click="${this.handleDeny}"
        >
          <p style="text-align: center; margin: 0; padding: 0;">${this.denyLabel}</p>
        </uc-p-button>
        <uc-p-button
          type="button"
          class="accept"
          variant="${"gpc"===e?"secondary":"primary"}"
          @click="${this.handleAccept}"
        >
          ${this.acceptLabel}
        </uc-p-button>
      </div>
    `}handleAccept(){this.dispatchEvent(new Event("accept"))}handleDeny(){this.dispatchEvent(new Event("deny"))}handleSave(){this.dispatchEvent(new Event("save"))}updateLabels(){const{labels:{buttons:{save:e,acceptAll:t,denyAll:n}}}=b.getSettings();this.saveLabel=e,this.acceptLabel=t,this.denyLabel=n}});customElements.define("uc-layer2",class extends ut{constructor(){super(),this.module="false",!window.ucSdk.showBanner&&(b.initialUIValues.variant!==T.aB.DEFAULT&&b.initialUIValues.variant!==T.aB.CCPA||window.ucSdk.hideBanner||window.ucSdk.cookieOptin||window.ucSdk.paramOptin||window.ucSdk.paramOptout||"true"===localStorage.getItem("uc_user_interaction"))||(this.module="true"),this.modalInformation=b.getSettings()._labels.ariaLabels.usercentricsCMPUI,this.spacingTop=100,window.location.search&&window.location.search.indexOf("cs_redirect=1")>=0&&(this.spacingTop=180),this.closeLayer=b.getSettings()._labels.ariaLabels.closeButton,this.closeButton="false";var e=new CustomEvent("ucEventsSDK",{detail:{data:{event:"ui_changed",element:"secondLayer",visibility:!0}}});window.dispatchEvent(e),window.addEventListener("consents_changed_finished",()=>{this.requestUpdate()}),window.addEventListener("uc-language_changed",()=>{this.updateLang()}),window.addEventListener("uc-layer2_hide",()=>{this.module="false",this.displayOff[0].classList.add("hidden"),this.requestUpdate()}),window.addEventListener("uc-layer2_show",()=>{this.module="true",b.setTrackingPixel({abTestVariant:b.getAbTestVariant(),eventType:T.aQ.CMP_SHOWN}),this.displayOff[0].classList.remove("hidden"),this.requestUpdate()})}async firstUpdated(){this.settingsId=this.getAttribute("id"),this.showEssential=this.getAttribute("essential"),this.showFunctional=this.getAttribute("functional"),this.showMarketing=this.getAttribute("marketing"),this.openAll=this.getAttribute("openAll"),this.displayOff=this.renderRoot?.querySelectorAll(".modal");"true"===window.ucSdk.closeButton&&(this.closeButton="true",this.requestUpdate()),"true"===window.ucSdk.gpcMode&&(this.gpc=navigator.globalPrivacyControl,!0===this.gpc&&(this.module="false",this.displayOff[0].classList.add("hidden"),O(async()=>await U(!0)),this.requestUpdate()));const e=this.renderRoot?.querySelector("uc-p-modal");e&&e.addEventListener("dismiss",()=>{this.module="false",this.displayOff[0].classList.add("hidden"),O(U),this.requestUpdate()});const t=this.renderRoot?.querySelectorAll("uc-p-accordion");if(t.forEach(e=>e.addEventListener("update",e=>{e.target.open=e.detail.open})),"shown"!==this.showEssential){const e=this.renderRoot?.querySelectorAll(".category.essential");e.length>0&&(e[0].style.display="none")}if("unshown"===this.showFunctional){const e=this.renderRoot?.querySelectorAll(".category.functional");e.length>0&&(e[0].style.display="none")}if("unshown"===this.showMarketing){const e=this.renderRoot?.querySelectorAll(".category.marketing");e.length>0&&(e[0].style.display="none")}"true"===this.openAll&&t.forEach(e=>e.open=!0),"true"===this.module?b.setTrackingPixel({abTestVariant:b.getAbTestVariant(),eventType:T.aQ.CMP_SHOWN}):this.displayOff?.length>0&&this.displayOff[0].classList.add("hidden"),await this.waitForPDS(),this.observeVisibility()}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,(e,t,n)=>`${n&&t?"</uc-p-text>":""}<${t}uc-p-text-list${n?"-item":""}${n&&!t?`><uc-p-text size="${this.getTextSize()}"`:""}`)}getTextSize(){return"legacy"===window.ucSdk.variant?"xx-small":"{ base: 'x-small', s: 'small' }"}getDescription(e){const t=document.createElement("div");return t.innerHTML=this.formatTextLists(e),t.querySelector(".desc-short")||t||""}renderCategories(){if("legacy"!==window.ucSdk.variant)return Ye;let e=qe``;return b.getCategories().forEach((t,n)=>{const i=t.slug.charAt(0).toUpperCase()+t.slug.slice(1);if(!1===this[`show${i}`]||this[`hide${i}`])return;const s=t.isEssential||t.services.every(e=>e.consent.status);e=qe`${e}
        <div class="category cat${n+1} ${t.slug}">
          <div class="category-content" style="display:flex;">
            <uc-p-checkbox-wrapper
              style="display:flex; align-self:flex-start; margin-top: 3px"
              label="${t.label}"
              hide-label="true"
            >
              <input
                type="checkbox"
                data-slug="${t.slug}"
                .disabled="${t.isEssential}"
                .checked="${s}"
              />
            </uc-p-checkbox-wrapper>
            <uc-p-accordion
              class="category${n+1}"
              id="heading${n+1}"
              heading="${t.label}"
              heading-tag="h3"
              compact="true"
              open="${this.openAll?"true":"false"}"
              style="margin-inline-start: 16px; flex-grow: 1;"
            >
              <uc-p-text size="xx-small">${this.getDescription(t.description)}</uc-p-text>
            </uc-p-accordion>
          </div>
        </div>`}),e}static styles=[dt];render(){const e="legacy"!==window.ucSdk.variant,t=b.getSettings()?.labels?.buttons?.save,n=this.renderCategories();return qe`
      <uc-p-modal
        open=${this.module}
        aria="{ 'aria-label': '${this.modalInformation}' }"
        disable-backdrop-click="true"
        dismiss-button=${"true"===this.closeButton}
        class="modal"
        backdrop="shading"
        style="--p-modal-spacing-top: ${this.spacingTop}px; --p-modal-spacing-bottom: 50px;"
      >
        <div>
          <uc-description .largeFont="${e}"></uc-description>
          ${n!==Ye?qe`<div class="categories">${n}</div>`:Ye}
          ${"gpc"===window.ucSdk.variant&&t?qe`
                <uc-p-text size="{ base: 'x-small', s: 'small' }">
                  <uc-p-icon name="check"></uc-p-icon>${t}
                </uc-p-text>
              `:Ye}
        </div>

        <div slot="footer">
          <uc-footer
            class="footer"
            @save="${this.handleSave}"
            @accept="${this.handleAccept}"
            @deny="${this.handleDeny}"
          ></uc-footer>
        </div>
      </uc-p-modal>
    `}handleSave(){O(async()=>{const e=b.getCategories(),t=this.shadowRoot.querySelectorAll('input[type="checkbox"]:not([disabled])'),n=Array.from(t).flatMap(({checked:t,dataset:{slug:n}})=>e.filter(({slug:e})=>e===n).flatMap(({services:e})=>e.map(({id:e})=>({serviceId:e,status:t}))));await b.updateServices(n,F)}),this.close()}handleAccept(){O(k),this.close()}handleDeny(){O(U),this.close()}close(){this.module="false",this.displayOff[0].classList.add("hidden")}updateLang(){this.closeLayer=b.getSettings()._labels.ariaLabels.closeButton,this.requestUpdate()}async waitForPDS(){await((e=document.body,t="complete")=>{let n;const i=new Promise(e=>n=e),s=()=>{S().then(()=>E(e,n))};if(v(t))s();else{const e="readystatechange",n=()=>{v(t)&&(document.removeEventListener(e,n),s())};document.addEventListener(e,n)}return i})(),setTimeout(()=>{this.renderRoot?.querySelector(".pds-loading")?.classList.remove("pds-loading");const e=new Event("ucLayer2Shown");window.dispatchEvent(e)},100)}observeVisibility(){const e=this.renderRoot.querySelector("uc-p-modal");new IntersectionObserver(([{isIntersecting:t}])=>{e?.setAttribute("open",t&&"true"===this.module)}).observe(this)}});const ft=ae`
  .layer4 {
    max-width: 100vw;
  }

  .row {
    display: flex;
    justify-content: space-between;
    width: 100%;

    .state {
      position: relative;
      padding-left: 1.5em;
    }

    .state:before {
      content: '';
      width: 1.25em;
      height: 1.25em;
      border-radius: 49.9%;
      background: #959899;
      border: 1px solid #959899;
      position: absolute;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .state.true:before {
      background: #e3e4e4;
    }
  }

  .modal {
    width: 100%;
    max-height: 100%;

    .categories {
      position: fixed;
      top: calc(var(--p-flyout-sticky-top, 0) + 10px);
      bottom: 100px;
      width: 220px;
      overflow-y: scroll;
      display: flex;
      word-wrap: break-word;

      @media (max-width: 800px) {
        display: none;
      }
    }

    .listElement {
      max-width: 170px;
      margin-right: 10px;
      word-wrap: break-word;
    }

    .description {
      position: relative;
      margin-inline-start: 240px;

      @media (max-width: 800px) {
        margin-inline-start: 0;
      }

      .category,
      .service {
        scroll-margin-top: 110px;
      }

      .category-desc {
        uc-p-text-list {
          margin: 8px 0;
        }
      }
    }

    &.menu-collapsed {
      .categories {
        display: none;
      }

      .description {
        margin-inline-start: 0;
      }
    }
  }

  .menubar {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    position: relative;

    @media (max-width: 800px) {
      display: block;
    }
  }

  .logoMenu {
    margin-top: 20px;
    display: flex;
    user-select: none;
  }

  @media (max-width: 640px) {
    .logoMenu {
      display: none;
    }
  }

  @media (max-width: 800px) {
    .logoMenu {
      flex-direction: column;
      align-items: center;
      margin-top: 0;
    }
  }

  .menu {
    position: absolute;
    left: 199px;
    top: 14px;
    cursor: pointer;

    @media (max-width: 800px) {
      display: none;
    }

    &:dir(rtl) {
      left: unset;
      right: 199px;
    }
  }

  .search {
    margin-inline-start: calc(100% - 70%);
    margin-bottom: 10px;
  }

  @media (max-width: 800px) {
    .search {
      margin-top: 20px;
      margin-inline-start: 0;
      width: 100%;
    }
  }

  .close {
    cursor: pointer;
  }

  @media (max-width: 800px) {
    .menubar {
      margin-top: 14px;
    }
  }

  .checkbox {
    font:
      900 1rem / calc(6px + 2.125ex) 'Porsche Next',
      'Arial Narrow',
      Arial,
      'Heiti SC',
      SimHei,
      sans-serif;
  }

  .line {
    border: 1px solid rgb(153, 153, 153, 0.3);
    margin-right: 10px;
  }
`;customElements.define("uc-layer4",class extends ut{static get properties(){return{dialogVisible:{type:Boolean},shownValue:{type:String,attribute:!1}}}constructor(){super(),this.list=document.createElement("div"),this.info=document.createElement("div"),this.aName=[],this.aCategories=[],this.aInfo=[],this.aCompany=[],this.aPurposes=[],this.aPurposesList=[],this.aUsedTechnologies=[],this.aUsedTechnologiesList=[],this.aDataCollected=[],this.aDataCollectedList=[],this.aLegalBasis=[],this.aLegalBasisList=[],this.aLocation=[],this.aRetention=[],this.aDataRecipients=[],this.aDataRecipientsList=[],this.aUrls=[],this.aHistory=[],this.status=!1,this.theme="light",this.aCheckBox=[],this.checked="",this.serviceID="",this.nameList=[]}async firstUpdated(){for(let t=0;t<b.getCategories().length;t++){this.category=b.getCategories()[t].label,this.baseInfo=b.getCategories()[t],this.description=this.getDescription(b.getCategories()[t].description);for(let t=0;t<this.baseInfo.services.length;t++){if(this.name=this.baseInfo.services[t].name,this.nameList.push(this.name),this.aName.push(`<br><uc-p-button-pure icon="none" class="xList" data="${this.name}">${this.name}</uc-p-button-pure><br>`),this.status=this.baseInfo.services[t].consent.status,this.desc=this.baseInfo.services[t].description,this.serviceID=this.baseInfo.services[t].id,void 0!==this.baseInfo.services[t].processingCompany.name&&(this.processingCompanyTitle=b.getSettingsLabels().service.processingCompanyTitle,this.processingCompany=this.baseInfo.services[t].processingCompany.name,this.processingCompanyAddress=this.baseInfo.services[t].processingCompany.address,this.aCompany.push(`\n         <uc-p-text style="margin-top:20px" ><b>${this.processingCompanyTitle}</b>  <br> ${this.processingCompany}<br> ${this.processingCompanyAddress}<br> </uc-p-text>`)),this.baseInfo.services[t].dataPurposes.length>0){this.purposesTitle=b.getSettingsLabels().service.dataPurposes.title,this.purposesDesc=b.getSettingsLabels().service.dataPurposes.description;for(let e=0;e<this.baseInfo.services[t].dataPurposes.length;e++)this.purposesList=this.baseInfo.services[t].dataPurposes[e],this.aPurposesList.push(`<uc-p-text-list-item>${this.purposesList}</uc-p-text-list-item>`);this.aPurposes.push(`<uc-p-text style="margin-top:20px"><b>${this.purposesTitle}</b><br> ${this.purposesDesc}<br> <uc-p-text-list>${this.aPurposesList.join("")}</uc-p-text-list></uc-p-text>`),this.aPurposesList=[]}if(this.baseInfo.services[t].technologiesUsed.length>0){this.technologieTitle=b.getSettingsLabels().service.technologiesUsed.title,this.technologieDesc=b.getSettingsLabels().service.technologiesUsed.description;for(let e=0;e<this.baseInfo.services[t].technologiesUsed.length;e++)this.usedTechnologiesList=this.baseInfo.services[t].technologiesUsed[e],this.aUsedTechnologiesList.push(`<uc-p-text-list-item>${this.usedTechnologiesList}</uc-p-text-list-item>`);this.aUsedTechnologies.push(`<uc-p-text style="margin-top:20px"><b>${this.technologieTitle}</b><br> ${this.technologieDesc}<br> <uc-p-text-list>${this.aUsedTechnologiesList.join("")}</uc-p-text-list></uc-p-text>`),this.aUsedTechnologiesList=[]}if(this.baseInfo.services[t].legalBasis.length>0){this.legalBasisTitle=b.getSettingsLabels().service.legalBasis.title,this.legalBasisDesc=b.getSettingsLabels().service.legalBasis.description;for(let e=0;e<this.baseInfo.services[t].legalBasis.length;e++)this.legalBasisList=this.baseInfo.services[t].legalBasis[e],this.aLegalBasisList.push(`<uc-p-text-list-item>${this.legalBasisList}</uc-p-text-list-item>`);this.aLegalBasis.push(`<uc-p-text style="margin-top:20px"><b>${this.legalBasisTitle}</b><br> ${this.legalBasisDesc}<br> <uc-p-text-list>${this.aLegalBasisList.join("")}</uc-p-text-list></uc-p-text>`),this.aLegalBasisList=[]}if(this.baseInfo.services[t].dataCollected.length>0){this.dataCollectedTitle=b.getSettingsLabels().service.dataCollected.title,this.dataCollectedDesc=b.getSettingsLabels().service.dataCollected.description;for(let e=0;e<this.baseInfo.services[t].dataCollected.length;e++)this.dataCollectedList=this.baseInfo.services[t].dataCollected[e],this.aDataCollectedList.push(`<uc-p-text-list-item>${this.dataCollectedList}</uc-p-text-list-item>`);this.aDataCollected.push(`<uc-p-text style="margin-top:20px"><b>${this.dataCollectedTitle}</b><br> ${this.dataCollectedDesc}<br> <uc-p-text-list>${this.aDataCollectedList.join("")}</uc-p-text-list></uc-p-text>`),this.aDataCollectedList=[]}if(this.baseInfo.services[t].dataDistribution.processingLocation.length>0&&(this.processingLocationTitle=b.getSettingsLabels().service.dataDistribution.processingLocationTitle,this.processingLocationDesc=this.baseInfo.services[t].dataDistribution.processingLocation,this.aLocation.push(`<uc-p-text style="margin-top:20px"><b>${this.processingLocationTitle}</b><br> ${this.processingLocationDesc}<br> </uc-p-text>`)),this.baseInfo.services[t].retentionPeriodDescription.length>1?(this.retentionTitle=b.getSettingsLabels().service.retentionPeriod.title,this.retentionDesc=this.baseInfo.services[t].retentionPeriodDescription,this.aRetention.push(`<uc-p-text style="margin-top:20px"><b>${this.retentionTitle}</b><br> ${this.retentionDesc}<br> </uc-p-text>`)):(this.retentionTitle=b.getSettingsLabels().service.retentionPeriod.title,this.retentionDesc=b.getSettingsLabels().service.retentionPeriod.description,this.aRetention.push(`<uc-p-text style="margin-top:20px"><b>${this.retentionTitle}</b><br> ${this.retentionDesc}<br> </uc-p-text>`)),this.baseInfo.services[t].dataRecipients.length>0){this.dataRecipientsTitle=b.getSettingsLabels().service.dataRecipients.title;for(let e=0;e<this.baseInfo.services[t].dataRecipients.length;e++)this.dataRecipientsDesc=this.baseInfo.services[t].dataRecipients[e],this.aDataRecipientsList.push(`<uc-p-text-list-item>${this.dataRecipientsDesc}</uc-p-text-list-item>`);this.aDataRecipients.push(`<uc-p-text style="margin-top:20px"><b>${this.dataRecipientsTitle}</b><br><uc-p-text-list>${this.aDataRecipientsList.join("")}</uc-p-text-list></uc-p-text>`),this.aDataRecipientsList=[]}this.urlTitle=b.getSettingsLabels().service.urls.privacyPolicyTitle,this.url=this.baseInfo.services[t].urls.privacyPolicy,this.url&&this.aUrls.push(`<uc-p-text style="margin-top:20px"><b>${this.urlTitle}</b></uc-p-text>\n            ${this.url.split(";").map(e=>`<uc-p-link-pure icon="none" href="${e}" target="_blank" style="word-break: break-all;">${e}</uc-p-link-pure><br> `).join("")}\n            `),this.historyTitle=b.getSettingsLabels().service.history.title,this.aHistory.push(`<uc-p-text style="margin-top:20px"><b>${this.historyTitle}</b> </uc-p-text>`),this.aHistoryStatus=[];for(var e=0;e<this.baseInfo.services[t].consent.history.length;e++){if(this.history=this.baseInfo.services[t].consent.history[e].status,this.timestamp=this.baseInfo.services[t].consent.history[e].timestamp,this.timestamp){const e=new Date(this.timestamp);this.dateTimeString=e?e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+e.toLocaleTimeString():""}else this.dateTimeString="";this.statusString=b.getSettingsLabels().general.consentNotGiven,!0===this.history&&(this.statusString=b.getSettingsLabels().general.consentGiven),this.aHistoryStatus.push(`<uc-p-text><div class="row"><span class="state ${this.history}">${this.statusString}</span> <text style="">${this.dateTimeString}</text></div></uc-p-text>`)}!0===this.status?(this.checked="checked",!0===this.baseInfo.isEssential&&(this.checked=" disabled checked")):this.checked="",this.aCheckBox.push(`<br>\n            <div style="display:flex; margin-bottom:0.5em;"><uc-p-checkbox-wrapper label="${this.name}" hide-label="true" style="display:flex; align-self:flex-start" theme=${this.theme} class="service" data="${this.name}">\n              <input type="checkbox" ${this.checked} data-state="${this.status}" id="${this.serviceID}" class="check"/>\n              </uc-p-checkbox-wrapper><uc-p-text theme=${this.theme}></uc-p-text>\n              <div>\n                <uc-p-text style="margin-inline-start:5px"><font size="4"><b> ${this.name}</b></font></uc-p-text>\n              </div>\n            </div>\n            <uc-p-text>${this.desc}</uc-p-text>\n            ${this.aCompany.join("")}\n            ${this.aPurposes.join("")}\n            ${this.aUsedTechnologies.join("")}\n            ${this.aDataCollected.join("")}\n            ${this.aLegalBasis.join("")}\n            ${this.aLocation.join("")}\n            ${this.aRetention.join("")}\n            ${this.aDataRecipients.join("")}\n            ${this.aUrls.join("")}\n            ${this.aHistory.join("")}\n            ${this.aHistoryStatus.join("")}\n            <br>\n          `),this.aCompany=[],this.aPurposes=[],this.aUsedTechnologies=[],this.aDataCollected=[],this.aLegalBasis=[],this.aLocation=[],this.aRetention=[],this.aDataRecipients=[],this.aUrls=[],this.aHistory=[],this.aHistoryStatus=[]}this.aCategories.push(`\n         <uc-p-button-pure icon="none" class="button" style="font: 600 1rem" data="${this.category}"\n\n        ><font size="4"><b >${this.category}</b></font></uc-p-button-pure><br>${this.aName.join("")}<br><hr class="line"><br>`),this.aInfo.push(`<uc-p-heading tag="h3" size="large" class="category"> ${this.category}</uc-p-heading><br>\n        <uc-p-text class="category-desc">\n          ${this.description}\n        </uc-p-text><br> ${this.aCheckBox.join("")}\n\n        `),this.aName=[],this.aCheckBox=[],this.aCompany=[]}this.list.innerHTML=this.aCategories.join(""),this.info.innerHTML=this.aInfo.join(""),this.requestUpdate(),setTimeout(function(){window.serviceName},100),window.addEventListener("consents_changed_finished",()=>{this.module="false",this.requestUpdate()}),window.addEventListener("uc-layer4_hide",()=>{this.module="false",this.requestUpdate()}),window.addEventListener("uc-layer4_show",()=>{"true"===this.getAttribute("global")&&(this.module="true",this.requestUpdate())}),window.addEventListener("uc-layer4_scroll",()=>{var e=this.renderRoot?.querySelectorAll(".category"),t=this.renderRoot?.querySelectorAll(".service");for(let t=0;t<e.length;t++)window.serviceName===b.getCategories()[t].label&&e[t].scrollIntoView();for(let e=0;e<t.length;e++)window.serviceName===t[e].getAttribute("data")&&t[e].scrollIntoView()}),await new Promise(e=>setTimeout(e,0)),this.menuId=this.renderRoot?.querySelectorAll(".button"),this.menuList=this.renderRoot?.querySelectorAll(".xList");var t=this.renderRoot?.querySelectorAll(".category"),n=this.renderRoot?.querySelectorAll(".service");setTimeout(function(){for(let e=0;e<t.length;e++)window.serviceName===b.getCategories()[e].label&&t[e].scrollIntoView()},100),setTimeout(function(){for(let e=0;e<n.length;e++)window.serviceName===n[e].getAttribute("data")&&n[e].scrollIntoView()},100);for(let e=0;e<this.menuId.length;e++)this.menuId[e].addEventListener("click",()=>{t[e].scrollIntoView()});for(let e=0;e<this.menuList.length;e++)this.menuList[e].addEventListener("click",()=>{n[e].scrollIntoView()});const i=new IntersectionObserver(e=>e.forEach(e=>{e.isIntersecting&&(this.itemFocused=e.target)}),{rootMargin:"-100px 0px -50% 0px",threshold:1});this.renderRoot?.querySelectorAll(".category, .service").forEach(e=>{i.observe(e)})}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,(e,t,n)=>`<${t}uc-p-text-list${n?"-item":""}`)}getDescription(e){const t=document.createElement("div");return t.innerHTML=this.formatTextLists(e),t.querySelector(".desc-long")?.innerHTML||t.innerHTML||""}static styles=[ft];render(){return qe`
      <uc-p-flyout aria="{ 'aria-label': '' }" open="${this.module}" class="layer4" @dismiss="${this.handleSave}">

        <div slot="header">
          <div class=menubar>

            <div class="logoMenu">
              <div class="privacyLogo">
                <uc-p-wordmark size="inherit" style="height: 11px;"></uc-p-wordmark>
                <uc-p-button-pure
                  type="button"
                  icon="menu-lines"
                  hide-label="true"
                  aria="{ 'aria-label': 'Toggle side menu' }"
                  class="menu"
                  @click="${this.toggleSidebar}"
                ></uc-p-button-pure>
              </div>
            </div>

            <div class="search" aria-hidden="true">
              <uc-p-text-field-wrapper>
                <input type="search" name="some-name" id="search" value="${this.shownValue}" @change="${this.search}"/>
                <style>
                  /* clears the X from Internet Explorer */
                  input[type=search]::-ms-clear {
                    display: none;
                    width: 0;
                    height: 0;
                  }

                  input[type=search]::-ms-reveal {
                    display: none;
                    width: 0;
                    height: 0;
                  }

                  /* clears the X from Chrome */
                  input[type="search"]::-webkit-search-decoration,
                  input[type="search"]::-webkit-search-cancel-button,
                  input[type="search"]::-webkit-search-results-button,
                  input[type="search"]::-webkit-search-results-decoration {
                    display: none;
                  }
                </style>

              </uc-p-text-field-wrapper>
            </div>

          </div>
        </div>

        <div class="modal">
          <div class="categories" aria-hidden="true">
            <uc-p-text id="listElement" class="listElement"> ${this.list}
              <uc-p-text><br>
          </div>

          <div class="description">
            <uc-p-text> ${this.info}</uc-p-text>
          </div>
        </div>

        <div slot="footer">
          <uc-footer class="footer"
            @save="${this.handleSave}"
            @accept="${this.handleAccept}"
            @deny="${this.handleDeny}"
          ></uc-footer>
        </div>

      </uc-p-flyout>
    `}handleSave(){O(async()=>{const e=this.shadowRoot.querySelectorAll('input[type="checkbox"]:not([disabled])'),t=Array.from(e).filter(({checked:e,dataset:{state:t}})=>e.toString()!==t).map(({id:e,checked:t})=>({serviceId:e,status:t}));await b.updateServices(t,F)}),this.close()}handleAccept(){O(k),this.close()}handleDeny(){O(U),this.close()}close(){this.module="false",this.requestUpdate()}toggleSidebar(){const e=this.renderRoot?.querySelector(".modal");e.classList.toggle("menu-collapsed"),this.itemFocused?.scrollIntoView()}search(e){this.shownValue=e.srcElement.value;var t=this.renderRoot?.querySelectorAll(".service");for(let e=0;e<this.nameList.length;e++){new RegExp(this.shownValue,"gi").test(this.nameList[e])&&t[e].scrollIntoView()}}});const vt=ae`
  .widget {
    max-width: 800px;
    border: 1px;
    padding: 12px 10px 5px 10px;
    margin-bottom: 20px;

    .accordion {
      span[slot='heading'] {
        clip: rect(0, 0, 0, 0);
        position: absolute !important;
        overflow: hidden !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: 0 !important;
        border: 0 !important;
        white-space: nowrap !important;
      }
    }

    .category {
      position: relative;
      padding-right: 40px;
      margin-bottom: 24px;

      &:last-child {
        margin-bottom: 0;
      }

      .category-head {
        display: flex;
        align-items: center;
      }

      .category-text {
        margin: 22px 0 30px;

        uc-p-text-list {
          margin: 8px 0;
        }
      }

      .service {
        display: flex;
        margin-bottom: 24px;

        &:last-child {
          margin-bottom: 0;
        }

        .text {
          margin-inline-start: 10px;

          .name {
            display: flex;
          }
        }
      }
    }
  }
`;customElements.define("uc-widget",class extends ut{constructor(){super(),this.attachShadow({mode:"open"}),this.infoIcon=b.getSettings().labels.ariaLabels.ccpaMoreInformation,this.theme="light",(window.ucSdk.darkMode||window.ucSdk.darkWidget||document.getElementById("dark"))&&(this.theme="dark"),this.categories=b.getCategories(),this.html="",this.showInfo=document.createElement("div");for(let e=0;e<this.categories.length;e++){let t="",n=!0;for(let i=0;i<this.categories[e].services.length;i++){!0!==this.categories[e].services[i].consent.status&&(n=!1);let s="margin-bottom: 24px; display: flex;";i+1===this.categories[e].services.length&&(s="display: flex;"),t+=`<div class="service" style="${s}">\n            <uc-p-checkbox-wrapper theme=${this.theme} class="check" label="${this.categories[e].services[i].name}" hide-label="true" >\n              <input\n                type="checkbox"\n                name="check-${this.categories[e].services[i].id}"\n                id="check-${this.categories[e].services[i].id}"\n                data-id="${this.categories[e].services[i].id}"\n                class="check service ${this.categories[e].services[i].isEssential?"essential":""}"\n                ${!0===this.categories[e].services[i].consent.status?"checked":""}\n                ${!0===this.categories[e].services[i].isEssential?"disabled":""} />\n            </uc-p-checkbox-wrapper>\n\n            <div class="text">\n              <div class="name" style="display: flex;">\n                <uc-p-text theme=${this.theme}>\n                    <b style="${this.categories[e].isEssential?" color: #757575":""}">\n                        ${this.categories[e].services[i].name}\n                    </b>\n                </uc-p-text>\n\n                <uc-p-button-pure\n                  class="info-icon"\n                  icon="information"\n                  tabindex="0"\n                  id="info-${this.categories[e].services[i].id}"\n                  data-id="${this.categories[e].services[i].id}"\n                  data-name="${this.categories[e].services[i].name}"\n                  theme=${this.theme}\n\n                  aria="{ 'aria-label': '${this.infoIcon}' }"\n                  style="margin-inline-start:10px; cursor:pointer;">\n                </uc-p-button-pure>\n              </div>\n              <uc-p-text theme=${this.theme}>\n                  ${this.categories[e].services[i].description}\n              </uc-p-text>\n            </div>\n          </div>\n          `}this.html+=`<div class="category ${this.categories[e].isEssential?" essential":""}" style="padding-right: 40px; margin-bottom: 24px;">\n          <div class="category-head" style="display: flex;">\n            <uc-p-checkbox-wrapper label="${this.categories[e].label}" hide-label="true" theme=${this.theme}>\n              <input\n                  type="checkbox"\n                  name="check-${this.categories[e].slug}"\n                  id="check-${this.categories[e].slug}"\n                  data-id="${this.categories[e].slug}"\n                  class="check category"\n                  ${!this.categories[e].isEssential&&n?" checked":""}\n                  ${this.categories[e].isEssential?" disabled checked":""} />\n            </uc-p-checkbox-wrapper>\n            <uc-p-text theme=${this.theme} style="margin-inline-start:10px;">\n              <b style="font-size: 1.125rem;${this.categories[e].isEssential?" color:#757575":""}">\n                ${this.categories[e].label}\n              </b>\n            </uc-p-text>\n            <uc-p-button-pure\n              class="info-icon"\n              icon="information"\n\n              id="info-${this.categories[e].slug}"\n              data-id="${this.categories[e].slug}"\n              data-name="${this.categories[e].label}"\n              theme=${this.theme}\n\n              aria="{ 'aria-label': '${this.infoIcon}' }"\n              style="margin-inline-start:10px; cursor:pointer;">\n            </uc-p-button-pure>\n          </div>\n          <uc-p-accordion\n            theme=${this.theme}\n            id="accordion-${this.categories[e].label}"\n            heading-tag="h3"\n            style="position: relative;"\n            class="accordion"\n          >\n            <span slot="heading">${b.getSettings().labels.ariaLabels.expand}</span>\n\n            <uc-p-text class="category-text" theme=${this.theme} style="margin: 22px 0 30px;">\n               ${this.getDescription(this.categories[e].description)}\n            </uc-p-text>\n\n            ${t}\n          </uc-p-accordion>\n        </div>`}this.widget=document.createElement("div"),this.widget.innerHTML=this.html,this.requestUpdate(),window.addEventListener("uc-language_changed",()=>{this.updateLang()})}async firstUpdated(){window.addEventListener("consents_changed_finished",()=>{this.updateWidget()}),setTimeout(()=>{this.shadowRoot.querySelectorAll("uc-p-accordion").forEach(e=>{var t=document.createElement("style");t.innerHTML="#accordion-control { position:absolute; width: 24px; top: -41px; right: -40px;}",e.shadowRoot?.appendChild(t),e.addEventListener("update",e=>this.handleToggleAccordion(e))})},1),this.infoIcons=this.renderRoot?.querySelectorAll(".info-icon");for(let e=0;e<this.infoIcons.length;e++)this.infoIcons[e]?.addEventListener("click",e=>{this.openInfo(),window.serviceName=e.target.getAttribute("data-name")});this.categoryCheckboxes=this.renderRoot?.querySelectorAll("input.check.category:not(.essential)");for(let e=0;e<this.categoryCheckboxes.length;e++)this.categoryCheckboxes[e]?.addEventListener("change",e=>{let t=!1;const n=e.target.getAttribute("data-id"),i=[];e.target.checked&&(t=!0);for(let e=0;e<this.categories.length;e++)if(this.categories[e].slug===n)for(let n=0;n<this.categories[e].services.length;n++)i.push({serviceId:this.categories[e].services[n].id,status:t});b.updateServices(i,F)});this.serviceCheckboxes=this.renderRoot?.querySelectorAll("input.check.service:not(.essential)");for(let e=0;e<this.serviceCheckboxes.length;e++)this.serviceCheckboxes[e]?.addEventListener("change",e=>{let t=!1;const n=e.target.getAttribute("data-id");e.target.checked&&(t=!0),window.usercentrics.updateConsents([{templateId:n,status:t}])})}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,(e,t,n)=>`<${t}uc-p-text-list${n?"-item":""}`).replace("<uc-p-text-list>",`<uc-p-text-list theme="${this.theme}">`)}getDescription(e){const t=document.createElement("div");return t.innerHTML=this.formatTextLists(e),t.querySelector(".desc-long")?.innerHTML||t.innerHTML||""}static styles=[vt];render(){return qe` <div class="widget">${this.widget} ${this.showInfo}</div> `}handleToggleAccordion(e){e.target.open=e.detail.open,e.target.querySelector('span[slot="heading"]').innerText=e.detail.open?b.getSettings().labels.ariaLabels.collapse:b.getSettings().labels.ariaLabels.expand}openInfo(){this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}updateWidget(){this.categories=b.getCategories();for(let e=0;e<this.categories.length;e++){let t=!0;for(let n=0;n<this.categories[e].services.length;n++){if(!this.categories[e].services[n].isEssential){const i=this.renderRoot?.querySelector('input.check.service[data-id="'+this.categories[e].services[n].id+'"]');i&&(!0===this.categories[e].services[n].consent.status?i.checked=!0:(i.checked=!1,t=!1))}const i=this.renderRoot?.querySelector('input.check.category[data-id="'+this.categories[e].slug+'"]');i.checked=t}}}updateLang(){this.categories=b.getCategories();for(let e=0;e<this.categories.length;e++){const t=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-head uc-p-checkbox-wrapper"),n=t?.shadowRoot?.querySelector("label"),i=t?.querySelector("input"),s=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-head uc-p-text b"),r=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-text");n.innerHTML=this.categories[e].label,i.setAttribute("aria-label",this.categories[e].label),s.innerHTML=this.categories[e].label,r.innerHTML=this.getDescription(this.categories[e].description);for(let t=0;t<this.categories[e].services.length;t++){const n=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") div.service:nth-of-type("+(t+1)+")"),i=n?.querySelector("uc-p-checkbox-wrapper"),s=i?.shadowRoot?.querySelector("label"),r=i?.querySelector("input"),o=n?.querySelector(".name uc-p-text b"),a=n?.querySelector(".text > uc-p-text");s.innerHTML=this.categories[e].services[t].name,r.setAttribute("aria-label",this.categories[e].services[t].name),o.innerHTML=this.categories[e].services[t].name,a.innerHTML=this.categories[e].services[t].description}}this.requestUpdate()}});const St=ae`
  .ucmodal-content {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center center;
    background-color: rgba(0, 0, 0, 0.85);
    z-index: 3;
    color: #ffffff;
  }
  .distances {
    position: absolute;
    width: 75%;
    max-width: 996px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-height: 100%;
    overflow: auto;
  }

  .headline {
    margin-bottom: 20px;
  }
  .text {
    margin-bottom: 20px;
    margin-right: 20px;
  }

  .buttons {
    //padding-right: 50px;
    margin-bottom: 10px !important;
  }

  .save {
    margin-right: 20px;
    @media (max-width: 640px) {
      margin-bottom: 20px !important;
      margin-right: 0px;
      width: 100%;
    }
  }

  @media (max-width: 640px) {
    .privacy {
      width: 100%;
    }
  }

  .open-layer4 {
    text-decoration: underline;
  }
`;customElements.define("uc-privacyshield",class extends ut{constructor(){super(),this.headline="",this.text="",this.save="",this.privacy="",this.link="",this.callbackIndex=0,this.aTemplateId=[]}async firstUpdated(){if(window.addEventListener("consents_changed_finished",()=>{this.checkState()}),this.displayOff=this.renderRoot?.querySelectorAll(".ucmodal"),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.privacyIds=[],this.aName=[],this.nlName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.bgImageStyle=window.ucPrivacyShield?.bgimage?'background-image: url("'+window.ucPrivacyShield?.bgimage+'");':"",this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let t=0;t<b.getServices().length;t++)b.getServices()[t].id!==this.aTemplateId[e]&&b.getServices()[t].name!==this.aTemplateId[e].trim()&&b.getServices()[t].id!==w(this.aTemplateId[e].trim())||(this.privacyIds.push(b.getServices()[t].id),this.aName.push('<uc-p-button-pure theme="dark" icon="none" class="open-layer4" data-id="'+b.getServices()[t].id+'">'+b.getServices()[t].name+"</uc-p-button-pure>"),this.nlName.push(b.getServices()[t].name),window.infoName=b.getServices()[t].name);this.newText=this.text?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.newText=this.newText?.replaceAll(/###SERVICENAME###/gi,this.nlName.join(", ")),this.list.innerHTML=this.newText,this.checkState(),this.requestUpdate(),window.setTimeout(()=>{this.renderRoot?.querySelectorAll(".open-layer4").forEach(e=>{e.addEventListener("click",t=>{if(t.target!==this){for(let t=0;t<b.getServices().length;t++)e.innerHTML.includes(b.getServices()[t].name)&&(window.serviceName=b.getServices()[t].name);this.showInfo.style.zIndex="100",this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}})})},1)}static styles=[St];render(){return qe`
      <div class="ucmodal">
        <div class="ucmodal-content" style=${this.bgImageStyle}>
          <div class="distances" data-ol-has-click-handler>
            <uc-p-heading tag="h1" class="headline" theme="dark" size="large">${this.headline} </uc-p-heading>
            <uc-p-text class="text" theme="dark">${this.list}</uc-p-text>
            ${"gpc"===window.ucSdk.variant?Ye:qe`
                  <div class="buttons">
                    <uc-p-button theme="dark" class="save" @click=${this.accept}>${this.save}</uc-p-button>
                    <uc-p-link
                      theme="dark"
                      variant="secondary"
                      class="privacy"
                      href=${this.link||"#"}
                      target="_blank"
                    >
                      ${this.privacy}
                    </uc-p-link>
                  </div>
                `}
          </div>
        </div>
        ${this.showInfo}
      </div>
    `}accept(){this.privacyIds.forEach(function(e){window.usercentrics.updateConsents([{templateId:e,status:!0}])}),this.displayOff[0].style.display="none","function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){})}checkState(){let e=!0;this.privacyIds.forEach(t=>{window.usercentrics.getConsents(t).consentStatus||(e=!1,this.displayOff&&(this.displayOff[0].style.display=""))}),e&&(this.displayOff[0].style.display="none","function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){}))}});const Et=ae`
  .ucmodal-content {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 3;
  }

  .distances {
    max-width: 996px;
    background-color: white;
    border-radius: 12px;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 10;
    transform: translate(-50%, -50%);
    max-height: 100%;
    width: 75%;
    overflow: auto;
  }

  .headline {
    padding: 36px 36px 8px;
  }

  .text {
    padding: 0 36px 36px;
  }

  .buttons {
    padding: 0 36px 36px;
    margin-bottom: 10px !important;
  }

  @media (max-width: 640px) {
    .privacy {
      width: 100%;
    }
  }

  .save {
    margin-right: 20px;
  }

  @media (max-width: 640px) {
    .save {
      margin-bottom: 20px !important;
      width: 100%;
    }
  }

  .open-layer4 {
    text-decoration: underline;
  }
`;customElements.define("uc-newprivacyshield",class extends ut{constructor(){super(),this.headline="",this.text="",this.save="",this.privacy="",this.link="",this.callbackIndex=0,this.aTemplateId=[]}async firstUpdated(){if(this.displayOff=this.renderRoot?.querySelectorAll(".ucmodal"),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.privacyIds=[],this.aName=[],this.nlName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let t=0;t<b.getServices().length;t++)b.getServices()[t].id!==this.aTemplateId[e]&&b.getServices()[t].name!==this.aTemplateId[e].trim()&&b.getServices()[t].id!==w(this.aTemplateId[e].trim())||(this.privacyIds.push(b.getServices()[t].id),this.aName.push('<uc-p-button-pure  icon="none" class="open-layer4" data-id="'+b.getServices()[t].id+'">'+b.getServices()[t].name+"</uc-p-button-pure>"),this.nlName.push(b.getServices()[t].name),window.infoName=b.getServices()[t].name);this.newText=this.text?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.newText=this.newText?.replaceAll(/###SERVICENAME###/gi,this.nlName.join(", ")),this.list.innerHTML=this.newText,window.addEventListener("consents_changed_finished",()=>{this.checkState()}),this.checkState(),this.requestUpdate(),window.setTimeout(()=>{this.renderRoot?.querySelectorAll(".open-layer4").forEach(e=>{e.addEventListener("click",t=>{if(t.target!==this){for(let t=0;t<b.getServices().length;t++)e.innerHTML.includes(b.getServices()[t].name)&&(window.serviceName=b.getServices()[t].name);this.showInfo.style.zIndex="100",this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}})})},1)}static styles=[Et];render(){return qe`
      <div class="ucmodal">
        <div class="ucmodal-content">
          <div class="distances" data-ol-has-click-handler>
            <uc-p-heading tag="h1" class="headline" size="large">${this.headline}</uc-p-heading>
            <uc-p-text class="text">${this.list}</uc-p-text>
            ${"gpc"===window.ucSdk.variant?Ye:qe`
                  <div class="buttons">
                    <uc-p-button class="save" @click=${this.accept}>${this.save}</uc-p-button>
                    <uc-p-link variant="secondary" class="privacy" href=${this.link||"#"} target="_blank">
                      ${this.privacy}
                    </uc-p-link>
                  </div>
                `}
          </div>
        </div>
        ${this.showInfo}
      </div>
    `}triggerCallbacks(){window.ucPrivacyShield.callbacks&&"function"==typeof window.ucPrivacyShield.callbacks[this.callbackIndex]&&(window.ucPrivacyShield.callbacks[this.callbackIndex](),window.ucPrivacyShield.callbacks[this.callbackIndex]=function(){})}accept(){this.privacyIds.forEach(function(e){window.usercentrics.updateConsents([{templateId:e,status:!0}])}),this.displayOff&&(this.displayOff[0].style.display="none"),this.triggerCallbacks()}checkState(){let e=!0;this.privacyIds.forEach(t=>{window.usercentrics.getConsents(t).consentStatus||(e=!1,this.displayOff&&(this.displayOff[0].style.display=""))}),e&&(this.displayOff&&(this.displayOff[0].style.display="none"),this.triggerCallbacks())}})})()})();